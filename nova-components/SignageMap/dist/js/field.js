/*! For license information please see field.js.LICENSE.txt */
(()=>{var A,t={72:(A,t,e)=>{"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var A={};return function(t){if(void 0===A[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(A){e=null}A[t]=e}return A[t]}}(),s=[];function o(A){for(var t=-1,e=0;e<s.length;e++)if(s[e].identifier===A){t=e;break}return t}function a(A,t){for(var e={},n=[],i=0;i<A.length;i++){var r=A[i],a=t.base?r[0]+t.base:r[0],l=e[a]||0,c="".concat(a," ").concat(l);e[a]=l+1;var h=o(c),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:c,updater:B(u,t),references:1}),n.push(c)}return n}function l(A){var t=document.createElement("style"),n=A.attributes||{};if(void 0===n.nonce){var i=e.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach(function(A){t.setAttribute(A,n[A])}),"function"==typeof A.insert)A.insert(t);else{var s=r(A.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,h=(c=[],function(A,t){return c[A]=t,c.filter(Boolean).join("\n")});function u(A,t,e,n){var i=e?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(A.styleSheet)A.styleSheet.cssText=h(t,i);else{var r=document.createTextNode(i),s=A.childNodes;s[t]&&A.removeChild(s[t]),s.length?A.insertBefore(r,s[t]):A.appendChild(r)}}function d(A,t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i?A.setAttribute("media",i):A.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),A.styleSheet)A.styleSheet.cssText=n;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(n))}}var g=null,f=0;function B(A,t){var e,n,i;if(t.singleton){var r=f++;e=g||(g=l(t)),n=u.bind(null,e,r,!1),i=u.bind(null,e,r,!0)}else e=l(t),n=d.bind(null,e,t),i=function(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A)}(e)};return n(A),function(t){if(t){if(t.css===A.css&&t.media===A.media&&t.sourceMap===A.sourceMap)return;n(A=t)}else i()}}A.exports=function(A,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var e=a(A=A||[],t);return function(A){if(A=A||[],"[object Array]"===Object.prototype.toString.call(A)){for(var n=0;n<e.length;n++){var i=o(e[n]);s[i].references--}for(var r=a(A,t),l=0;l<e.length;l++){var c=o(e[l]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}e=r}}}},262:(A,t)=>{"use strict";t.A=(A,t)=>{const e=A.__vccOpts||A;for(const[A,n]of t)e[A]=n;return e}},314:A=>{"use strict";A.exports=function(A){var t=[];return t.toString=function(){return this.map(function(t){var e=A(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e}).join("")},t.i=function(A,e,n){"string"==typeof A&&(A=[[null,A,""]]);var i={};if(n)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var o=0;o<A.length;o++){var a=[].concat(A[o]);n&&i[a[0]]||(e&&(a[2]?a[2]="".concat(e," and ").concat(a[2]):a[2]=e),t.push(a))}},t}},341:function(A){A.exports=function(){"use strict";function A(A,n,i,r,s){!function A(e,n,i,r,s){for(;r>i;){if(r-i>600){var o=r-i+1,a=n-i+1,l=Math.log(o),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1);A(e,n,Math.max(i,Math.floor(n-a*c/o+h)),Math.min(r,Math.floor(n+(o-a)*c/o+h)),s)}var u=e[n],d=i,g=r;for(t(e,i,n),s(e[r],u)>0&&t(e,i,r);d<g;){for(t(e,d,g),d++,g--;s(e[d],u)<0;)d++;for(;s(e[g],u)>0;)g--}0===s(e[i],u)?t(e,i,g):t(e,++g,r),g<=n&&(i=g+1),n<=g&&(r=g-1)}}(A,n,i||0,r||A.length-1,s||e)}function t(A,t,e){var n=A[t];A[t]=A[e],A[e]=n}function e(A,t){return A<t?-1:A>t?1:0}var n=function(A){void 0===A&&(A=9),this._maxEntries=Math.max(4,A),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(A,t,e){if(!e)return t.indexOf(A);for(var n=0;n<t.length;n++)if(e(A,t[n]))return n;return-1}function r(A,t){s(A,0,A.children.length,t,A)}function s(A,t,e,n,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var r=t;r<e;r++){var s=A.children[r];o(i,A.leaf?n(s):s)}return i}function o(A,t){return A.minX=Math.min(A.minX,t.minX),A.minY=Math.min(A.minY,t.minY),A.maxX=Math.max(A.maxX,t.maxX),A.maxY=Math.max(A.maxY,t.maxY),A}function a(A,t){return A.minX-t.minX}function l(A,t){return A.minY-t.minY}function c(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function h(A){return A.maxX-A.minX+(A.maxY-A.minY)}function u(A,t){return A.minX<=t.minX&&A.minY<=t.minY&&t.maxX<=A.maxX&&t.maxY<=A.maxY}function d(A,t){return t.minX<=A.maxX&&t.minY<=A.maxY&&t.maxX>=A.minX&&t.maxY>=A.minY}function g(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(t,e,n,i,r){for(var s=[e,n];s.length;)if(!((n=s.pop())-(e=s.pop())<=i)){var o=e+Math.ceil((n-e)/i/2)*i;A(t,o,e,n,r),s.push(e,o,o,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(A){var t=this.data,e=[];if(!d(A,t))return e;for(var n=this.toBBox,i=[];t;){for(var r=0;r<t.children.length;r++){var s=t.children[r],o=t.leaf?n(s):s;d(A,o)&&(t.leaf?e.push(s):u(A,o)?this._all(s,e):i.push(s))}t=i.pop()}return e},n.prototype.collides=function(A){var t=this.data;if(!d(A,t))return!1;for(var e=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],r=t.leaf?this.toBBox(i):i;if(d(A,r)){if(t.leaf||u(A,r))return!0;e.push(i)}}t=e.pop()}return!1},n.prototype.load=function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var t=0;t<A.length;t++)this.insert(A[t]);return this}var e=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},n.prototype.insert=function(A){return A&&this._insert(A,this.data.height-1),this},n.prototype.clear=function(){return this.data=g([]),this},n.prototype.remove=function(A,t){if(!A)return this;for(var e,n,r,s=this.data,o=this.toBBox(A),a=[],l=[];s||a.length;){if(s||(s=a.pop(),n=a[a.length-1],e=l.pop(),r=!0),s.leaf){var c=i(A,s.children,t);if(-1!==c)return s.children.splice(c,1),a.push(s),this._condense(a),this}r||s.leaf||!u(s,o)?n?(e++,s=n.children[e],r=!1):s=null:(a.push(s),l.push(e),e=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(A){return A},n.prototype.compareMinX=function(A,t){return A.minX-t.minX},n.prototype.compareMinY=function(A,t){return A.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(A){return this.data=A,this},n.prototype._all=function(A,t){for(var e=[];A;)A.leaf?t.push.apply(t,A.children):e.push.apply(e,A.children),A=e.pop();return t},n.prototype._build=function(A,t,e,n){var i,s=e-t+1,o=this._maxEntries;if(s<=o)return r(i=g(A.slice(t,e+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(i=g([])).leaf=!1,i.height=n;var a=Math.ceil(s/o),l=a*Math.ceil(Math.sqrt(o));f(A,t,e,l,this.compareMinX);for(var c=t;c<=e;c+=l){var h=Math.min(c+l-1,e);f(A,c,h,a,this.compareMinY);for(var u=c;u<=h;u+=a){var d=Math.min(u+a-1,h);i.children.push(this._build(A,u,d,n-1))}}return r(i,this.toBBox),i},n.prototype._chooseSubtree=function(A,t,e,n){for(;n.push(t),!t.leaf&&n.length-1!==e;){for(var i=1/0,r=1/0,s=void 0,o=0;o<t.children.length;o++){var a=t.children[o],l=c(a),h=(u=A,d=a,(Math.max(d.maxX,u.maxX)-Math.min(d.minX,u.minX))*(Math.max(d.maxY,u.maxY)-Math.min(d.minY,u.minY))-l);h<r?(r=h,i=l<i?l:i,s=a):h===r&&l<i&&(i=l,s=a)}t=s||t.children[0]}var u,d;return t},n.prototype._insert=function(A,t,e){var n=e?A:this.toBBox(A),i=[],r=this._chooseSubtree(n,this.data,t,i);for(r.children.push(A),o(r,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},n.prototype._split=function(A,t){var e=A[t],n=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,n);var s=this._chooseSplitIndex(e,i,n),o=g(e.children.splice(s,e.children.length-s));o.height=e.height,o.leaf=e.leaf,r(e,this.toBBox),r(o,this.toBBox),t?A[t-1].children.push(o):this._splitRoot(e,o)},n.prototype._splitRoot=function(A,t){this.data=g([A,t]),this.data.height=A.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(A,t,e){for(var n,i,r,o,a,l,h,u=1/0,d=1/0,g=t;g<=e-t;g++){var f=s(A,0,g,this.toBBox),B=s(A,g,e,this.toBBox),p=(i=f,r=B,o=void 0,a=void 0,l=void 0,h=void 0,o=Math.max(i.minX,r.minX),a=Math.max(i.minY,r.minY),l=Math.min(i.maxX,r.maxX),h=Math.min(i.maxY,r.maxY),Math.max(0,l-o)*Math.max(0,h-a)),w=c(f)+c(B);p<u?(u=p,n=g,d=w<d?w:d):p===u&&w<d&&(d=w,n=g)}return n||e-t},n.prototype._chooseSplitAxis=function(A,t,e){var n=A.leaf?this.compareMinX:a,i=A.leaf?this.compareMinY:l;this._allDistMargin(A,t,e,n)<this._allDistMargin(A,t,e,i)&&A.children.sort(n)},n.prototype._allDistMargin=function(A,t,e,n){A.children.sort(n);for(var i=this.toBBox,r=s(A,0,t,i),a=s(A,e-t,e,i),l=h(r)+h(a),c=t;c<e-t;c++){var u=A.children[c];o(r,A.leaf?i(u):u),l+=h(r)}for(var d=e-t-1;d>=t;d--){var g=A.children[d];o(a,A.leaf?i(g):g),l+=h(a)}return l},n.prototype._adjustParentBBoxes=function(A,t,e){for(var n=e;n>=0;n--)o(t[n],A)},n.prototype._condense=function(A){for(var t=A.length-1,e=void 0;t>=0;t--)0===A[t].children.length?t>0?(e=A[t-1].children).splice(e.indexOf(A[t]),1):this.clear():r(A[t],this.toBBox)},n}()},463:(A,t,e)=>{"use strict";e.d(t,{A:()=>r});var n=e(314),i=e.n(n)()(function(A){return A[1]});i.push([A.id,'.signage-arrows-container[data-v-53cbe1b3]{display:flex;flex-direction:column;gap:20px;padding:12px 0}.route-signage-block[data-v-53cbe1b3]{display:flex;flex-direction:column;gap:12px}.signage-arrow-wrapper[data-v-53cbe1b3]{display:flex;justify-content:flex-start}.signage-arrow[data-v-53cbe1b3]{align-items:stretch;display:flex;filter:drop-shadow(1px 2px 3px rgba(0,0,0,.15));height:150px;max-width:400px;min-width:400px;width:400px}.signage-arrow.forward[data-v-53cbe1b3]{margin-left:30px}.arrow-body[data-v-53cbe1b3]{align-items:stretch;background:#fff;border:1px solid #000;display:flex;flex-grow:1;height:100%}.forward .arrow-body[data-v-53cbe1b3]{border-right:none}.backward .arrow-body[data-v-53cbe1b3]{border-left:none}.route-id-column[data-v-53cbe1b3]{display:flex;flex-direction:column;max-width:70px;min-width:55px}.route-id-red[data-v-53cbe1b3]{background:#c41e3a;flex:1}.forward .route-id-red[data-v-53cbe1b3]{border-right:1px solid #000}.backward .route-id-red[data-v-53cbe1b3]{border-left:1px solid #000}.route-id-box[data-v-53cbe1b3]{align-items:center;background:#fff;border:1px solid #000;color:#000;display:flex;flex:1;font-family:Arial,sans-serif;font-size:20px;font-weight:700;justify-content:center;overflow:hidden;padding:6px 14px;text-overflow:ellipsis;white-space:nowrap}.forward .route-id-box[data-v-53cbe1b3]{border-left:none}.backward .route-id-column[data-v-53cbe1b3]{order:2}.backward .route-id-box[data-v-53cbe1b3]{border-right:none}.backward .destinations-list[data-v-53cbe1b3]{order:1}.destinations-list[data-v-53cbe1b3]{display:flex;flex-direction:column;flex-grow:1;min-height:100%;padding:4px 0}.destinations-list[data-v-53cbe1b3],.destinations-list--single[data-v-53cbe1b3]{justify-content:center}.destination-row[data-v-53cbe1b3]{align-items:center;display:flex;flex:1;gap:30px;justify-content:space-between;padding:2px 16px;position:relative}.destination-row--with-separator[data-v-53cbe1b3]:after{border-bottom:1px solid #000;bottom:0;content:"";left:16px;position:absolute;right:0}.forward .destination-row--with-separator[data-v-53cbe1b3]:after{left:16px;right:0}.backward .destination-row--with-separator[data-v-53cbe1b3]:after{left:0;right:16px}.destination-info[data-v-53cbe1b3]{align-items:flex-start;display:flex;flex:1;flex-direction:column;gap:4px;max-width:180px;min-width:0}.destination-name[data-v-53cbe1b3]{color:#000;font-size:15px;font-weight:600}.destination-description[data-v-53cbe1b3],.destination-name[data-v-53cbe1b3]{font-family:Arial,sans-serif;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.destination-description[data-v-53cbe1b3]{color:#666;font-size:10px;font-weight:400;line-height:1.2}.destination-distance[data-v-53cbe1b3],.destination-time[data-v-53cbe1b3]{color:#000;font-family:Arial,sans-serif;font-size:13px;font-weight:700}.destination-time[data-v-53cbe1b3]{min-width:55px;text-align:right}.destination-meta[data-v-53cbe1b3]{align-items:flex-end;display:flex;flex-direction:column;gap:2px}.arrow-point-right[data-v-53cbe1b3]{clip-path:polygon(0 0,0 100%,100% 50%)}.arrow-point-left[data-v-53cbe1b3],.arrow-point-right[data-v-53cbe1b3]{align-self:stretch;background:#c41e3a;min-width:30px;width:30px}.arrow-point-left[data-v-53cbe1b3]{clip-path:polygon(100% 0,100% 100%,0 50%)}.no-signage-data[data-v-53cbe1b3]{color:#6b7280;font-style:italic;padding:16px;text-align:center}.arrow-direction-control[data-v-53cbe1b3]{left:-48px;position:absolute;top:50%;transform:translateY(-50%);z-index:10}.arrow-direction-btn[data-v-53cbe1b3]{align-items:center;background:#3490dc;border:none;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2);color:#fff;cursor:pointer;display:flex;height:28px;justify-content:center;padding:0;transition:all .2s;width:28px}.arrow-direction-btn[data-v-53cbe1b3]:hover{background:#2779bd;transform:scale(1.1)}.arrow-direction-btn[data-v-53cbe1b3]:active{background:#1c6ca8;transform:scale(.95)}.arrow-direction-btn svg[data-v-53cbe1b3]{height:14px;width:14px}.signage-arrow-wrapper[data-v-53cbe1b3]{position:relative}.arrow-order-controls[data-v-53cbe1b3]{display:flex;flex-direction:column;gap:6px;position:absolute;right:-48px;top:50%;transform:translateY(-50%);z-index:10}.arrow-order-btn[data-v-53cbe1b3]{background:#f3f4f6;border:1px solid #d1d5db;border-radius:6px;color:#111827;cursor:pointer;font-size:12px;height:26px;line-height:1;transition:background .15s ease,transform .15s ease;width:26px}.arrow-order-btn[data-v-53cbe1b3]:hover:enabled{background:#e5e7eb;transform:translateY(-1px)}.arrow-order-btn[data-v-53cbe1b3]:disabled{cursor:not-allowed;opacity:.5}',""]);const r=i},613:()=>{},728:(A,t,e)=>{"use strict";e.d(t,{A:()=>r});var n=e(314),i=e.n(n)()(function(A){return A[1]});i.push([A.id,".feature-collection-map-container[data-v-9d0b936c]{position:relative;width:100%}.map-container[data-v-9d0b936c]{border-radius:4px;height:var(--v5727ffa8);overflow:hidden;width:100%}.map-tooltip[data-v-9d0b936c]{background-color:rgba(0,0,0,.8);border-radius:4px;color:#fff;font-size:12px;padding:4px 8px;pointer-events:none;position:absolute;white-space:nowrap;z-index:100}.screenshot-button[data-v-9d0b936c]{background-color:#0ea5e9;border:none;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,.2);color:#fff;cursor:pointer;font-size:14px;font-weight:500;padding:8px 16px;position:absolute;right:10px;top:10px;transition:background-color .2s,opacity .2s;z-index:1000}.screenshot-button[data-v-9d0b936c]:hover:not(:disabled){background-color:#0284c7}.screenshot-button[data-v-9d0b936c]:disabled{cursor:not-allowed;opacity:.6}.loading-overlay[data-v-9d0b936c]{align-items:center;background-color:hsla(0,0%,100%,.9);border-radius:4px;bottom:0;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:1000}.loading-spinner[data-v-9d0b936c]{animation:spin-9d0b936c 1s linear infinite;border:4px solid #f3f4f6;border-radius:50%;border-top-color:#0ea5e9;height:40px;width:40px}.loading-text[data-v-9d0b936c]{color:#6b7280;font-size:14px;font-weight:500;margin-top:12px}@keyframes spin-9d0b936c{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.map-loading[data-v-9d0b936c]{opacity:.5;pointer-events:none}",""]);const r=i},748:(A,t,e)=>{"use strict";const n=Vue;function i(A){return function(A){if(Array.isArray(A))return r(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function(A,t){if(A){if("string"==typeof A)return r(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(A,t):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,n=Array(t);e<t;e++)n[e]=A[e];return n}var s={style:{position:"relative"}},o={style:{position:"absolute",top:"10px",right:"10px","z-index":"1000"}},a={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",style:{display:"inline-block","vertical-align":"middle","margin-right":"4px"}},l={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center p-4",role:"dialog","aria-modal":"true"},c={class:"relative z-10 bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl flex flex-col signage-map-popup-modal"},h={class:"bg-primary-500 dark:bg-primary-600 px-6 py-4 flex-shrink-0"},u={class:"text-lg font-semibold text-white"},d={class:"px-6 py-4 overflow-y-auto flex-1 min-h-0"},g={class:"text-gray-600 dark:text-gray-400 text-sm"},f={class:"mt-4 flex items-center justify-between"},B=["disabled","aria-checked"],p={key:0,class:"mt-4"},w=["value"],m={key:1,class:"mt-4"},C={class:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-1 block"},y={key:0,class:"text-xs text-gray-400 ml-2"},Q={class:"mb-2 flex gap-2 flex-wrap"},F=["disabled"],_=["placeholder","disabled"],v={key:2,class:"mt-4"},U={class:"mt-4"},E=["disabled"],x={class:"mt-4 border-t border-gray-200 dark:border-gray-600 pt-4 overflow-x-auto pr-2"},b={class:"px-6 py-4 bg-gray-100 dark:bg-gray-700 flex justify-end items-center gap-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0"},I=["href"];function S(A){return function(A){if(Array.isArray(A))return H(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function(A,t){if(A){if("string"==typeof A)return H(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?H(A,t):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,n=Array(t);e<t;e++)n[e]=A[e];return n}var L={class:"feature-collection-map-container"},T={key:0,class:"loading-overlay"},M={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4",role:"dialog","aria-modal":"true"},D={class:"relative z-20 bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden w-full max-w-md"},K={class:"bg-primary-500 dark:bg-primary-600 px-6 py-4"},R={class:"text-lg font-semibold text-white"},k={class:"px-6 py-4 bg-gray-100 dark:bg-gray-700 flex justify-end items-center gap-3 border-t border-gray-200 dark:border-gray-600"},O=["href"];const P=class{constructor(A){this.propagationStopped,this.defaultPrevented,this.type=A,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},G="propertychange";const N=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function V(A,t){return A>t?1:A<t?-1:0}function X(A,t,e){if(A[0]<=t)return 0;const n=A.length;if(t<=A[n-1])return n-1;if("function"==typeof e){for(let i=1;i<n;++i){const n=A[i];if(n===t)return i;if(n<t)return e(t,A[i-1],n)>0?i-1:i}return n-1}if(e>0){for(let e=1;e<n;++e)if(A[e]<t)return e-1;return n-1}if(e<0){for(let e=1;e<n;++e)if(A[e]<=t)return e;return n-1}for(let e=1;e<n;++e){if(A[e]==t)return e;if(A[e]<t)return A[e-1]-t<t-A[e]?e-1:e}return n-1}function W(A,t,e){for(;t<e;){const n=A[t];A[t]=A[e],A[e]=n,++t,--e}}function Y(A,t){const e=Array.isArray(t)?t:[t],n=e.length;for(let t=0;t<n;t++)A[A.length]=e[t]}function j(A,t){const e=A.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(A[n]!==t[n])return!1;return!0}function J(){return!0}function Z(){return!1}function z(){}function q(A){let t,e,n,i=!1;return function(){const r=Array.prototype.slice.call(arguments);return i&&this===n&&j(r,e)||(i=!0,n=this,e=r,t=A.apply(this,arguments)),t}}function $(A){for(const t in A)delete A[t]}function AA(A){let t;for(t in A)return!1;return!t}const tA=class extends N{constructor(A){super(),this.eventTarget_=A,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(A,t){if(!A||!t)return;const e=this.listeners_||(this.listeners_={}),n=e[A]||(e[A]=[]);n.includes(t)||n.push(t)}dispatchEvent(A){const t="string"==typeof A,e=t?A:A.type,n=this.listeners_&&this.listeners_[e];if(!n)return;const i=t?new P(A):A;i.target||(i.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let o;e in r||(r[e]=0,s[e]=0),++r[e];for(let A=0,t=n.length;A<t;++A)if(o="handleEvent"in n[A]?n[A].handleEvent(i):n[A].call(this,i),!1===o||i.propagationStopped){o=!1;break}if(0===--r[e]){let A=s[e];for(delete s[e];A--;)this.removeEventListener(e,z);delete r[e]}return o}disposeInternal(){this.listeners_&&$(this.listeners_)}getListeners(A){return this.listeners_&&this.listeners_[A]||void 0}hasListener(A){return!!this.listeners_&&(A?A in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(A,t){if(!this.listeners_)return;const e=this.listeners_[A];if(!e)return;const n=e.indexOf(t);-1!==n&&(this.pendingRemovals_&&A in this.pendingRemovals_?(e[n]=z,++this.pendingRemovals_[A]):(e.splice(n,1),0===e.length&&delete this.listeners_[A]))}},eA="change",nA="error",iA="contextmenu",rA="click",sA="dblclick",oA="keydown",aA="keypress",lA="load",cA="touchmove",hA="wheel";function uA(A,t,e,n,i){if(n&&n!==A&&(e=e.bind(n)),i){const n=e;e=function(){A.removeEventListener(t,e),n.apply(this,arguments)}}const r={target:A,type:t,listener:e};return A.addEventListener(t,e),r}function dA(A,t,e,n){return uA(A,t,e,n,!0)}function gA(A){A&&A.target&&(A.target.removeEventListener(A.type,A.listener),$(A))}class fA extends tA{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(eA)}getRevision(){return this.revision_}onInternal(A,t){if(Array.isArray(A)){const e=A.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=uA(this,A[i],t);return n}return uA(this,A,t)}onceInternal(A,t){let e;if(Array.isArray(A)){const n=A.length;e=new Array(n);for(let i=0;i<n;++i)e[i]=dA(this,A[i],t)}else e=dA(this,A,t);return t.ol_key=e,e}unInternal(A,t){const e=t.ol_key;if(e)!function(A){if(Array.isArray(A))for(let t=0,e=A.length;t<e;++t)gA(A[t]);else gA(A)}(e);else if(Array.isArray(A))for(let e=0,n=A.length;e<n;++e)this.removeEventListener(A[e],t);else this.removeEventListener(A,t)}}fA.prototype.on,fA.prototype.once,fA.prototype.un;const BA=fA;function pA(){throw new Error("Unimplemented abstract method.")}let wA=0;function mA(A){return A.ol_uid||(A.ol_uid=String(++wA))}class CA extends P{constructor(A,t,e){super(A),this.key=t,this.oldValue=e}}const yA=class extends BA{constructor(A){super(),this.on,this.once,this.un,mA(this),this.values_=null,void 0!==A&&this.setProperties(A)}get(A){let t;return this.values_&&this.values_.hasOwnProperty(A)&&(t=this.values_[A]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(A,t){let e;e=`change:${A}`,this.hasListener(e)&&this.dispatchEvent(new CA(e,A,t)),e=G,this.hasListener(e)&&this.dispatchEvent(new CA(e,A,t))}addChangeListener(A,t){this.addEventListener(`change:${A}`,t)}removeChangeListener(A,t){this.removeEventListener(`change:${A}`,t)}set(A,t,e){const n=this.values_||(this.values_={});if(e)n[A]=t;else{const e=n[A];n[A]=t,e!==t&&this.notify(A,e)}}setProperties(A,t){for(const e in A)this.set(e,A[e],t)}applyProperties(A){A.values_&&Object.assign(this.values_||(this.values_={}),A.values_)}unset(A,t){if(this.values_&&A in this.values_){const e=this.values_[A];delete this.values_[A],AA(this.values_)&&(this.values_=null),t||this.notify(A,e)}}},QA="add",FA="remove",_A="length";class vA extends P{constructor(A,t,e){super(A),this.element=t,this.index=e}}const UA=class extends yA{constructor(A,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=A||[],this.unique_)for(let A=0,t=this.array_.length;A<t;++A)this.assertUnique_(this.array_[A],A);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(A){for(let t=0,e=A.length;t<e;++t)this.push(A[t]);return this}forEach(A){const t=this.array_;for(let e=0,n=t.length;e<n;++e)A(t[e],e,t)}getArray(){return this.array_}item(A){return this.array_[A]}getLength(){return this.get(_A)}insertAt(A,t){if(A<0||A>this.getLength())throw new Error("Index out of bounds: "+A);this.unique_&&this.assertUnique_(t),this.array_.splice(A,0,t),this.updateLength_(),this.dispatchEvent(new vA(QA,t,A))}pop(){return this.removeAt(this.getLength()-1)}push(A){this.unique_&&this.assertUnique_(A);const t=this.getLength();return this.insertAt(t,A),this.getLength()}remove(A){const t=this.array_;for(let e=0,n=t.length;e<n;++e)if(t[e]===A)return this.removeAt(e)}removeAt(A){if(A<0||A>=this.getLength())return;const t=this.array_[A];return this.array_.splice(A,1),this.updateLength_(),this.dispatchEvent(new vA(FA,t,A)),t}setAt(A,t){if(A>=this.getLength())return void this.insertAt(A,t);if(A<0)throw new Error("Index out of bounds: "+A);this.unique_&&this.assertUnique_(t,A);const e=this.array_[A];this.array_[A]=t,this.dispatchEvent(new vA(FA,e,A)),this.dispatchEvent(new vA(QA,t,A))}updateLength_(){this.set(_A,this.array_.length)}assertUnique_(A,t){for(let e=0,n=this.array_.length;e<n;++e)if(this.array_[e]===A&&e!==t)throw new Error("Duplicate item added to a unique collection")}},EA="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",xA=EA.includes("firefox"),bA=(EA.includes("safari")&&!EA.includes("chrom")&&(EA.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(EA)),EA.includes("webkit")&&!EA.includes("edge")),IA=EA.includes("macintosh"),SA="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,HA="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,LA="undefined"!=typeof Image&&Image.prototype.decode,TA=function(){let A=!1;try{const t=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(A){}return A}();function MA(A,t){if(!A)throw new Error(t)}new Array(6);function DA(A,t,e,n,i,r,s){return A[0]=t,A[1]=e,A[2]=n,A[3]=i,A[4]=r,A[5]=s,A}function KA(A,t){const e=t[0],n=t[1];return t[0]=A[0]*e+A[2]*n+A[4],t[1]=A[1]*e+A[3]*n+A[5],t}function RA(A,t,e,n,i,r,s,o){const a=Math.sin(r),l=Math.cos(r);return A[0]=n*l,A[1]=i*a,A[2]=-n*a,A[3]=i*l,A[4]=s*n*l-o*n*a+t,A[5]=s*i*a+o*i*l+e,A}function kA(A,t){const e=(n=t)[0]*n[3]-n[1]*n[2];var n;MA(0!==e,"Transformation matrix cannot be inverted");const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5];return A[0]=o/e,A[1]=-r/e,A[2]=-s/e,A[3]=i/e,A[4]=(s*l-o*a)/e,A[5]=-(i*l-r*a)/e,A}let OA;function PA(A){const t="matrix("+A.join(", ")+")";if(HA)return t;const e=OA||(OA=document.createElement("div"));return e.style.transform=t,e.style.transform}const GA=0,NA=1,VA=2,XA=4,WA=8,YA=16;function jA(A){const t=et();for(let e=0,n=A.length;e<n;++e)lt(t,A[e]);return t}function JA(A,t,e){return e?(e[0]=A[0]-t,e[1]=A[1]-t,e[2]=A[2]+t,e[3]=A[3]+t,e):[A[0]-t,A[1]-t,A[2]+t,A[3]+t]}function ZA(A,t){return t?(t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t):A.slice()}function zA(A,t,e){let n,i;return n=t<A[0]?A[0]-t:A[2]<t?t-A[2]:0,i=e<A[1]?A[1]-e:A[3]<e?e-A[3]:0,n*n+i*i}function qA(A,t){return At(A,t[0],t[1])}function $A(A,t){return A[0]<=t[0]&&t[2]<=A[2]&&A[1]<=t[1]&&t[3]<=A[3]}function At(A,t,e){return A[0]<=t&&t<=A[2]&&A[1]<=e&&e<=A[3]}function tt(A,t){const e=A[0],n=A[1],i=A[2],r=A[3],s=t[0],o=t[1];let a=GA;return s<e?a|=YA:s>i&&(a|=XA),o<n?a|=WA:o>r&&(a|=VA),a===GA&&(a=NA),a}function et(){return[1/0,1/0,-1/0,-1/0]}function nt(A,t,e,n,i){return i?(i[0]=A,i[1]=t,i[2]=e,i[3]=n,i):[A,t,e,n]}function it(A){return nt(1/0,1/0,-1/0,-1/0,A)}function rt(A,t){const e=A[0],n=A[1];return nt(e,n,e,n,t)}function st(A,t,e,n,i){return ct(it(i),A,t,e,n)}function ot(A,t){return A[0]==t[0]&&A[2]==t[2]&&A[1]==t[1]&&A[3]==t[3]}function at(A,t){return t[0]<A[0]&&(A[0]=t[0]),t[2]>A[2]&&(A[2]=t[2]),t[1]<A[1]&&(A[1]=t[1]),t[3]>A[3]&&(A[3]=t[3]),A}function lt(A,t){t[0]<A[0]&&(A[0]=t[0]),t[0]>A[2]&&(A[2]=t[0]),t[1]<A[1]&&(A[1]=t[1]),t[1]>A[3]&&(A[3]=t[1])}function ct(A,t,e,n,i){for(;e<n;e+=i)ht(A,t[e],t[e+1]);return A}function ht(A,t,e){A[0]=Math.min(A[0],t),A[1]=Math.min(A[1],e),A[2]=Math.max(A[2],t),A[3]=Math.max(A[3],e)}function ut(A,t){let e;return e=t(gt(A)),e||(e=t(ft(A)),e||(e=t(Ft(A)),e||(e=t(Qt(A)),e||!1)))}function dt(A){let t=0;return Ut(A)||(t=_t(A)*Ct(A)),t}function gt(A){return[A[0],A[1]]}function ft(A){return[A[2],A[1]]}function Bt(A){return[(A[0]+A[2])/2,(A[1]+A[3])/2]}function pt(A,t){let e;if("bottom-left"===t)e=gt(A);else if("bottom-right"===t)e=ft(A);else if("top-left"===t)e=Qt(A);else{if("top-right"!==t)throw new Error("Invalid corner");e=Ft(A)}return e}function wt(A,t,e,n,i){const[r,s,o,a,l,c,h,u]=mt(A,t,e,n);return nt(Math.min(r,o,l,h),Math.min(s,a,c,u),Math.max(r,o,l,h),Math.max(s,a,c,u),i)}function mt(A,t,e,n){const i=t*n[0]/2,r=t*n[1]/2,s=Math.cos(e),o=Math.sin(e),a=i*s,l=i*o,c=r*s,h=r*o,u=A[0],d=A[1];return[u-a+h,d-l-c,u-a-h,d-l+c,u+a-h,d+l+c,u+a+h,d+l-c,u-a+h,d-l-c]}function Ct(A){return A[3]-A[1]}function yt(A,t,e){const n=e||[1/0,1/0,-1/0,-1/0];return vt(A,t)?(A[0]>t[0]?n[0]=A[0]:n[0]=t[0],A[1]>t[1]?n[1]=A[1]:n[1]=t[1],A[2]<t[2]?n[2]=A[2]:n[2]=t[2],A[3]<t[3]?n[3]=A[3]:n[3]=t[3]):it(n),n}function Qt(A){return[A[0],A[3]]}function Ft(A){return[A[2],A[3]]}function _t(A){return A[2]-A[0]}function vt(A,t){return A[0]<=t[2]&&A[2]>=t[0]&&A[1]<=t[3]&&A[3]>=t[1]}function Ut(A){return A[2]<A[0]||A[3]<A[1]}function Et(A,t,e,n){if(Ut(A))return it(e);let i=[];if(n>1){const t=A[2]-A[0],e=A[3]-A[1];for(let r=0;r<n;++r)i.push(A[0]+t*r/n,A[1],A[2],A[1]+e*r/n,A[2]-t*r/n,A[3],A[0],A[3]-e*r/n)}else i=[A[0],A[1],A[2],A[1],A[2],A[3],A[0],A[3]];t(i,i,2);const r=[],s=[];for(let A=0,t=i.length;A<t;A+=2)r.push(i[A]),s.push(i[A+1]);return function(A,t,e){return nt(Math.min.apply(null,A),Math.min.apply(null,t),Math.max.apply(null,A),Math.max.apply(null,t),e)}(r,s,e)}function xt(A,t){const e=t.getExtent(),n=Bt(A);if(t.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){const t=_t(e),i=Math.floor((n[0]-e[0])/t)*t;A[0]-=i,A[2]-=i}return A}const bt={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},It={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};It.max=It.whitepoint[2].D65,It.rgb=function(A,t){t=t||It.whitepoint[2].E;var e,n,i,r=A[0]/t[0],s=A[1]/t[1],o=A[2]/t[2];return n=-.96924363628087*r+1.87596750150772*s+.041555057407175*o,i=.055630079696993*r+-.20397695888897*s+1.056971514242878*o,e=(e=3.240969941904521*r+-1.537383177570093*s+-.498610760293*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},bt.xyz=function(A,t){var e=A[0]/255,n=A[1]/255,i=A[2]/255,r=.21263900587151*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.71516867876775*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.072192315360733*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),s=.019330818715591*e+.11919477979462*n+.95053215224966*i;return[(.41239079926595*e+.35758433938387*n+.18048078840183*i)*(t=t||It.whitepoint[2].E)[0],r*t[1],s*t[2]]};const St=It;const Ht={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(A,t,e){var n,i,r,s,o,a,l,c,h;if(r=A[0],s=A[1],o=A[2],0===r)return[0,0,0];return t=t||"D65",e=e||2,n=s/(13*r)+4*(l=St.whitepoint[e][t][0])/(l+15*(c=St.whitepoint[e][t][1])+3*(h=St.whitepoint[e][t][2]))||0,i=o/(13*r)+9*c/(l+15*c+3*h)||0,[9*(a=r>8?c*Math.pow((r+16)/116,3):c*r*.0011070564598794539)*n/(4*i)||0,a,a*(12-3*n-20*i)/(4*i)||0]}};St.luv=function(A,t,e){var n,i,r,s,o,a,l,c,h,u,d;t=t||"D65",e=e||2,u=4*(l=St.whitepoint[e][t][0])/(l+15*(c=St.whitepoint[e][t][1])+3*(h=St.whitepoint[e][t][2])),d=9*c/(l+15*c+3*h),n=4*(s=A[0])/(s+15*(o=A[1])+3*(a=A[2]))||0,i=9*o/(s+15*o+3*a)||0;var g=o/c;return[r=g<=.008856451679035631?903.2962962962961*g:116*Math.pow(g,1/3)-16,13*r*(n-u),13*r*(i-d)]};var Lt={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(A){var t,e=A[0],n=A[1];return t=A[2]/360*2*Math.PI,[e,n*Math.cos(t),n*Math.sin(t)]},xyz:function(A){return Ht.xyz(Lt.luv(A))}};const Tt=Lt;Ht.lchuv=function(A){var t=A[0],e=A[1],n=A[2],i=Math.sqrt(e*e+n*n),r=360*Math.atan2(n,e)/2/Math.PI;return r<0&&(r+=360),[t,i,r]},St.lchuv=function(A){return Ht.lchuv(St.luv(A))};const Mt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const A in Mt)Object.freeze(Mt[A]);const Dt=Object.freeze(Mt),Kt=function(A){var t,e,n=[],i=1;if("number"==typeof A)return{space:"rgb",values:[A>>>16,(65280&A)>>>8,255&A],alpha:1};if("number"==typeof A)return{space:"rgb",values:[A>>>16,(65280&A)>>>8,255&A],alpha:1};if(A=String(A).toLowerCase(),Dt[A])n=Dt[A].slice(),e="rgb";else if("transparent"===A)i=0,e="rgb",n=[0,0,0];else if("#"===A[0]){var r=A.slice(1),s=r.length;i=1,s<=4?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===s&&(i=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===s&&(i=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),e="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(A)){var o=t[1],a="cmyk"===(e=o.replace(/a$/,""))?4:"gray"===e?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===e&&(e=n.shift()),i=(n=n.map(function(A,t){if("%"===A[A.length-1])return A=parseFloat(A)/100,3===t?A:"rgb"===e?255*A:"h"===e[0]?100*A:"l"!==e[0]||t?"lab"===e?125*A:"lch"===e?t<2?150*A:360*A:"o"!==e[0]||t?"oklab"===e?.4*A:"oklch"===e?t<2?.4*A:360*A:A:A:100*A;if("h"===e[t]||2===t&&"h"===e[e.length-1]){if(void 0!==Rt[A])return Rt[A];if(A.endsWith("deg"))return parseFloat(A);if(A.endsWith("turn"))return 360*parseFloat(A);if(A.endsWith("grad"))return 360*parseFloat(A)/400;if(A.endsWith("rad"))return 180*parseFloat(A)/Math.PI}return"none"===A?0:parseFloat(A)})).length>a?n.pop():1}else/[0-9](?:\s|\/|,)/.test(A)&&(n=A.match(/([0-9]+)/g).map(function(A){return parseFloat(A)}),e=A.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:e,values:n,alpha:i}};var Rt={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const kt={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(A){var t,e,n,i,r,s=A[0]/360,o=A[1]/100,a=A[2]/100,l=0;if(0===o)return[r=255*a,r,r];for(t=2*a-(e=a<.5?a*(1+o):a+o-a*o),i=[0,0,0];l<3;)(n=s+1/3*-(l-1))<0?n++:n>1&&n--,r=6*n<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t,i[l++]=255*r;return i}};function Ot(A,t,e){return Math.min(Math.max(A,t),e)}function Pt(A,t,e,n,i,r){const s=i-e,o=r-n;if(0!==s||0!==o){const a=((A-e)*s+(t-n)*o)/(s*s+o*o);a>1?(e=i,n=r):a>0&&(e+=s*a,n+=o*a)}return Gt(A,t,e,n)}function Gt(A,t,e,n){const i=e-A,r=n-t;return i*i+r*r}function Nt(A){return A*Math.PI/180}function Vt(A,t){const e=A%t;return e*t<0?e+t:e}function Xt(A,t,e){return A+e*(t-A)}function Wt(A,t){const e=Math.pow(10,t);return Math.round(A*e)/e}function Yt(A,t){return Math.floor(Wt(A,t))}function jt(A,t){return Math.ceil(Wt(A,t))}function Jt(A){return"string"==typeof A?A:ne(A)}bt.hsl=function(A){var t,e,n=A[0]/255,i=A[1]/255,r=A[2]/255,s=Math.min(n,i,r),o=Math.max(n,i,r),a=o-s;return o===s?t=0:n===o?t=(i-r)/a:i===o?t=2+(r-n)/a:r===o&&(t=4+(n-i)/a),(t=Math.min(60*t,360))<0&&(t+=360),e=(s+o)/2,[t,100*(o===s?0:e<=.5?a/(o+s):a/(2-o-s)),100*e]};const Zt={};let zt=0;function qt(A){if(4===A.length)return A;const t=A.slice();return t[3]=1,t}function $t(A){const t=St.lchuv(bt.xyz(A));return t[3]=A[3],t}function Ae(A){if(Zt.hasOwnProperty(A))return Zt[A];if(zt>=1024){let A=0;for(const t in Zt)3&A++||(delete Zt[t],--zt)}const t=function(A){var t;Array.isArray(A)&&A.raw&&(A=String.raw(...arguments)),A instanceof Number&&(A=+A);var e=Kt(A);if(!e.space)return[];const n="h"===e.space[0]?kt.min:bt.min,i="h"===e.space[0]?kt.max:bt.max;return(t=Array(3))[0]=Math.min(Math.max(e.values[0],n[0]),i[0]),t[1]=Math.min(Math.max(e.values[1],n[1]),i[1]),t[2]=Math.min(Math.max(e.values[2],n[2]),i[2]),"h"===e.space[0]&&(t=kt.rgb(t)),t.push(Math.min(Math.max(e.alpha,0),1)),t}(A);if(4!==t.length)throw new Error('Failed to parse "'+A+'" as color');for(const e of t)if(isNaN(e))throw new Error('Failed to parse "'+A+'" as color');return ee(t),Zt[A]=t,++zt,t}function te(A){return Array.isArray(A)?A:Ae(A)}function ee(A){return A[0]=Ot(A[0]+.5|0,0,255),A[1]=Ot(A[1]+.5|0,0,255),A[2]=Ot(A[2]+.5|0,0,255),A[3]=Ot(A[3],0,1),A}function ne(A){let t=A[0];t!=(0|t)&&(t=t+.5|0);let e=A[1];e!=(0|e)&&(e=e+.5|0);let n=A[2];n!=(0|n)&&(n=n+.5|0);return"rgba("+t+","+e+","+n+","+(void 0===A[3]?1:Math.round(100*A[3])/100)+")"}class ie{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let A=0;for(const t in this.cache_){const e=this.cache_[t];3&A++||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}get(A,t,e){const n=re(A,t,e);return n in this.cache_?this.cache_[n]:null}set(A,t,e,n){const i=re(A,t,e);this.cache_[i]=n,++this.cacheSize_}setSize(A){this.maxCacheSize_=A,this.expire()}}function re(A,t,e){return t+":"+A+":"+(e?Jt(e):"null")}const se=new ie,oe="opacity",ae="visible",le="extent",ce="zIndex",he="maxResolution",ue="minResolution",de="maxZoom",ge="minZoom",fe="source",Be="map";const pe=class extends yA{constructor(A){super(),this.on,this.once,this.un,this.background_=A.background;const t=Object.assign({},A);"object"==typeof A.properties&&(delete t.properties,Object.assign(t,A.properties)),t[oe]=void 0!==A.opacity?A.opacity:1,MA("number"==typeof t[oe],"Layer opacity must be a number"),t[ae]=void 0===A.visible||A.visible,t[ce]=A.zIndex,t[he]=void 0!==A.maxResolution?A.maxResolution:1/0,t[ue]=void 0!==A.minResolution?A.minResolution:0,t[ge]=void 0!==A.minZoom?A.minZoom:-1/0,t[de]=void 0!==A.maxZoom?A.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(A){const t=this.state_||{layer:this,managed:void 0===A||A},e=this.getZIndex();return t.opacity=Ot(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==e||t.managed?e:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(A){return pA()}getLayerStatesArray(A){return pA()}getExtent(){return this.get(le)}getMaxResolution(){return this.get(he)}getMinResolution(){return this.get(ue)}getMinZoom(){return this.get(ge)}getMaxZoom(){return this.get(de)}getOpacity(){return this.get(oe)}getSourceState(){return pA()}getVisible(){return this.get(ae)}getZIndex(){return this.get(ce)}setBackground(A){this.background_=A,this.changed()}setExtent(A){this.set(le,A)}setMaxResolution(A){this.set(he,A)}setMinResolution(A){this.set(ue,A)}setMaxZoom(A){this.set(de,A)}setMinZoom(A){this.set(ge,A)}setOpacity(A){MA("number"==typeof A,"Layer opacity must be a number"),this.set(oe,A)}setVisible(A){this.set(ae,A)}setZIndex(A){this.set(ce,A)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},we="prerender",me="postrender",Ce="precompose",ye="postcompose",Qe="rendercomplete",Fe=0,_e=1,ve={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Ue=256;const Ee={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const xe=class{constructor(A){this.code_=A.code,this.units_=A.units,this.extent_=void 0!==A.extent?A.extent:null,this.worldExtent_=void 0!==A.worldExtent?A.worldExtent:null,this.axisOrientation_=void 0!==A.axisOrientation?A.axisOrientation:"enu",this.global_=void 0!==A.global&&A.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=A.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=A.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ee[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(A){this.global_=A,this.canWrapX_=!(!A||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(A){this.defaultTileGrid_=A}setExtent(A){this.extent_=A,this.canWrapX_=!(!this.global_||!A)}setWorldExtent(A){this.worldExtent_=A}setGetPointResolution(A){this.getPointResolutionFunc_=A}getPointResolutionFunc(){return this.getPointResolutionFunc_}},be=6378137,Ie=Math.PI*be,Se=[-Ie,-Ie,Ie,Ie],He=[-180,-85,180,85],Le=be*Math.log(Math.tan(Math.PI/2));class Te extends xe{constructor(A){super({code:A,units:"m",extent:Se,global:!0,worldExtent:He,getPointResolution:function(A,t){return A/Math.cosh(t[1]/be)}})}}const Me=[new Te("EPSG:3857"),new Te("EPSG:102100"),new Te("EPSG:102113"),new Te("EPSG:900913"),new Te("http://www.opengis.net/def/crs/EPSG/0/3857"),new Te("http://www.opengis.net/gml/srs/epsg.xml#3857")];function De(A,t,e){const n=A.length;e=e>1?e:2,void 0===t&&(t=e>2?A.slice():new Array(n));for(let i=0;i<n;i+=e){t[i]=Ie*A[i]/180;let e=be*Math.log(Math.tan(Math.PI*(+A[i+1]+90)/360));e>Le?e=Le:e<-Le&&(e=-Le),t[i+1]=e}return t}function Ke(A,t,e){const n=A.length;e=e>1?e:2,void 0===t&&(t=e>2?A.slice():new Array(n));for(let i=0;i<n;i+=e)t[i]=180*A[i]/Ie,t[i+1]=360*Math.atan(Math.exp(A[i+1]/be))/Math.PI-90;return t}const Re=[-180,-90,180,90],ke=6378137*Math.PI/180;class Oe extends xe{constructor(A,t){super({code:A,units:"degrees",extent:Re,axisOrientation:t,global:!0,metersPerUnit:ke,worldExtent:Re})}}const Pe=[new Oe("CRS:84"),new Oe("EPSG:4326","neu"),new Oe("urn:ogc:def:crs:OGC:1.3:CRS84"),new Oe("urn:ogc:def:crs:OGC:2:84"),new Oe("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Oe("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Oe("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Ge={};let Ne={};function Ve(A,t,e){const n=A.getCode(),i=t.getCode();n in Ne||(Ne[n]={}),Ne[n][i]=e}function Xe(A,t){let e=!0;for(let n=A.length-1;n>=0;--n)if(A[n]!=t[n]){e=!1;break}return e}function We(A,t){const e=Math.cos(t),n=Math.sin(t),i=A[0]*e-A[1]*n,r=A[1]*e+A[0]*n;return A[0]=i,A[1]=r,A}function Ye(A,t){if(t.canWrapX()){const e=_t(t.getExtent()),n=function(A,t,e){const n=t.getExtent();let i=0;t.canWrapX()&&(A[0]<n[0]||A[0]>n[2])&&(e=e||_t(n),i=Math.floor((A[0]-n[0])/e));return i}(A,t,e);n&&(A[0]-=n*e)}return A}const je=6371008.8;function Je(A,t,e){e=e||je;const n=Nt(A[1]),i=Nt(t[1]),r=(i-n)/2,s=Nt(t[0]-A[0])/2,o=Math.sin(r)*Math.sin(r)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(i);return 2*e*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}const Ze={info:1,warn:2,error:3,none:4};let ze=Ze.info;function qe(...A){ze>Ze.warn||console.warn(...A)}let $e=!0;function An(A){$e=!(void 0===A||A)}function tn(A,t){if(void 0!==t)for(let e=0,n=A.length;e<n;++e)t[e]=A[e];else t=A.slice();return t}function en(A,t){if(void 0!==t&&A!==t){for(let e=0,n=A.length;e<n;++e)t[e]=A[e];A=t}return A}function nn(A){!function(A,t){Ge[A]=t}(A.getCode(),A),Ve(A,A,tn)}function rn(A){return"string"==typeof A?Ge[t=A]||Ge[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:A||null;var t}function sn(A,t,e,n){let i;const r=(A=rn(A)).getPointResolutionFunc();if(r){if(i=r(t,e),n&&n!==A.getUnits()){const t=A.getMetersPerUnit();t&&(i=i*t/Ee[n])}}else{const r=A.getUnits();if("degrees"==r&&!n||"degrees"==n)i=t;else{const s=cn(A,rn("EPSG:4326"));if(s===en&&"degrees"!==r)i=t*A.getMetersPerUnit();else{let A=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];A=s(A,A,2);i=(Je(A.slice(0,2),A.slice(2,4))+Je(A.slice(4,6),A.slice(6,8)))/2}const o=n?Ee[n]:A.getMetersPerUnit();void 0!==o&&(i/=o)}}return i}function on(A){!function(A){A.forEach(nn)}(A),A.forEach(function(t){A.forEach(function(A){t!==A&&Ve(t,A,tn)})})}function an(A,t){return A?"string"==typeof A?rn(A):A:rn(t)}function ln(A,t){if(A===t)return!0;const e=A.getUnits()===t.getUnits();if(A.getCode()===t.getCode())return e;return cn(A,t)===tn&&e}function cn(A,t){let e=function(A,t){let e;return A in Ne&&t in Ne[A]&&(e=Ne[A][t]),e}(A.getCode(),t.getCode());return e||(e=en),e}function hn(A,t){return cn(rn(A),rn(t))}function un(A,t,e){return hn(t,e)(A,void 0,A.length)}function dn(A,t,e,n){return Et(A,hn(t,e),void 0,n)}let gn=null;function fn(){return gn}function Bn(A,t){return gn?un(A,t,gn):A}function pn(A,t){return gn?un(A,gn,t):($e&&!Xe(A,[0,0])&&A[0]>=-180&&A[0]<=180&&A[1]>=-90&&A[1]<=90&&($e=!1,qe("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),A)}function wn(A,t){return gn?dn(A,t,gn):A}function mn(A,t){return gn?dn(A,gn,t):A}function Cn(A,t){if(!gn)return A;const e=rn(t).getMetersPerUnit(),n=gn.getMetersPerUnit();return e&&n?A*e/n:A}var yn,Qn,Fn;function _n(A,t,e){return function(n,i,r,s,o){if(!n)return;if(!i&&!t)return n;const a=t?0:r[0]*i,l=t?0:r[1]*i,c=o?o[0]:0,h=o?o[1]:0;let u=A[0]+a/2+c,d=A[2]-a/2+c,g=A[1]+l/2+h,f=A[3]-l/2+h;u>d&&(u=(d+u)/2,d=u),g>f&&(g=(f+g)/2,f=g);let B=Ot(n[0],u,d),p=Ot(n[1],g,f);if(s&&e&&i){const A=30*i;B+=-A*Math.log(1+Math.max(0,u-n[0])/A)+A*Math.log(1+Math.max(0,n[0]-d)/A),p+=-A*Math.log(1+Math.max(0,g-n[1])/A)+A*Math.log(1+Math.max(0,n[1]-f)/A)}return[B,p]}}function vn(A){return A}function Un(A,t,e,n){const i=_t(t)/e[0],r=Ct(t)/e[1];return n?Math.min(A,Math.max(i,r)):Math.min(A,Math.min(i,r))}function En(A,t,e){let n=Math.min(A,t);return n*=Math.log(1+50*Math.max(0,A/t-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/A-1))/50+1),Ot(n,e/2,2*t)}function xn(A,t,e,n,i){return e=void 0===e||e,function(r,s,o,a){if(void 0!==r){const s=n?Un(A,n,o,i):A;return e&&a?En(r,s,t):Ot(r,t,s)}}}function bn(A){if(void 0!==A)return 0}function In(A){if(void 0!==A)return A}function Sn(A){return Math.pow(A,3)}function Hn(A){return 1-Sn(1-A)}function Ln(A){return 3*A*A-2*A*A*A}function Tn(A){return A}function Mn(A,t,e,n,i,r){r=r||[];let s=0;for(let o=t;o<e;o+=n){const t=A[o],e=A[o+1];r[s++]=i[0]*t+i[2]*e+i[4],r[s++]=i[1]*t+i[3]*e+i[5]}return r&&r.length!=s&&(r.length=s),r}function Dn(A,t,e,n,i,r,s){s=s||[];const o=Math.cos(i),a=Math.sin(i),l=r[0],c=r[1];let h=0;for(let i=t;i<e;i+=n){const t=A[i]-l,e=A[i+1]-c;s[h++]=l+t*o-e*a,s[h++]=c+t*a+e*o;for(let t=i+2;t<i+n;++t)s[h++]=A[t]}return s&&s.length!=h&&(s.length=h),s}on(Me),on(Pe),yn=Me,Qn=De,Fn=Ke,Pe.forEach(function(A){yn.forEach(function(t){Ve(A,t,Qn),Ve(t,A,Fn)})});const Kn=[1,0,0,1,0,0];const Rn=class extends yA{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=q((A,t,e)=>{if(!e)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(e),n.getSimplifiedGeometry(t)})}simplifyTransformed(A,t){return this.simplifyTransformedInternal(this.getRevision(),A,t)}clone(){return pA()}closestPointXY(A,t,e,n){return pA()}containsXY(A,t){const e=this.getClosestPoint([A,t]);return e[0]===A&&e[1]===t}getClosestPoint(A,t){return t=t||[NaN,NaN],this.closestPointXY(A[0],A[1],t,1/0),t}intersectsCoordinate(A){return this.containsXY(A[0],A[1])}computeExtent(A){return pA()}getExtent(A){if(this.extentRevision_!=this.getRevision()){const A=this.computeExtent(this.extent_);(isNaN(A[0])||isNaN(A[1]))&&it(A),this.extentRevision_=this.getRevision()}return function(A,t){return t?(t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t):A}(this.extent_,A)}rotate(A,t){pA()}scale(A,t,e){pA()}simplify(A){return this.getSimplifiedGeometry(A*A)}getSimplifiedGeometry(A){return pA()}getType(){return pA()}applyTransform(A){pA()}intersectsExtent(A){return pA()}translate(A,t){pA()}transform(A,t){const e=rn(A),n="tile-pixels"==e.getUnits()?function(A,n,i){const r=e.getExtent(),s=e.getWorldExtent(),o=Ct(s)/Ct(r);return RA(Kn,s[0],s[3],o,-o,0,0,0),Mn(A,0,A.length,i,Kn,n),hn(e,t)(A,n,i)}:hn(e,t);return this.applyTransform(n),this}};function kn(A){let t;return 2==A?t="XY":3==A?t="XYZ":4==A&&(t="XYZM"),t}function On(A){let t;return"XY"==A?t=2:"XYZ"==A||"XYM"==A?t=3:"XYZM"==A&&(t=4),t}const Pn=class extends Rn{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(A){return st(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A)}getCoordinates(){return pA()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(A){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),A<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&A<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(A);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=A,this)}getSimplifiedGeometryInternal(A){return this}getStride(){return this.stride}setFlatCoordinates(A,t){this.stride=On(A),this.layout=A,this.flatCoordinates=t}setCoordinates(A,t){pA()}setLayout(A,t,e){let n;if(A)n=On(A);else{for(let A=0;A<e;++A){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}n=t.length,A=kn(n)}this.layout=A,this.stride=n}applyTransform(A){this.flatCoordinates&&(A(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(A,t){const e=this.getFlatCoordinates();if(e){const n=this.getStride();Dn(e,0,e.length,n,A,t,e),this.changed()}}scale(A,t,e){void 0===t&&(t=A),e||(e=Bt(this.getExtent()));const n=this.getFlatCoordinates();if(n){const i=this.getStride();!function(A,t,e,n,i,r,s,o){o=o||[];const a=s[0],l=s[1];let c=0;for(let s=t;s<e;s+=n){const t=A[s]-a,e=A[s+1]-l;o[c++]=a+i*t,o[c++]=l+r*e;for(let t=s+2;t<s+n;++t)o[c++]=A[t]}o&&o.length!=c&&(o.length=c)}(n,0,n.length,i,A,t,e,n),this.changed()}}translate(A,t){const e=this.getFlatCoordinates();if(e){const n=this.getStride();!function(A,t,e,n,i,r,s){s=s||[];let o=0;for(let a=t;a<e;a+=n){s[o++]=A[a]+i,s[o++]=A[a+1]+r;for(let t=a+2;t<a+n;++t)s[o++]=A[t]}s&&s.length!=o&&(s.length=o)}(e,0,e.length,n,A,t,e),this.changed()}}};function Gn(A,t,e,n,i,r,s){const o=A[t],a=A[t+1],l=A[e]-o,c=A[e+1]-a;let h;if(0===l&&0===c)h=t;else{const u=((i-o)*l+(r-a)*c)/(l*l+c*c);if(u>1)h=e;else{if(u>0){for(let i=0;i<n;++i)s[i]=Xt(A[t+i],A[e+i],u);return void(s.length=n)}h=t}}for(let t=0;t<n;++t)s[t]=A[h+t];s.length=n}function Nn(A,t,e,n,i){let r=A[t],s=A[t+1];for(t+=n;t<e;t+=n){const e=A[t],n=A[t+1],o=Gt(r,s,e,n);o>i&&(i=o),r=e,s=n}return i}function Vn(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r){const s=e[r];i=Nn(A,t,s,n,i),t=s}return i}function Xn(A,t,e,n,i,r,s,o,a,l,c){if(t==e)return l;let h,u;if(0===i){if(u=Gt(s,o,A[t],A[t+1]),u<l){for(h=0;h<n;++h)a[h]=A[t+h];return a.length=n,u}return l}c=c||[NaN,NaN];let d=t+n;for(;d<e;)if(Gn(A,d-n,d,n,s,o,c),u=Gt(s,o,c[0],c[1]),u<l){for(l=u,h=0;h<n;++h)a[h]=c[h];a.length=n,d+=n}else d+=n*Math.max((Math.sqrt(u)-Math.sqrt(l))/i|0,1);if(r&&(Gn(A,e-n,t,n,s,o,c),u=Gt(s,o,c[0],c[1]),u<l)){for(l=u,h=0;h<n;++h)a[h]=c[h];a.length=n}return l}function Wn(A,t,e,n,i,r,s,o,a,l,c){c=c||[NaN,NaN];for(let h=0,u=e.length;h<u;++h){const u=e[h];l=Xn(A,t,u,n,i,r,s,o,a,l,c),t=u}return l}function Yn(A,t,e,n){for(let i=0,r=e.length;i<r;++i){const r=e[i];for(let e=0;e<n;++e)A[t++]=r[e]}return t}function jn(A,t,e,n,i){i=i||[];let r=0;for(let s=0,o=e.length;s<o;++s){const o=Yn(A,t,e[s],n);i[r++]=o,t=o}return i.length=r,i}function Jn(A,t,e,n,i){i=i||[];let r=0;for(let s=0,o=e.length;s<o;++s){const o=jn(A,t,e[s],n,i[r]);0===o.length&&(o[0]=t),i[r++]=o,t=o[o.length-1]}return i.length=r,i}function Zn(A,t,e,n,i,r,s){const o=(e-t)/n;if(o<3){for(;t<e;t+=n)r[s++]=A[t],r[s++]=A[t+1];return s}const a=new Array(o);a[0]=1,a[o-1]=1;const l=[t,e-n];let c=0;for(;l.length>0;){const e=l.pop(),r=l.pop();let s=0;const o=A[r],h=A[r+1],u=A[e],d=A[e+1];for(let t=r+n;t<e;t+=n){const e=Pt(A[t],A[t+1],o,h,u,d);e>s&&(c=t,s=e)}s>i&&(a[(c-t)/n]=1,r+n<c&&l.push(r,c),c+n<e&&l.push(c,e))}for(let e=0;e<o;++e)a[e]&&(r[s++]=A[t+e*n],r[s++]=A[t+e*n+1]);return s}function zn(A,t,e,n,i,r,s,o){for(let a=0,l=e.length;a<l;++a){const l=e[a];s=Zn(A,t,l,n,i,r,s),o.push(s),t=l}return s}function qn(A,t){return t*Math.round(A/t)}function $n(A,t,e,n,i,r,s){if(t==e)return s;let o,a,l=qn(A[t],i),c=qn(A[t+1],i);t+=n,r[s++]=l,r[s++]=c;do{if(o=qn(A[t],i),a=qn(A[t+1],i),(t+=n)==e)return r[s++]=o,r[s++]=a,s}while(o==l&&a==c);for(;t<e;){const e=qn(A[t],i),h=qn(A[t+1],i);if(t+=n,e==o&&h==a)continue;const u=o-l,d=a-c,g=e-l,f=h-c;u*f==d*g&&(u<0&&g<u||u==g||u>0&&g>u)&&(d<0&&f<d||d==f||d>0&&f>d)?(o=e,a=h):(r[s++]=o,r[s++]=a,l=o,c=a,o=e,a=h)}return r[s++]=o,r[s++]=a,s}function Ai(A,t,e,n,i,r,s,o){for(let a=0,l=e.length;a<l;++a){const l=e[a];s=$n(A,t,l,n,i,r,s),o.push(s),t=l}return s}function ti(A,t,e,n,i){i=void 0!==i?i:[];let r=0;for(let s=t;s<e;s+=n)i[r++]=A.slice(s,s+n);return i.length=r,i}function ei(A,t,e,n,i){i=void 0!==i?i:[];let r=0;for(let s=0,o=e.length;s<o;++s){const o=e[s];i[r++]=ti(A,t,o,n,i[r]),t=o}return i.length=r,i}function ni(A,t,e,n,i){i=void 0!==i?i:[];let r=0;for(let s=0,o=e.length;s<o;++s){const o=e[s];i[r++]=1===o.length&&o[0]===t?[]:ei(A,t,o,n,i[r]),t=o[o.length-1]}return i.length=r,i}function ii(A,t,e,n){let i=0,r=A[e-n],s=A[e-n+1];for(;t<e;t+=n){const e=A[t],n=A[t+1];i+=s*e-r*n,r=e,s=n}return i/2}function ri(A,t,e,n){let i=0;for(let r=0,s=e.length;r<s;++r){const s=e[r];i+=ii(A,t,s,n),t=s}return i}class si extends Pn{constructor(A,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(A[0])?this.setCoordinates(A,t):this.setFlatCoordinates(t,A)}clone(){return new si(this.flatCoordinates.slice(),this.layout)}closestPointXY(A,t,e,n){return n<zA(this.getExtent(),A,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,A,t,e,n))}getArea(){return ii(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(A){const t=[];return t.length=Zn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,t,0),new si(t,"XY")}getType(){return"LinearRing"}intersectsExtent(A){return!1}setCoordinates(A,t){this.setLayout(t,A,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yn(this.flatCoordinates,0,A,this.stride),this.changed()}}const oi=si;class ai extends Pn{constructor(A,t){super(),this.setCoordinates(A,t)}clone(){const A=new ai(this.flatCoordinates.slice(),this.layout);return A.applyProperties(this),A}closestPointXY(A,t,e,n){const i=this.flatCoordinates,r=Gt(A,t,i[0],i[1]);if(r<n){const A=this.stride;for(let t=0;t<A;++t)e[t]=i[t];return e.length=A,r}return n}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(A){return rt(this.flatCoordinates,A)}getType(){return"Point"}intersectsExtent(A){return At(A,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(A,t){this.setLayout(t,A,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(A,t,e){for(let n=0,i=e.length;n<i;++n)A[t++]=e[n];return t}(this.flatCoordinates,0,A,this.stride),this.changed()}}const li=ai;function ci(A,t,e,n,i){return!ut(i,function(i){return!hi(A,t,e,n,i[0],i[1])})}function hi(A,t,e,n,i,r){let s=0,o=A[e-n],a=A[e-n+1];for(;t<e;t+=n){const e=A[t],n=A[t+1];a<=r?n>r&&(e-o)*(r-a)-(i-o)*(n-a)>0&&s++:n<=r&&(e-o)*(r-a)-(i-o)*(n-a)<0&&s--,o=e,a=n}return 0!==s}function ui(A,t,e,n,i,r){if(0===e.length)return!1;if(!hi(A,t,e[0],n,i,r))return!1;for(let t=1,s=e.length;t<s;++t)if(hi(A,e[t-1],e[t],n,i,r))return!1;return!0}function di(A,t,e,n,i,r,s){let o,a,l,c,h,u,d;const g=i[r+1],f=[];for(let i=0,r=e.length;i<r;++i){const r=e[i];for(c=A[r-n],u=A[r-n+1],o=t;o<r;o+=n)h=A[o],d=A[o+1],(g<=u&&d<=g||u<=g&&g<=d)&&(l=(g-u)/(d-u)*(h-c)+c,f.push(l)),c=h,u=d}let B=NaN,p=-1/0;for(f.sort(V),c=f[0],o=1,a=f.length;o<a;++o){h=f[o];const i=Math.abs(h-c);i>p&&(l=(c+h)/2,ui(A,t,e,n,l,g)&&(B=l,p=i)),c=h}return isNaN(B)&&(B=i[r]),s?(s.push(B,g,p),s):[B,g,p]}function gi(A,t,e,n,i){let r=[];for(let s=0,o=e.length;s<o;++s){const o=e[s];r=di(A,t,o,n,i,2*s,r),t=o[o.length-1]}return r}function fi(A,t,e,n,i){let r;for(t+=n;t<e;t+=n)if(r=i(A.slice(t-n,t),A.slice(t,t+n)),r)return r;return!1}function Bi(A,t,e,n,i){const r=ct([1/0,1/0,-1/0,-1/0],A,t,e,n);return!!vt(i,r)&&(!!$A(i,r)||(r[0]>=i[0]&&r[2]<=i[2]||(r[1]>=i[1]&&r[3]<=i[3]||fi(A,t,e,n,function(A,t){return function(A,t,e){let n=!1;const i=tt(A,t),r=tt(A,e);if(i===NA||r===NA)n=!0;else{const s=A[0],o=A[1],a=A[2],l=A[3],c=t[0],h=t[1],u=e[0],d=e[1],g=(d-h)/(u-c);let f,B;r&VA&&!(i&VA)&&(f=u-(d-l)/g,n=f>=s&&f<=a),n||!(r&XA)||i&XA||(B=d-(u-a)*g,n=B>=o&&B<=l),n||!(r&WA)||i&WA||(f=u-(d-o)/g,n=f>=s&&f<=a),n||!(r&YA)||i&YA||(B=d-(u-s)*g,n=B>=o&&B<=l)}return n}(i,A,t)}))))}function pi(A,t,e,n,i){return!!Bi(A,t,e,n,i)||(!!hi(A,t,e,n,i[0],i[1])||(!!hi(A,t,e,n,i[0],i[3])||(!!hi(A,t,e,n,i[2],i[1])||!!hi(A,t,e,n,i[2],i[3]))))}function wi(A,t,e,n,i){if(!pi(A,t,e[0],n,i))return!1;if(1===e.length)return!0;for(let t=1,r=e.length;t<r;++t)if(ci(A,e[t-1],e[t],n,i)&&!Bi(A,e[t-1],e[t],n,i))return!1;return!0}function mi(A,t,e,n){for(;t<e-n;){for(let i=0;i<n;++i){const r=A[t+i];A[t+i]=A[e-n+i],A[e-n+i]=r}t+=n,e-=n}}function Ci(A,t,e,n){let i=0,r=A[e-n],s=A[e-n+1];for(;t<e;t+=n){const e=A[t],n=A[t+1];i+=(e-r)*(n+s),r=e,s=n}return 0===i?void 0:i>0}function yi(A,t,e,n,i){i=void 0!==i&&i;for(let r=0,s=e.length;r<s;++r){const s=e[r],o=Ci(A,t,s,n);if(0===r){if(i&&o||!i&&!o)return!1}else if(i&&!o||!i&&o)return!1;t=s}return!0}function Qi(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r){const s=e[r];if(!yi(A,t,s,n,i))return!1;s.length&&(t=s[s.length-1])}return!0}function Fi(A,t,e,n,i){i=void 0!==i&&i;for(let r=0,s=e.length;r<s;++r){const s=e[r],o=Ci(A,t,s,n);(0===r?i&&o||!i&&!o:i&&!o||!i&&o)&&mi(A,t,s,n),t=s}return t}function _i(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r)t=Fi(A,t,e[r],n,i);return t}class vi extends Pn{constructor(A,t,e){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&e?(this.setFlatCoordinates(t,A),this.ends_=e):this.setCoordinates(A,t)}appendLinearRing(A){this.flatCoordinates?Y(this.flatCoordinates,A.getFlatCoordinates()):this.flatCoordinates=A.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const A=new vi(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return A.applyProperties(this),A}closestPointXY(A,t,e,n){return n<zA(this.getExtent(),A,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,A,t,e,n))}containsXY(A,t){return ui(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,A,t)}getArea(){return ri(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(A){let t;return void 0!==A?(t=this.getOrientedFlatCoordinates().slice(),Fi(t,0,this.ends_,this.stride,A)):t=this.flatCoordinates,ei(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const A=Bt(this.getExtent());this.flatInteriorPoint_=di(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,A,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new li(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(A){return A<0||this.ends_.length<=A?null:new oi(this.flatCoordinates.slice(0===A?0:this.ends_[A-1],this.ends_[A]),this.layout)}getLinearRings(){const A=this.layout,t=this.flatCoordinates,e=this.ends_,n=[];let i=0;for(let r=0,s=e.length;r<s;++r){const s=e[r],o=new oi(t.slice(i,s),A);n.push(o),i=s}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const A=this.flatCoordinates;yi(A,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=A:(this.orientedFlatCoordinates_=A.slice(),this.orientedFlatCoordinates_.length=Fi(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(A){const t=[],e=[];return t.length=Ai(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(A),t,0,e),new vi(t,"XY",e)}getType(){return"Polygon"}intersectsExtent(A){return wi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,A)}setCoordinates(A,t){this.setLayout(t,A,2),this.flatCoordinates||(this.flatCoordinates=[]);const e=jn(this.flatCoordinates,0,A,this.stride,this.ends_);this.flatCoordinates.length=0===e.length?0:e[e.length-1],this.changed()}}const Ui=vi;function Ei(A){if(Ut(A))throw new Error("Cannot create polygon from empty extent");const t=A[0],e=A[1],n=A[2],i=A[3],r=[t,e,t,i,n,i,n,e,t,e];return new vi(r,"XY",[r.length])}function xi(A,t){setTimeout(function(){A(t)},0)}function bi(A){return!(A.sourceCenter&&A.targetCenter&&!Xe(A.sourceCenter,A.targetCenter))&&(A.sourceResolution===A.targetResolution&&A.sourceRotation===A.targetRotation)}function Ii(A,t,e,n,i){const r=Math.cos(-i);let s=Math.sin(-i),o=A[0]*r-A[1]*s,a=A[1]*r+A[0]*s;o+=(t[0]/2-e[0])*n,a+=(e[1]-t[1]/2)*n,s=-s;return[o*r-a*s,a*r+o*s]}const Si=class extends yA{constructor(A){super(),this.on,this.once,this.un,A=Object.assign({},A),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=an(A.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,A.projection&&An(),A.center&&(A.center=pn(A.center,this.projection_)),A.extent&&(A.extent=mn(A.extent,this.projection_)),this.applyOptions_(A)}applyOptions_(A){const t=Object.assign({},A);for(const A in ve)delete t[A];this.setProperties(t,!0);const e=function(A){let t,e,n;const i=28,r=2;let s=void 0!==A.minZoom?A.minZoom:0,o=void 0!==A.maxZoom?A.maxZoom:i;const a=void 0!==A.zoomFactor?A.zoomFactor:r,l=void 0!==A.multiWorld&&A.multiWorld,c=void 0===A.smoothResolutionConstraint||A.smoothResolutionConstraint,h=void 0!==A.showFullExtent&&A.showFullExtent,u=an(A.projection,"EPSG:3857"),d=u.getExtent();let g=A.constrainOnlyCenter,f=A.extent;l||f||!u.isGlobal()||(g=!1,f=d);if(void 0!==A.resolutions){const i=A.resolutions;e=i[s],n=void 0!==i[o]?i[o]:i[i.length-1],t=A.constrainResolution?function(A,t,e,n){return t=void 0===t||t,function(i,r,s,o){if(void 0!==i){const a=A[0],l=A[A.length-1],c=e?Un(a,e,s,n):a;if(o)return t?En(i,c,l):Ot(i,l,c);const h=Math.min(c,i),u=Math.floor(X(A,h,r));return A[u]>c&&u<A.length-1?A[u+1]:A[u]}}}(i,c,!g&&f,h):xn(e,n,c,!g&&f,h)}else{const l=(d?Math.max(_t(d),Ct(d)):360*Ee.degrees/u.getMetersPerUnit())/Ue/Math.pow(r,0),B=l/Math.pow(r,i-0);e=A.maxResolution,void 0!==e?s=0:e=l/Math.pow(a,s),n=A.minResolution,void 0===n&&(n=void 0!==A.maxZoom?void 0!==A.maxResolution?e/Math.pow(a,o):l/Math.pow(a,o):B),o=s+Math.floor(Math.log(e/n)/Math.log(a)),n=e/Math.pow(a,o-s),t=A.constrainResolution?function(A,t,e,n,i,r){return n=void 0===n||n,e=void 0!==e?e:0,function(s,o,a,l){if(void 0!==s){const c=i?Un(t,i,a,r):t;if(l)return n?En(s,c,e):Ot(s,e,c);const h=1e-9,u=Math.ceil(Math.log(t/c)/Math.log(A)-h),d=-o*(.5-h)+.5,g=Math.min(c,s),f=Math.floor(Math.log(t/g)/Math.log(A)+d),B=Math.max(u,f);return Ot(t/Math.pow(A,B),e,c)}}}(a,e,n,c,!g&&f,h):xn(e,n,c,!g&&f,h)}return{constraint:t,maxResolution:e,minResolution:n,minZoom:s,zoomFactor:a}}(A);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=A.resolutions,this.padding_=A.padding,this.minZoom_=e.minZoom;const n=function(A){if(void 0!==A.extent){const t=void 0===A.smoothExtentConstraint||A.smoothExtentConstraint;return _n(A.extent,A.constrainOnlyCenter,t)}const t=an(A.projection,"EPSG:3857");if(!0!==A.multiWorld&&t.isGlobal()){const A=t.getExtent().slice();return A[0]=-1/0,A[2]=1/0,_n(A,!1,!1)}return vn}(A),i=e.constraint,r=function(A){const t=void 0===A.enableRotation||A.enableRotation;if(t){const t=A.constrainRotation;return void 0===t||!0===t?function(A){const t=void 0===A?Nt(5):A;return function(A,e){return e||void 0===A?A:Math.abs(A)<=t?0:A}}():!1===t?In:"number"==typeof t?function(A){const t=2*Math.PI/A;return function(A,e){return e?A:void 0!==A?A=Math.floor(A/t+.5)*t:void 0}}(t):In}return bn}(A);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==A.rotation?A.rotation:0),this.setCenterInternal(void 0!==A.center?A.center:null),void 0!==A.resolution?this.setResolution(A.resolution):void 0!==A.zoom&&this.setZoom(A.zoom)}get padding(){return this.padding_}set padding(A){let t=this.padding_;this.padding_=A;const e=this.getCenterInternal();if(e){const n=A||[0,0,0,0];t=t||[0,0,0,0];const i=this.getResolution(),r=i/2*(n[3]-t[3]+t[1]-n[1]),s=i/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([e[0]+r,e[1]-s])}}getUpdatedOptions_(A){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,A)}animate(A){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let A=0;A<t.length;++A){let e=arguments[A];e.center&&(e=Object.assign({},e),e.center=pn(e.center,this.getProjection())),e.anchor&&(e=Object.assign({},e),e.anchor=pn(e.anchor,this.getProjection())),t[A]=e}this.animateInternal.apply(this,t)}animateInternal(A){let t,e=arguments.length;e>1&&"function"==typeof arguments[e-1]&&(t=arguments[e-1],--e);let n=0;for(;n<e&&!this.isDef();++n){const A=arguments[n];A.center&&this.setCenterInternal(A.center),void 0!==A.zoom?this.setZoom(A.zoom):A.resolution&&this.setResolution(A.resolution),void 0!==A.rotation&&this.setRotation(A.rotation)}if(n===e)return void(t&&xi(t,!0));let i=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,o=this.targetRotation_;const a=[];for(;n<e;++n){const A=arguments[n],e={start:i,complete:!1,anchor:A.anchor,duration:void 0!==A.duration?A.duration:1e3,easing:A.easing||Ln,callback:t};if(A.center&&(e.sourceCenter=r,e.targetCenter=A.center.slice(),r=e.targetCenter),void 0!==A.zoom?(e.sourceResolution=s,e.targetResolution=this.getResolutionForZoom(A.zoom),s=e.targetResolution):A.resolution&&(e.sourceResolution=s,e.targetResolution=A.resolution,s=e.targetResolution),void 0!==A.rotation){e.sourceRotation=o;const t=Vt(A.rotation-o+Math.PI,2*Math.PI)-Math.PI;e.targetRotation=o+t,o=e.targetRotation}bi(e)?e.complete=!0:i+=e.duration,a.push(e)}this.animations_.push(a),this.setHint(Fe,1),this.updateAnimations_()}getAnimating(){return this.hints_[Fe]>0}getInteracting(){return this.hints_[_e]>0}cancelAnimations(){let A;this.setHint(Fe,-this.hints_[Fe]);for(let t=0,e=this.animations_.length;t<e;++t){const e=this.animations_[t];if(e[0].callback&&xi(e[0].callback,!1),!A)for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!n.complete){A=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=A,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const A=Date.now();let t=!1;for(let e=this.animations_.length-1;e>=0;--e){const n=this.animations_[e];let i=!0;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r.complete)continue;const s=A-r.start;let o=r.duration>0?s/r.duration:1;o>=1?(r.complete=!0,o=1):i=!1;const a=r.easing(o);if(r.sourceCenter){const A=r.sourceCenter[0],t=r.sourceCenter[1],e=r.targetCenter[0],n=r.targetCenter[1];this.nextCenter_=r.targetCenter;const i=A+a*(e-A),s=t+a*(n-t);this.targetCenter_=[i,s]}if(r.sourceResolution&&r.targetResolution){const A=1===a?r.targetResolution:r.sourceResolution+a*(r.targetResolution-r.sourceResolution);if(r.anchor){const t=this.getViewportSize_(this.getRotation()),e=this.constraints_.resolution(A,0,t,!0);this.targetCenter_=this.calculateCenterZoom(e,r.anchor)}this.nextResolution_=r.targetResolution,this.targetResolution_=A,this.applyTargetState_(!0)}if(void 0!==r.sourceRotation&&void 0!==r.targetRotation){const A=1===a?Vt(r.targetRotation+Math.PI,2*Math.PI)-Math.PI:r.sourceRotation+a*(r.targetRotation-r.sourceRotation);if(r.anchor){const t=this.constraints_.rotation(A,!0);this.targetCenter_=this.calculateCenterRotate(t,r.anchor)}this.nextRotation_=r.targetRotation,this.targetRotation_=A}if(this.applyTargetState_(!0),t=!0,!r.complete)break}if(i){this.animations_[e]=null,this.setHint(Fe,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const A=n[0].callback;A&&xi(A,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(A,t){let e;const n=this.getCenterInternal();var i,r;return void 0!==n&&(e=[n[0]-t[0],n[1]-t[1]],We(e,A-this.getRotation()),r=t,(i=e)[0]+=+r[0],i[1]+=+r[1]),e}calculateCenterZoom(A,t){let e;const n=this.getCenterInternal(),i=this.getResolution();if(void 0!==n&&void 0!==i){e=[t[0]-A*(t[0]-n[0])/i,t[1]-A*(t[1]-n[1])/i]}return e}getViewportSize_(A){const t=this.viewportSize_;if(A){const e=t[0],n=t[1];return[Math.abs(e*Math.cos(A))+Math.abs(n*Math.sin(A)),Math.abs(e*Math.sin(A))+Math.abs(n*Math.cos(A))]}return t}setViewportSize(A){this.viewportSize_=Array.isArray(A)?A.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const A=this.getCenterInternal();return A?Bn(A,this.getProjection()):A}getCenterInternal(){return this.get(ve.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(A){return void 0!==A?(A[0]=this.hints_[0],A[1]=this.hints_[1],A):this.hints_.slice()}calculateExtent(A){return wn(this.calculateExtentInternal(A),this.getProjection())}calculateExtentInternal(A){A=A||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();MA(t,"The view center is not defined");const e=this.getResolution();MA(void 0!==e,"The view resolution is not defined");const n=this.getRotation();return MA(void 0!==n,"The view rotation is not defined"),wt(t,e,n,A)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(A){this.applyOptions_(this.getUpdatedOptions_({maxZoom:A}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(A){this.applyOptions_(this.getUpdatedOptions_({minZoom:A}))}setConstrainResolution(A){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:A}))}getProjection(){return this.projection_}getResolution(){return this.get(ve.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(A,t){return this.getResolutionForExtentInternal(mn(A,this.getProjection()),t)}getResolutionForExtentInternal(A,t){t=t||this.getViewportSizeMinusPadding_();const e=_t(A)/t[0],n=Ct(A)/t[1];return Math.max(e,n)}getResolutionForValueFunction(A){A=A||2;const t=this.getConstrainedResolution(this.maxResolution_),e=this.minResolution_,n=Math.log(t/e)/Math.log(A);return function(e){return t/Math.pow(A,e*n)}}getRotation(){return this.get(ve.ROTATION)}getValueForResolutionFunction(A){const t=Math.log(A||2),e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/t;return function(A){return Math.log(e/A)/t/i}}getViewportSizeMinusPadding_(A){let t=this.getViewportSize_(A);const e=this.padding_;return e&&(t=[t[0]-e[1]-e[3],t[1]-e[0]-e[2]]),t}getState(){const A=this.getProjection(),t=this.getResolution(),e=this.getRotation();let n=this.getCenterInternal();const i=this.padding_;if(i){const A=this.getViewportSizeMinusPadding_();n=Ii(n,this.getViewportSize_(),[A[0]/2+i[3],A[1]/2+i[0]],t,e)}return{center:n.slice(0),projection:void 0!==A?A:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:e,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let A;const t=this.getResolution();return void 0!==t&&(A=this.getZoomForResolution(t)),A}getZoomForResolution(A){let t,e,n=this.minZoom_||0;if(this.resolutions_){const i=X(this.resolutions_,A,1);n=i,t=this.resolutions_[i],e=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,e=this.zoomFactor_;return n+Math.log(t/A)/Math.log(e)}getResolutionForZoom(A){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Ot(Math.floor(A),0,this.resolutions_.length-2),e=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(e,Ot(A-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,A-this.minZoom_)}fit(A,t){let e;if(MA(Array.isArray(A)||"function"==typeof A.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(A)){MA(!Ut(A),"Cannot fit empty extent provided as `geometry`");e=Ei(mn(A,this.getProjection()))}else if("Circle"===A.getType()){const t=mn(A.getExtent(),this.getProjection());e=Ei(t),e.rotate(this.getRotation(),Bt(t))}else{const t=fn();e=t?A.clone().transform(t,this.getProjection()):A}this.fitInternal(e,t)}rotatedExtentForGeometry(A){const t=this.getRotation(),e=Math.cos(t),n=Math.sin(-t),i=A.getFlatCoordinates(),r=A.getStride();let s=1/0,o=1/0,a=-1/0,l=-1/0;for(let A=0,t=i.length;A<t;A+=r){const t=i[A]*e-i[A+1]*n,r=i[A]*n+i[A+1]*e;s=Math.min(s,t),o=Math.min(o,r),a=Math.max(a,t),l=Math.max(l,r)}return[s,o,a,l]}fitInternal(A,t){let e=(t=t||{}).size;e||(e=this.getViewportSizeMinusPadding_());const n=void 0!==t.padding?t.padding:[0,0,0,0],i=void 0!==t.nearest&&t.nearest;let r;r=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(A);let o=this.getResolutionForExtentInternal(s,[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]);o=isNaN(o)?r:Math.max(o,r),o=this.getConstrainedResolution(o,i?0:1);const a=this.getRotation(),l=Math.sin(a),c=Math.cos(a),h=Bt(s);h[0]+=(n[1]-n[3])/2*o,h[1]+=(n[0]-n[2])/2*o;const u=h[0]*c-h[1]*l,d=h[1]*c+h[0]*l,g=this.getConstrainedCenter([u,d],o),f=t.callback?t.callback:z;void 0!==t.duration?this.animateInternal({resolution:o,center:g,duration:t.duration,easing:t.easing},f):(this.targetResolution_=o,this.targetCenter_=g,this.applyTargetState_(!1,!0),xi(f,!0))}centerOn(A,t,e){this.centerOnInternal(pn(A,this.getProjection()),t,e)}centerOnInternal(A,t,e){this.setCenterInternal(Ii(A,t,e,this.getResolution(),this.getRotation()))}calculateCenterShift(A,t,e,n){let i;const r=this.padding_;if(r&&A){const s=this.getViewportSizeMinusPadding_(-e),o=Ii(A,n,[s[0]/2+r[3],s[1]/2+r[0]],t,e);i=[A[0]-o[0],A[1]-o[1]]}return i}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(A){const t=Bn(this.targetCenter_,this.getProjection());this.setCenter([t[0]+A[0],t[1]+A[1]])}adjustCenterInternal(A){const t=this.targetCenter_;this.setCenterInternal([t[0]+A[0],t[1]+A[1]])}adjustResolution(A,t){t=t&&pn(t,this.getProjection()),this.adjustResolutionInternal(A,t)}adjustResolutionInternal(A,t){const e=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*A,0,n,e);t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=A,this.applyTargetState_()}adjustZoom(A,t){this.adjustResolution(Math.pow(this.zoomFactor_,-A),t)}adjustRotation(A,t){t&&(t=pn(t,this.getProjection())),this.adjustRotationInternal(A,t)}adjustRotationInternal(A,t){const e=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+A,e);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=A,this.applyTargetState_()}setCenter(A){this.setCenterInternal(A?pn(A,this.getProjection()):A)}setCenterInternal(A){this.targetCenter_=A,this.applyTargetState_()}setHint(A,t){return this.hints_[A]+=t,this.changed(),this.hints_[A]}setResolution(A){this.targetResolution_=A,this.applyTargetState_()}setRotation(A){this.targetRotation_=A,this.applyTargetState_()}setZoom(A){this.setResolution(this.getResolutionForZoom(A))}applyTargetState_(A,t){const e=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,e),i=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,i,e),s=this.constraints_.center(this.targetCenter_,r,i,e,this.calculateCenterShift(this.targetCenter_,r,n,i));this.get(ve.ROTATION)!==n&&this.set(ve.ROTATION,n),this.get(ve.RESOLUTION)!==r&&(this.set(ve.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),s&&this.get(ve.CENTER)&&Xe(this.get(ve.CENTER),s)||this.set(ve.CENTER,s),this.getAnimating()&&!A&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(A,t,e){A=void 0!==A?A:200;const n=t||0,i=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,n,r),o=this.constraints_.center(this.targetCenter_,s,r,!1,this.calculateCenterShift(this.targetCenter_,s,i,r));if(0===A&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=o,void this.applyTargetState_();e=e||(0===A?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&Xe(this.getCenterInternal(),o)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:o,resolution:s,duration:A,easing:Hn,anchor:e}))}beginInteraction(){this.resolveConstraints(0),this.setHint(_e,1)}endInteraction(A,t,e){e=e&&pn(e,this.getProjection()),this.endInteractionInternal(A,t,e)}endInteractionInternal(A,t,e){this.getInteracting()&&(this.setHint(_e,-1),this.resolveConstraints(A,t,e))}getConstrainedCenter(A,t){const e=this.getViewportSize_(this.getRotation());return this.constraints_.center(A,t||this.getResolution(),e)}getConstrainedZoom(A,t){const e=this.getResolutionForZoom(A);return this.getZoomForResolution(this.getConstrainedResolution(e,t))}getConstrainedResolution(A,t){t=t||0;const e=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(A,t,e)}};function Hi(A,t){if(!A.visible)return!1;const e=t.resolution;if(e<A.minResolution||e>=A.maxResolution)return!1;const n=t.zoom;return n>A.minZoom&&n<=A.maxZoom}const Li=class extends pe{constructor(A){const t=Object.assign({},A);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,A.render&&(this.render=A.render),A.map&&this.setMap(A.map),this.addChangeListener(fe,this.handleSourcePropertyChange_);const e=A.source?A.source:null;this.setSource(e)}getLayersArray(A){return(A=A||[]).push(this),A}getLayerStatesArray(A){return(A=A||[]).push(this.getLayerState()),A}getSource(){return this.get(fe)||null}getRenderSource(){return this.getSource()}getSourceState(){const A=this.getSource();return A?A.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(gA(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const A=this.getSource();A&&(this.sourceChangeKey_=uA(A,eA,this.handleSourceChange_,this),"ready"===A.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(A){return this.renderer_?this.renderer_.getFeatures(A):Promise.resolve([])}getData(A){return this.renderer_&&this.rendered?this.renderer_.getData(A):null}isVisible(A){let t;const e=this.getMapInternal();let n;!A&&e&&(A=e.getView()),t=A instanceof Si?{viewState:A.getState(),extent:A.calculateExtent()}:A,!t.layerStatesArray&&e&&(t.layerStatesArray=e.getLayerGroup().getLayerStatesArray()),n=t.layerStatesArray?t.layerStatesArray.find(A=>A.layer===this):this.getLayerState();const i=this.getExtent();return Hi(n,t.viewState)&&(!i||vt(i,t.extent))}getAttributions(A){if(!this.isVisible(A))return[];let t;const e=this.getSource();if(e&&(t=e.getAttributions()),!t)return[];let n=t(A instanceof Si?A.getViewStateAndExtent():A);return Array.isArray(n)||(n=[n]),n}render(A,t){const e=this.getRenderer();return e.prepareFrame(A)?(this.rendered=!0,e.renderFrame(A,t)):null}unrender(){this.rendered=!1}setMapInternal(A){A||this.unrender(),this.set(Be,A)}getMapInternal(){return this.get(Be)}setMap(A){this.mapPrecomposeKey_&&(gA(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),A||this.changed(),this.mapRenderKey_&&(gA(this.mapRenderKey_),this.mapRenderKey_=null),A&&(this.mapPrecomposeKey_=uA(A,Ce,function(A){const t=A.frameState.layerStatesArray,e=this.getLayerState(!1);MA(!t.some(function(A){return A.layer===e.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(e)},this),this.mapRenderKey_=uA(this,eA,A.render,A),this.changed())}setSource(A){this.set(fe,A)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Ti(A,t){se.expire()}const Mi=class extends N{constructor(A){super(),this.map_=A}dispatchRenderEvent(A,t){pA()}calculateMatrices2D(A){const t=A.viewState,e=A.coordinateToPixelTransform,n=A.pixelToCoordinateTransform;RA(e,A.size[0]/2,A.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),kA(n,e)}forEachFeatureAtCoordinate(A,t,e,n,i,r,s,o){let a;const l=t.viewState;function c(A,t,e,n){return i.call(r,t,A?e:null,n)}const h=l.projection,u=Ye(A.slice(),h),d=[[0,0]];if(h.canWrapX()&&n){const A=_t(h.getExtent());d.push([-A,0],[A,0])}const g=t.layerStatesArray,f=g.length,B=[],p=[];for(let n=0;n<d.length;n++)for(let i=f-1;i>=0;--i){const r=g[i],h=r.layer;if(h.hasRenderer()&&Hi(r,l)&&s.call(o,h)){const i=h.getRenderer(),s=h.getSource();if(i&&s){const o=s.getWrapX()?u:A,l=c.bind(null,r.managed);p[0]=o[0]+d[n][0],p[1]=o[1]+d[n][1],a=i.forEachFeatureAtCoordinate(p,t,e,l,B)}if(a)return a}}if(0===B.length)return;const w=1/B.length;return B.forEach((A,t)=>A.distanceSq+=t*w),B.sort((A,t)=>A.distanceSq-t.distanceSq),B.some(A=>a=A.callback(A.feature,A.layer,A.geometry)),a}hasFeatureAtCoordinate(A,t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(A,t,e,n,J,this,i,r)}getMap(){return this.map_}renderFrame(A){pA()}flushDeclutterItems(A){}scheduleExpireIconCache(A){se.canExpireCache()&&A.postRenderFunctions.push(Ti)}};const Di=class extends P{constructor(A,t,e,n){super(A),this.inversePixelTransform=t,this.frameState=e,this.context=n}},Ki="ol-hidden",Ri="ol-unselectable",ki="ol-control",Oi="ol-collapsed",Pi=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Gi=["style","variant","weight","size","lineHeight","family"],Ni=function(A){const t=A.match(Pi);if(!t)return null;const e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let A=0,n=Gi.length;A<n;++A){const n=t[A+1];void 0!==n&&(e[Gi[A]]=n)}return e.families=e.family.split(/,\s?/),e};function Vi(A,t,e,n){let i;return i=e&&e.length?e.shift():HA?new OffscreenCanvas(A||300,t||300):document.createElement("canvas"),A&&(i.width=A),t&&(i.height=t),i.getContext("2d",n)}function Xi(A){const t=A.canvas;t.width=1,t.height=1,A.clearRect(0,0,1,1)}function Wi(A){let t=A.offsetWidth;const e=getComputedStyle(A);return t+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),t}function Yi(A){let t=A.offsetHeight;const e=getComputedStyle(A);return t+=parseInt(e.marginTop,10)+parseInt(e.marginBottom,10),t}function ji(A,t){const e=t.parentNode;e&&e.replaceChild(A,t)}function Ji(A){return A&&A.parentNode?A.parentNode.removeChild(A):null}function Zi(A){for(;A.lastChild;)A.removeChild(A.lastChild)}const zi="10px sans-serif",qi="#000",$i="round",Ar=[],tr="round",er="#000",nr="center",ir="middle",rr=[0,0,0,0],sr=new yA;let or,ar=null;const lr={},cr=function(){const A="32px ",t=["monospace","serif"],e=t.length,n="wmytzilWMYTZIL@#/&?$%10";let i,r;function s(i,s,o){let a=!0;for(let l=0;l<e;++l){const e=t[l];if(r=dr(i+" "+s+" "+A+e,n),o!=e){const t=dr(i+" "+s+" "+A+o+","+e,n);a=a&&t!=r}}return!!a}function o(){let A=!0;const t=sr.getKeys();for(let e=0,n=t.length;e<n;++e){const n=t[e];sr.get(n)<100&&(s.apply(this,n.split("\n"))?($(lr),ar=null,or=void 0,sr.set(n,100)):(sr.set(n,sr.get(n)+1,!0),A=!1))}A&&(clearInterval(i),i=void 0)}return function(A){const t=Ni(A);if(!t)return;const e=t.families;for(let A=0,n=e.length;A<n;++A){const n=e[A],r=t.style+"\n"+t.weight+"\n"+n;void 0===sr.get(r)&&(sr.set(r,100,!0),s(t.style,t.weight,n)||(sr.set(r,0,!0),void 0===i&&(i=setInterval(o,32))))}}}(),hr=function(){let A;return function(t){let e=lr[t];if(null==e){if(HA){const A=Ni(t),n=ur(t,"g");e=(isNaN(Number(A.lineHeight))?1.2:Number(A.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else A||(A=document.createElement("div"),A.innerHTML="M",A.style.minHeight="0",A.style.maxHeight="none",A.style.height="auto",A.style.padding="0",A.style.border="none",A.style.position="absolute",A.style.display="block",A.style.left="-99999px"),A.style.font=t,document.body.appendChild(A),e=A.offsetHeight,document.body.removeChild(A);lr[t]=e}return e}}();function ur(A,t){return ar||(ar=Vi(1,1)),A!=or&&(ar.font=A,or=ar.font),ar.measureText(t)}function dr(A,t){return ur(A,t).width}function gr(A,t,e){if(t in e)return e[t];const n=t.split("\n").reduce((t,e)=>Math.max(t,dr(A,e)),0);return e[t]=n,n}function fr(A,t,e,n,i,r,s,o,a,l,c){A.save(),1!==e&&(A.globalAlpha*=e),t&&A.transform.apply(A,t),n.contextInstructions?(A.translate(a,l),A.scale(c[0],c[1]),function(A,t){const e=A.contextInstructions;for(let A=0,n=e.length;A<n;A+=2)Array.isArray(e[A+1])?t[e[A]].apply(t,e[A+1]):t[e[A]]=e[A+1]}(n,A)):c[0]<0||c[1]<0?(A.translate(a,l),A.scale(c[0],c[1]),A.drawImage(n,i,r,s,o,0,0,s,o)):A.drawImage(n,i,r,s,o,a,l,s*c[0],o*c[1]),A.restore()}const Br=class extends Mi{constructor(A){super(A),this.fontChangeListenerKey_=uA(sr,G,A.redrawText.bind(A)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Ri+" ol-layers";const e=A.getViewport();e.insertBefore(this.element_,e.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(A,t){const e=this.getMap();if(e.hasListener(A)){const n=new Di(A,void 0,t);e.dispatchEvent(n)}}disposeInternal(){gA(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(A){if(!A)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(A),this.dispatchRenderEvent(Ce,A);const t=A.layerStatesArray.sort(function(A,t){return A.zIndex-t.zIndex}),e=A.viewState;this.children_.length=0;const n=this.declutterLayers_;n.length=0;let i=null;for(let r=0,s=t.length;r<s;++r){const s=t[r];A.layerIndex=r;const o=s.layer,a=o.getSourceState();if(!Hi(s,e)||"ready"!=a&&"undefined"!=a){o.unrender();continue}const l=o.render(A,i);l&&(l!==i&&(this.children_.push(l),i=l),"getDeclutter"in o&&n.push(o))}this.flushDeclutterItems(A),function(A,t){const e=A.childNodes;for(let n=0;;++n){const i=e[n],r=t[n];if(!i&&!r)break;i!==r&&(i?r?A.insertBefore(r,i):(A.removeChild(i),--n):A.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent(ye,A),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(A)}flushDeclutterItems(A){const t=this.declutterLayers_;for(let e=t.length-1;e>=0;--e)t[e].renderDeclutter(A);t.length=0}};class pr extends P{constructor(A,t){super(A),this.layer=t}}const wr="layers";class mr extends pe{constructor(A){A=A||{};const t=Object.assign({},A);delete t.layers;let e=A.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(wr,this.handleLayersChanged_),e?Array.isArray(e)?e=new UA(e.slice(),{unique:!0}):MA("function"==typeof e.getArray,"Expected `layers` to be an array or a `Collection`"):e=new UA(void 0,{unique:!0}),this.setLayers(e)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(gA),this.layersListenerKeys_.length=0;const A=this.getLayers();this.layersListenerKeys_.push(uA(A,QA,this.handleLayersAdd_,this),uA(A,FA,this.handleLayersRemove_,this));for(const A in this.listenerKeys_)this.listenerKeys_[A].forEach(gA);$(this.listenerKeys_);const t=A.getArray();for(let A=0,e=t.length;A<e;A++){const e=t[A];this.registerLayerListeners_(e),this.dispatchEvent(new pr("addlayer",e))}this.changed()}registerLayerListeners_(A){const t=[uA(A,G,this.handleLayerChange_,this),uA(A,eA,this.handleLayerChange_,this)];A instanceof mr&&t.push(uA(A,"addlayer",this.handleLayerGroupAdd_,this),uA(A,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[mA(A)]=t}handleLayerGroupAdd_(A){this.dispatchEvent(new pr("addlayer",A.layer))}handleLayerGroupRemove_(A){this.dispatchEvent(new pr("removelayer",A.layer))}handleLayersAdd_(A){const t=A.element;this.registerLayerListeners_(t),this.dispatchEvent(new pr("addlayer",t)),this.changed()}handleLayersRemove_(A){const t=A.element,e=mA(t);this.listenerKeys_[e].forEach(gA),delete this.listenerKeys_[e],this.dispatchEvent(new pr("removelayer",t)),this.changed()}getLayers(){return this.get(wr)}setLayers(A){const t=this.getLayers();if(t){const A=t.getArray();for(let t=0,e=A.length;t<e;++t)this.dispatchEvent(new pr("removelayer",A[t]))}this.set(wr,A)}getLayersArray(A){return A=void 0!==A?A:[],this.getLayers().forEach(function(t){t.getLayersArray(A)}),A}getLayerStatesArray(A){const t=void 0!==A?A:[],e=t.length;this.getLayers().forEach(function(A){A.getLayerStatesArray(t)});const n=this.getLayerState();let i=n.zIndex;A||void 0!==n.zIndex||(i=0);for(let A=e,r=t.length;A<r;A++){const e=t[A];e.opacity*=n.opacity,e.visible=e.visible&&n.visible,e.maxResolution=Math.min(e.maxResolution,n.maxResolution),e.minResolution=Math.max(e.minResolution,n.minResolution),e.minZoom=Math.max(e.minZoom,n.minZoom),e.maxZoom=Math.min(e.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==e.extent?e.extent=yt(e.extent,n.extent):e.extent=n.extent),void 0===e.zIndex&&(e.zIndex=i)}return t}getSourceState(){return"ready"}}const Cr=mr;const yr=class extends P{constructor(A,t,e){super(A),this.map=t,this.frameState=void 0!==e?e:null}};const Qr=class extends yr{constructor(A,t,e,n,i,r){super(A,t,i),this.originalEvent=e,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(A){this.pixel_=A}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(A){this.coordinate_=A}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Fr={SINGLECLICK:"singleclick",CLICK:rA,DBLCLICK:sA,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},_r="pointermove",vr="pointerdown";const Ur=class extends tA{constructor(A,t){super(A),this.map_=A,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const e=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=e,this.pointerdownListenerKey_=uA(e,vr,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=uA(e,_r,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(cA,this.boundHandleTouchMove_,!!TA&&{passive:!1})}emulateClick_(A){let t=new Qr(Fr.CLICK,this.map_,A);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Qr(Fr.DBLCLICK,this.map_,A),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const t=new Qr(Fr.SINGLECLICK,this.map_,A);this.dispatchEvent(t)},250)}updateActivePointers_(A){const t=A,e=t.pointerId;if(t.type==Fr.POINTERUP||t.type==Fr.POINTERCANCEL){delete this.trackedTouches_[e];for(const A in this.trackedTouches_)if(this.trackedTouches_[A].target!==t.target){delete this.trackedTouches_[A];break}}else t.type!=Fr.POINTERDOWN&&t.type!=Fr.POINTERMOVE||(this.trackedTouches_[e]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(A){this.updateActivePointers_(A);const t=new Qr(Fr.POINTERUP,this.map_,A,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(A)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(gA),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(A){return 0===A.button}handlePointerDown_(A){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(A);const t=new Qr(Fr.POINTERDOWN,this.map_,A,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(A.type,A),Object.defineProperty(this.down_,"target",{writable:!1,value:A.target}),0===this.dragListenerKeys_.length){const A=this.map_.getOwnerDocument();this.dragListenerKeys_.push(uA(A,Fr.POINTERMOVE,this.handlePointerMove_,this),uA(A,Fr.POINTERUP,this.handlePointerUp_,this),uA(this.element_,Fr.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==A&&this.dragListenerKeys_.push(uA(this.element_.getRootNode(),Fr.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(A){if(this.isMoving_(A)){this.updateActivePointers_(A),this.dragging_=!0;const t=new Qr(Fr.POINTERDRAG,this.map_,A,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(A){this.originalPointerMoveEvent_=A;const t=!(!this.down_||!this.isMoving_(A));this.dispatchEvent(new Qr(Fr.POINTERMOVE,this.map_,A,t))}handleTouchMove_(A){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof A.cancelable&&!0!==A.cancelable||A.preventDefault()}isMoving_(A){return this.dragging_||Math.abs(A.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(A.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(gA(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(cA,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(gA(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(gA),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Er="postrender",xr="movestart",br="moveend",Ir="loadstart",Sr="loadend",Hr="layergroup",Lr="size",Tr="target",Mr="view",Dr=1/0;const Kr=class{constructor(A,t){this.priorityFunction_=A,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,$(this.queuedElements_)}dequeue(){const A=this.elements_,t=this.priorities_,e=A[0];1==A.length?(A.length=0,t.length=0):(A[0]=A.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(e);return delete this.queuedElements_[n],e}enqueue(A){MA(!(this.keyFunction_(A)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(A);return t!=Dr&&(this.elements_.push(A),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(A)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(A){return 2*A+1}getRightChildIndex_(A){return 2*A+2}getParentIndex_(A){return A-1>>1}heapify_(){let A;for(A=(this.elements_.length>>1)-1;A>=0;A--)this.siftUp_(A)}isEmpty(){return 0===this.elements_.length}isKeyQueued(A){return A in this.queuedElements_}isQueued(A){return this.isKeyQueued(this.keyFunction_(A))}siftUp_(A){const t=this.elements_,e=this.priorities_,n=t.length,i=t[A],r=e[A],s=A;for(;A<n>>1;){const i=this.getLeftChildIndex_(A),r=this.getRightChildIndex_(A),s=r<n&&e[r]<e[i]?r:i;t[A]=t[s],e[A]=e[s],A=s}t[A]=i,e[A]=r,this.siftDown_(s,A)}siftDown_(A,t){const e=this.elements_,n=this.priorities_,i=e[t],r=n[t];for(;t>A;){const A=this.getParentIndex_(t);if(!(n[A]>r))break;e[t]=e[A],n[t]=n[A],t=A}e[t]=i,n[t]=r}reprioritize(){const A=this.priorityFunction_,t=this.elements_,e=this.priorities_;let n=0;const i=t.length;let r,s,o;for(s=0;s<i;++s)r=t[s],o=A(r),o==Dr?delete this.queuedElements_[this.keyFunction_(r)]:(e[n]=o,t[n++]=r);t.length=n,e.length=n,this.heapify_()}},Rr=0,kr=1,Or=2,Pr=3,Gr=4;const Nr=class extends Kr{constructor(A,t){super(function(t){return A.apply(null,t)},function(A){return A[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(A){const t=super.enqueue(A);if(t){A[0].addEventListener(eA,this.boundHandleTileChange_)}return t}getTilesLoading(){return this.tilesLoading_}handleTileChange(A){const t=A.target,e=t.getState();if(e===Or||e===Pr||e===Gr){e!==Pr&&t.removeEventListener(eA,this.boundHandleTileChange_);const A=t.getKey();A in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[A],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(A,t){let e,n,i,r=0;for(;this.tilesLoading_<A&&r<t&&this.getCount()>0;)n=this.dequeue()[0],i=n.getKey(),e=n.getState(),e!==Rr||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())}};const Vr=class extends yA{constructor(A){super();const t=A.element;!t||A.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],A.render&&(this.render=A.render),A.target&&this.setTarget(A.target)}disposeInternal(){Ji(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(A){this.map_&&Ji(this.element);for(let A=0,t=this.listenerKeys.length;A<t;++A)gA(this.listenerKeys[A]);if(this.listenerKeys.length=0,this.map_=A,A){(this.target_?this.target_:A.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==z&&this.listenerKeys.push(uA(A,Er,this.render,this)),A.render()}}render(A){}setTarget(A){this.target_="string"==typeof A?document.getElementById(A):A}};const Xr=class extends Vr{constructor(A){A=A||{},super({element:document.createElement("div"),render:A.render,target:A.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===A.collapsed||A.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==A.collapsible,this.collapsible_=void 0===A.collapsible||A.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==A.className?A.className:"ol-attribution",e=void 0!==A.tipLabel?A.tipLabel:"Attributions",n=void 0!==A.expandClassName?A.expandClassName:t+"-expand",i=void 0!==A.collapseLabel?A.collapseLabel:"",r=void 0!==A.collapseClassName?A.collapseClassName:t+"-collapse";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=r):this.collapseLabel_=i;const s=void 0!==A.label?A.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=n):this.label_=s;const o=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=e,this.toggleButton_.appendChild(o),this.toggleButton_.addEventListener(rA,this.handleClick_.bind(this),!1);const a=t+" "+Ri+" "+ki+(this.collapsed_&&this.collapsible_?" "+Oi:"")+(this.collapsible_?"":" ol-uncollapsible"),l=this.element;l.className=a,l.appendChild(this.toggleButton_),l.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(A){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(t=>t.getAttributions(A)))),e=!this.getMap().getAllLayers().some(A=>A.getSource()&&!1===A.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(e),t}updateElement_(A){if(!A)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(A),e=t.length>0;if(this.renderedVisible_!=e&&(this.element.style.display=e?"":"none",this.renderedVisible_=e),!j(t,this.renderedAttributions_)){Zi(this.ulElement_);for(let A=0,e=t.length;A<e;++A){const e=document.createElement("li");e.innerHTML=t[A],this.ulElement_.appendChild(e)}this.renderedAttributions_=t}}handleClick_(A){A.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Oi),this.collapsed_?ji(this.collapseLabel_,this.label_):ji(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(A){this.collapsible_!==A&&(this.collapsible_=A,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(A){this.userCollapsed_=A,this.collapsible_&&this.collapsed_!==A&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(A){this.updateElement_(A.frameState)}};const Wr=class extends Vr{constructor(A){A=A||{},super({element:document.createElement("div"),render:A.render,target:A.target});const t=void 0!==A.className?A.className:"ol-rotate",e=void 0!==A.label?A.label:"",n=void 0!==A.compassClassName?A.compassClassName:"ol-compass";this.label_=null,"string"==typeof e?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=e):(this.label_=e,this.label_.classList.add(n));const i=A.tipLabel?A.tipLabel:"Reset rotation",r=document.createElement("button");r.className=t+"-reset",r.setAttribute("type","button"),r.title=i,r.appendChild(this.label_),r.addEventListener(rA,this.handleClick_.bind(this),!1);const s=t+" "+Ri+" "+ki,o=this.element;o.className=s,o.appendChild(r),this.callResetNorth_=A.resetNorth?A.resetNorth:void 0,this.duration_=void 0!==A.duration?A.duration:250,this.autoHide_=void 0===A.autoHide||A.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ki)}handleClick_(A){A.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const A=this.getMap().getView();if(!A)return;const t=A.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?A.animate({rotation:0,duration:this.duration_,easing:Hn}):A.setRotation(0))}render(A){const t=A.frameState;if(!t)return;const e=t.viewState.rotation;if(e!=this.rotation_){const A="rotate("+e+"rad)";if(this.autoHide_){const A=this.element.classList.contains(Ki);A||0!==e?A&&0!==e&&this.element.classList.remove(Ki):this.element.classList.add(Ki)}this.label_.style.transform=A}this.rotation_=e}};const Yr=class extends Vr{constructor(A){A=A||{},super({element:document.createElement("div"),target:A.target});const t=void 0!==A.className?A.className:"ol-zoom",e=void 0!==A.delta?A.delta:1,n=void 0!==A.zoomInClassName?A.zoomInClassName:t+"-in",i=void 0!==A.zoomOutClassName?A.zoomOutClassName:t+"-out",r=void 0!==A.zoomInLabel?A.zoomInLabel:"+",s=void 0!==A.zoomOutLabel?A.zoomOutLabel:"",o=void 0!==A.zoomInTipLabel?A.zoomInTipLabel:"Zoom in",a=void 0!==A.zoomOutTipLabel?A.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n,l.setAttribute("type","button"),l.title=o,l.appendChild("string"==typeof r?document.createTextNode(r):r),l.addEventListener(rA,this.handleClick_.bind(this,e),!1);const c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof s?document.createTextNode(s):s),c.addEventListener(rA,this.handleClick_.bind(this,-e),!1);const h=t+" "+Ri+" "+ki,u=this.element;u.className=h,u.appendChild(l),u.appendChild(c),this.duration_=void 0!==A.duration?A.duration:250}handleClick_(A,t){t.preventDefault(),this.zoomByDelta_(A)}zoomByDelta_(A){const t=this.getMap().getView();if(!t)return;const e=t.getZoom();if(void 0!==e){const n=t.getConstrainedZoom(e+A);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:Hn})):t.setZoom(n)}}};function jr(A){A=A||{};const t=new UA;(void 0===A.zoom||A.zoom)&&t.push(new Yr(A.zoomOptions));(void 0===A.rotate||A.rotate)&&t.push(new Wr(A.rotateOptions));return(void 0===A.attribution||A.attribution)&&t.push(new Xr(A.attributionOptions)),t}const Jr="active";function Zr(A,t,e,n){const i=A.getZoom();if(void 0===i)return;const r=A.getConstrainedZoom(i+t),s=A.getResolutionForZoom(r);A.getAnimating()&&A.cancelAnimations(),A.animate({resolution:s,anchor:e,duration:void 0!==n?n:250,easing:Hn})}const zr=class extends yA{constructor(A){super(),this.on,this.once,this.un,A&&A.handleEvent&&(this.handleEvent=A.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Jr)}getMap(){return this.map_}handleEvent(A){return!0}setActive(A){this.set(Jr,A)}setMap(A){this.map_=A}};const qr=class extends zr{constructor(A){super(),A=A||{},this.delta_=A.delta?A.delta:1,this.duration_=void 0!==A.duration?A.duration:250}handleEvent(A){let t=!1;if(A.type==Fr.DBLCLICK){const e=A.originalEvent,n=A.map,i=A.coordinate,r=e.shiftKey?-this.delta_:this.delta_;Zr(n.getView(),r,i,this.duration_),e.preventDefault(),t=!0}return!t}};function $r(A){const t=A.length;let e=0,n=0;for(let i=0;i<t;i++)e+=A[i].clientX,n+=A[i].clientY;return{clientX:e/t,clientY:n/t}}const As=class extends zr{constructor(A){super(A=A||{}),A.handleDownEvent&&(this.handleDownEvent=A.handleDownEvent),A.handleDragEvent&&(this.handleDragEvent=A.handleDragEvent),A.handleMoveEvent&&(this.handleMoveEvent=A.handleMoveEvent),A.handleUpEvent&&(this.handleUpEvent=A.handleUpEvent),A.stopDown&&(this.stopDown=A.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(A){return!1}handleDragEvent(A){}handleEvent(A){if(!A.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(A),this.handlingDownUpSequence){if(A.type==Fr.POINTERDRAG)this.handleDragEvent(A),A.originalEvent.preventDefault();else if(A.type==Fr.POINTERUP){const t=this.handleUpEvent(A);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(A.type==Fr.POINTERDOWN){const e=this.handleDownEvent(A);this.handlingDownUpSequence=e,t=this.stopDown(e)}else A.type==Fr.POINTERMOVE&&this.handleMoveEvent(A);return!t}handleMoveEvent(A){}handleUpEvent(A){return!1}stopDown(A){return A}updateTrackedPointers_(A){A.activePointers&&(this.targetPointers=A.activePointers)}};function ts(A){const t=arguments;return function(A){let e=!0;for(let n=0,i=t.length;n<i&&(e=e&&t[n](A),e);++n);return e}}const es=function(A){const t=A.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ns=function(A){return!A.map.getTargetElement().hasAttribute("tabindex")||function(A){const t=A.map.getTargetElement(),e=A.map.getOwnerDocument().activeElement;return t.contains(e)}(A)},is=J,rs=function(A){const t=A.originalEvent;return 0==t.button&&!(bA&&IA&&t.ctrlKey)},ss=function(A){const t=A.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},os=function(A){const t=A.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},as=function(A){const t=A.originalEvent,e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e&&!t.target.isContentEditable},ls=function(A){const t=A.originalEvent;return MA(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},cs=function(A){const t=A.originalEvent;return MA(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button};const hs=class extends As{constructor(A){super({stopDown:Z}),A=A||{},this.kinetic_=A.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=A.condition?A.condition:ts(ss,cs);this.condition_=A.onFocusOnly?ts(ns,t):t,this.noKinetic_=!1}handleDragEvent(A){const t=A.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const e=this.targetPointers,n=t.getEventPixel($r(e));if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const t=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],e=A.map.getView();!function(A,t){A[0]*=t,A[1]*=t}(t,e.getResolution()),We(t,e.getRotation()),e.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,A.originalEvent.preventDefault()}handleUpEvent(A){const t=A.map,e=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const A=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),i=e.getCenterInternal(),r=t.getPixelFromCoordinateInternal(i),s=t.getCoordinateFromPixelInternal([r[0]-A*Math.cos(n),r[1]-A*Math.sin(n)]);e.animateInternal({center:e.getConstrainedCenter(s),duration:500,easing:Hn})}return this.panning_&&(this.panning_=!1,e.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(A){if(this.targetPointers.length>0&&this.condition_(A)){const t=A.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};const us=class extends As{constructor(A){A=A||{},super({stopDown:Z}),this.condition_=A.condition?A.condition:es,this.lastAngle_=void 0,this.duration_=void 0!==A.duration?A.duration:250}handleDragEvent(A){if(!ls(A))return;const t=A.map,e=t.getView();if(e.getConstraints().rotation===bn)return;const n=t.getSize(),i=A.pixel,r=Math.atan2(n[1]/2-i[1],i[0]-n[0]/2);if(void 0!==this.lastAngle_){const A=r-this.lastAngle_;e.adjustRotationInternal(-A)}this.lastAngle_=r}handleUpEvent(A){if(!ls(A))return!0;return A.map.getView().endInteraction(this.duration_),!1}handleDownEvent(A){if(!ls(A))return!1;if(rs(A)&&this.condition_(A)){return A.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};const ds=class extends N{constructor(A){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+A,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const A=this.startPixel_,t=this.endPixel_,e="px",n=this.element_.style;n.left=Math.min(A[0],t[0])+e,n.top=Math.min(A[1],t[1])+e,n.width=Math.abs(t[0]-A[0])+e,n.height=Math.abs(t[1]-A[1])+e}setMap(A){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const A=this.element_.style;A.left="inherit",A.top="inherit",A.width="inherit",A.height="inherit"}this.map_=A,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(A,t){this.startPixel_=A,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const A=this.startPixel_,t=this.endPixel_,e=[A,[A[0],t[1]],t,[t[0],A[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);e[4]=e[0].slice(),this.geometry_?this.geometry_.setCoordinates([e]):this.geometry_=new Ui([e])}getGeometry(){return this.geometry_}},gs="boxstart",fs="boxdrag",Bs="boxend",ps="boxcancel";class ws extends P{constructor(A,t,e){super(A),this.coordinate=t,this.mapBrowserEvent=e}}const ms=class extends As{constructor(A){super(),this.on,this.once,this.un,A=A||{},this.box_=new ds(A.className||"ol-dragbox"),this.minArea_=void 0!==A.minArea?A.minArea:64,A.onBoxEnd&&(this.onBoxEnd=A.onBoxEnd),this.startPixel_=null,this.condition_=A.condition?A.condition:rs,this.boxEndCondition_=A.boxEndCondition?A.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(A,t,e){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(A){this.box_.setPixels(this.startPixel_,A.pixel),this.dispatchEvent(new ws(fs,A.coordinate,A))}handleUpEvent(A){this.box_.setMap(null);const t=this.boxEndCondition_(A,this.startPixel_,A.pixel);return t&&this.onBoxEnd(A),this.dispatchEvent(new ws(t?Bs:ps,A.coordinate,A)),!1}handleDownEvent(A){return!!this.condition_(A)&&(this.startPixel_=A.pixel,this.box_.setMap(A.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ws(gs,A.coordinate,A)),!0)}onBoxEnd(A){}};const Cs=class extends ms{constructor(A){super({condition:(A=A||{}).condition?A.condition:os,className:A.className||"ol-dragzoom",minArea:A.minArea}),this.duration_=void 0!==A.duration?A.duration:200,this.out_=void 0!==A.out&&A.out}onBoxEnd(A){const t=this.getMap().getView();let e=this.getGeometry();if(this.out_){const A=t.rotatedExtentForGeometry(e),n=t.getResolutionForExtentInternal(A),i=t.getResolution()/n;e=e.clone(),e.scale(i*i)}t.fitInternal(e,{duration:this.duration_,easing:Hn})}},ys="ArrowLeft",Qs="ArrowUp",Fs="ArrowRight",_s="ArrowDown";const vs=class extends zr{constructor(A){super(),A=A||{},this.defaultCondition_=function(A){return ss(A)&&as(A)},this.condition_=void 0!==A.condition?A.condition:this.defaultCondition_,this.duration_=void 0!==A.duration?A.duration:100,this.pixelDelta_=void 0!==A.pixelDelta?A.pixelDelta:128}handleEvent(A){let t=!1;if(A.type==oA){const e=A.originalEvent,n=e.key;if(this.condition_(A)&&(n==_s||n==ys||n==Fs||n==Qs)){const i=A.map.getView(),r=i.getResolution()*this.pixelDelta_;let s=0,o=0;n==_s?o=-r:n==ys?s=-r:n==Fs?s=r:o=r;const a=[s,o];We(a,i.getRotation()),function(A,t,e){const n=A.getCenterInternal();if(n){const i=[n[0]+t[0],n[1]+t[1]];A.animateInternal({duration:void 0!==e?e:250,easing:Tn,center:A.getConstrainedCenter(i)})}}(i,a,this.duration_),e.preventDefault(),t=!0}}return!t}};const Us=class extends zr{constructor(A){super(),A=A||{},this.condition_=A.condition?A.condition:function(A){return!function(A){const t=A.originalEvent;return IA?t.metaKey:t.ctrlKey}(A)&&as(A)},this.delta_=A.delta?A.delta:1,this.duration_=void 0!==A.duration?A.duration:100}handleEvent(A){let t=!1;if(A.type==oA||A.type==aA){const e=A.originalEvent,n=e.key;if(this.condition_(A)&&("+"===n||"-"===n)){const i=A.map,r="+"===n?this.delta_:-this.delta_;Zr(i.getView(),r,void 0,this.duration_),e.preventDefault(),t=!0}}return!t}};const Es=class{constructor(A,t,e){this.decay_=A,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(A,t){this.points_.push(A,t,Date.now())}end(){if(this.points_.length<6)return!1;const A=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<A)return!1;let e=t-3;for(;e>0&&this.points_[e+2]>A;)e-=3;const n=this.points_[t+2]-this.points_[e+2];if(n<1e3/60)return!1;const i=this.points_[t]-this.points_[e],r=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(r,i),this.initialVelocity_=Math.sqrt(i*i+r*r)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};const xs=class extends zr{constructor(A){super(A=A||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==A.maxDelta?A.maxDelta:1,this.duration_=void 0!==A.duration?A.duration:250,this.timeout_=void 0!==A.timeout?A.timeout:80,this.useAnchor_=void 0===A.useAnchor||A.useAnchor,this.constrainResolution_=void 0!==A.constrainResolution&&A.constrainResolution;const t=A.condition?A.condition:is;this.condition_=A.onFocusOnly?ts(ns,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const A=this.getMap();if(!A)return;A.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(A){if(!this.condition_(A))return!0;if(A.type!==hA)return!0;const t=A.map,e=A.originalEvent;let n;if(e.preventDefault(),this.useAnchor_&&(this.lastAnchor_=A.coordinate),A.type==hA&&(n=e.deltaY,xA&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=SA),e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const r=t.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=n;const s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(A){const t=A.getView();t.getAnimating()&&t.cancelAnimations();let e=-Ot(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(e=e?e>0?1:-1:0),Zr(t,e,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(A){this.useAnchor_=A,A||(this.lastAnchor_=null)}};const bs=class extends As{constructor(A){const t=A=A||{};t.stopDown||(t.stopDown=Z),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==A.threshold?A.threshold:.3,this.duration_=void 0!==A.duration?A.duration:250}handleDragEvent(A){let t=0;const e=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-e.clientY,n.clientX-e.clientX);if(void 0!==this.lastAngle_){const A=i-this.lastAngle_;this.rotationDelta_+=A,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=A}this.lastAngle_=i;const r=A.map,s=r.getView();s.getConstraints().rotation!==bn&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel($r(this.targetPointers))),this.rotating_&&(r.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(A){if(this.targetPointers.length<2){return A.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(A){if(this.targetPointers.length>=2){const t=A.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};const Is=class extends As{constructor(A){const t=A=A||{};t.stopDown||(t.stopDown=Z),super(t),this.anchor_=null,this.duration_=void 0!==A.duration?A.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(A){let t=1;const e=this.targetPointers[0],n=this.targetPointers[1],i=e.clientX-n.clientX,r=e.clientY-n.clientY,s=Math.sqrt(i*i+r*r);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const o=A.map,a=o.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel($r(this.targetPointers))),o.render(),a.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(A){if(this.targetPointers.length<2){const t=A.map.getView(),e=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,e),!1}return!0}handleDownEvent(A){if(this.targetPointers.length>=2){const t=A.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function Ss(A){A=A||{};const t=new UA,e=new Es(-.005,.05,100);(void 0===A.altShiftDragRotate||A.altShiftDragRotate)&&t.push(new us);(void 0===A.doubleClickZoom||A.doubleClickZoom)&&t.push(new qr({delta:A.zoomDelta,duration:A.zoomDuration}));(void 0===A.dragPan||A.dragPan)&&t.push(new hs({onFocusOnly:A.onFocusOnly,kinetic:e}));(void 0===A.pinchRotate||A.pinchRotate)&&t.push(new bs);(void 0===A.pinchZoom||A.pinchZoom)&&t.push(new Is({duration:A.zoomDuration}));(void 0===A.keyboard||A.keyboard)&&(t.push(new vs),t.push(new Us({delta:A.zoomDelta,duration:A.zoomDuration})));(void 0===A.mouseWheelZoom||A.mouseWheelZoom)&&t.push(new xs({onFocusOnly:A.onFocusOnly,duration:A.zoomDuration}));return(void 0===A.shiftDragZoom||A.shiftDragZoom)&&t.push(new Cs({duration:A.zoomDuration})),t}function Hs(A){return A[0]>0&&A[1]>0}function Ls(A,t){return Array.isArray(A)?A:(void 0===t?t=[A,A]:(t[0]=A,t[1]=A),t)}function Ts(A){A instanceof Li?A.setMapInternal(null):A instanceof Cr&&A.getLayers().forEach(Ts)}function Ms(A,t){if(A instanceof Li)A.setMapInternal(t);else if(A instanceof Cr){const e=A.getLayers().getArray();for(let A=0,n=e.length;A<n;++A)Ms(e[A],t)}}const Ds=class extends yA{constructor(A){super(),A=A||{},this.on,this.once,this.un;const t=function(A){let t=null;void 0!==A.keyboardEventTarget&&(t="string"==typeof A.keyboardEventTarget?document.getElementById(A.keyboardEventTarget):A.keyboardEventTarget);const e={},n=A.layers&&"function"==typeof A.layers.getLayers?A.layers:new Cr({layers:A.layers});let i,r,s;e[Hr]=n,e[Tr]=A.target,e[Mr]=A.view instanceof Si?A.view:new Si,void 0!==A.controls&&(Array.isArray(A.controls)?i=new UA(A.controls.slice()):(MA("function"==typeof A.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),i=A.controls));void 0!==A.interactions&&(Array.isArray(A.interactions)?r=new UA(A.interactions.slice()):(MA("function"==typeof A.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),r=A.interactions));void 0!==A.overlays?Array.isArray(A.overlays)?s=new UA(A.overlays.slice()):(MA("function"==typeof A.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=A.overlays):s=new UA;return{controls:i,interactions:r,keyboardEventTarget:t,overlays:s,values:e}}(A);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==A.maxTilesLoading?A.maxTilesLoading:16,this.pixelRatio_=void 0!==A.pixelRatio?A.pixelRatio:SA,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=A.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||jr(),this.interactions=t.interactions||Ss({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Nr(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Hr,this.handleLayerGroupChanged_),this.addChangeListener(Mr,this.handleViewChanged_),this.addChangeListener(Lr,this.handleSizeChanged_),this.addChangeListener(Tr,this.handleTargetChanged_),this.setProperties(t.values);const e=this;!A.view||A.view instanceof Si||A.view.then(function(A){e.setView(new Si(A))}),this.controls.addEventListener(QA,A=>{A.element.setMap(this)}),this.controls.addEventListener(FA,A=>{A.element.setMap(null)}),this.interactions.addEventListener(QA,A=>{A.element.setMap(this)}),this.interactions.addEventListener(FA,A=>{A.element.setMap(null)}),this.overlays_.addEventListener(QA,A=>{this.addOverlayInternal_(A.element)}),this.overlays_.addEventListener(FA,A=>{const t=A.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],A.element.setMap(null)}),this.controls.forEach(A=>{A.setMap(this)}),this.interactions.forEach(A=>{A.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(A){this.getControls().push(A)}addInteraction(A){this.getInteractions().push(A)}addLayer(A){this.getLayerGroup().getLayers().push(A)}handleLayerAdd_(A){Ms(A.layer,this)}addOverlay(A){this.getOverlays().push(A)}addOverlayInternal_(A){const t=A.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=A),A.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(A,t,e){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(A),i=void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance:0,r=void 0!==e.layerFilter?e.layerFilter:J,s=!1!==e.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,s,t,null,r,null)}getFeaturesAtPixel(A,t){const e=[];return this.forEachFeatureAtPixel(A,function(A){e.push(A)},t),e}getAllLayers(){const A=[];return function t(e){e.forEach(function(e){e instanceof Cr?t(e.getLayers()):A.push(e)})}(this.getLayers()),A}hasFeatureAtPixel(A,t){if(!this.frameState_||!this.renderer_)return!1;const e=this.getCoordinateFromPixelInternal(A),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:J,i=void 0!==t.hitTolerance?t.hitTolerance:0,r=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(e,this.frameState_,i,r,n,null)}getEventCoordinate(A){return this.getCoordinateFromPixel(this.getEventPixel(A))}getEventCoordinateInternal(A){return this.getCoordinateFromPixelInternal(this.getEventPixel(A))}getEventPixel(A){const t=this.viewport_.getBoundingClientRect(),e=this.getSize(),n=t.width/e[0],i=t.height/e[1],r="changedTouches"in A?A.changedTouches[0]:A;return[(r.clientX-t.left)/n,(r.clientY-t.top)/i]}getTarget(){return this.get(Tr)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(A){return Bn(this.getCoordinateFromPixelInternal(A),this.getView().getProjection())}getCoordinateFromPixelInternal(A){const t=this.frameState_;return t?KA(t.pixelToCoordinateTransform,A.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(A){const t=this.overlayIdIndex_[A.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Hr)}setLayers(A){const t=this.getLayerGroup();if(A instanceof UA)return void t.setLayers(A);const e=t.getLayers();e.clear(),e.extend(A)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const A=this.getLayerGroup().getLayerStatesArray();for(let t=0,e=A.length;t<e;++t){const e=A[t];if(!e.visible)continue;const n=e.layer.getRenderer();if(n&&!n.ready)return!0;const i=e.layer.getSource();if(i&&i.loading)return!0}return!1}getPixelFromCoordinate(A){const t=pn(A,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(A){const t=this.frameState_;return t?KA(t.coordinateToPixelTransform,A.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Lr)}getView(){return this.get(Mr)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const A=this.getTargetElement();return A?A.ownerDocument:document}getTilePriority(A,t,e,n){return function(A,t,e,n,i){if(!A||!(e in A.wantedTiles))return Dr;if(!A.wantedTiles[e][t.getKey()])return Dr;const r=A.viewState.center,s=n[0]-r[0],o=n[1]-r[1];return 65536*Math.log(i)+Math.sqrt(s*s+o*o)/i}(this.frameState_,A,t,e,n)}handleBrowserEvent(A,t){t=t||A.type;const e=new Qr(t,this,A);this.handleMapBrowserEvent(e)}handleMapBrowserEvent(A){if(!this.frameState_)return;const t=A.originalEvent,e=t.type;if(e===vr||e===hA||e===oA){const A=this.getOwnerDocument(),e=this.viewport_.getRootNode?this.viewport_.getRootNode():A,n=t.target;if(this.overlayContainerStopEvent_.contains(n)||!(e===A?A.documentElement:e).contains(n))return}if(A.frameState=this.frameState_,!1!==this.dispatchEvent(A)){const t=this.getInteractions().getArray().slice();for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.getMap()!==this||!n.getActive()||!this.getTargetElement())continue;if(!n.handleEvent(A)||A.propagationStopped)break}}}handlePostRender(){const A=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let e=this.maxTilesLoading_,n=e;if(A){const t=A.viewHints;if(t[Fe]||t[_e]){const t=Date.now()-A.time>8;e=t?0:8,n=t?0:2}}t.getTilesLoading()<e&&(t.reprioritize(),t.loadMoreTiles(e,n))}A&&this.renderer_&&!A.animate&&(!0===this.renderComplete_?(this.hasListener(Qe)&&this.renderer_.dispatchRenderEvent(Qe,A),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new yr(Sr,this,A)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new yr(Ir,this,A))));const e=this.postRenderFunctions_;for(let t=0,n=e.length;t<n;++t)e[t](this,A);e.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let A=0,t=this.targetChangeHandlerKeys_.length;A<t;++A)gA(this.targetChangeHandlerKeys_[A]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(iA,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(hA,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Ji(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const A=this.targetElement_.getRootNode();A instanceof ShadowRoot&&this.resizeObserver_.unobserve(A.host),this.setSize(void 0)}const A=this.getTarget(),t="string"==typeof A?document.getElementById(A):A;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Br(this)),this.mapBrowserEventHandler_=new Ur(this,this.moveTolerance_);for(const A in Fr)this.mapBrowserEventHandler_.addEventListener(Fr[A],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(iA,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(hA,this.boundHandleBrowserEvent_,!!TA&&{passive:!1});const A=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[uA(A,oA,this.handleBrowserEvent,this),uA(A,aA,this.handleBrowserEvent,this)];const e=t.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.observe(e.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(gA(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(gA(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const A=this.getView();A&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=uA(A,G,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=uA(A,eA,this.handleViewPropertyChanged_,this),A.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(gA),this.layerGroupPropertyListenerKeys_=null);const A=this.getLayerGroup();A&&(this.handleLayerAdd_(new pr("addlayer",A)),this.layerGroupPropertyListenerKeys_=[uA(A,G,this.render,this),uA(A,eA,this.render,this),uA(A,"addlayer",this.handleLayerAdd_,this),uA(A,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const A=this.getLayerGroup().getLayerStatesArray();for(let t=0,e=A.length;t<e;++t){const e=A[t].layer;e.hasRenderer()&&e.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const A=this.frameState_;A&&this.renderer_.flushDeclutterItems(A)}removeControl(A){return this.getControls().remove(A)}removeInteraction(A){return this.getInteractions().remove(A)}removeLayer(A){return this.getLayerGroup().getLayers().remove(A)}handleLayerRemove_(A){Ts(A.layer)}removeOverlay(A){return this.getOverlays().remove(A)}renderFrame_(A){const t=this.getSize(),e=this.getView(),n=this.frameState_;let i=null;if(void 0!==t&&Hs(t)&&e&&e.isDef()){const n=e.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=e.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:wt(r.center,r.resolution,r.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:A,usedTiles:{},viewState:r,viewHints:n,wantedTiles:{},mapId:mA(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const A=isNaN(r.nextRotation)?r.rotation:r.nextRotation;i.nextExtent=wt(r.nextCenter,r.nextResolution,A,t)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n){(!this.previousExtent_||!Ut(this.previousExtent_)&&!ot(i.extent,this.previousExtent_))&&(this.dispatchEvent(new yr(xr,this,n)),this.previousExtent_=it(this.previousExtent_))}this.previousExtent_&&!i.viewHints[Fe]&&!i.viewHints[_e]&&!ot(i.extent,this.previousExtent_)&&(this.dispatchEvent(new yr(br,this,i)),ZA(i.extent,this.previousExtent_))}this.dispatchEvent(new yr(Er,this,i)),this.renderComplete_=this.hasListener(Ir)||this.hasListener(Sr)||this.hasListener(Qe)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(A){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new pr("removelayer",t)),this.set(Hr,A)}setSize(A){this.set(Lr,A)}setTarget(A){this.set(Tr,A)}setView(A){if(!A||A instanceof Si)return void this.set(Mr,A);this.set(Mr,new Si);const t=this;A.then(function(A){t.setView(new Si(A))})}updateSize(){const A=this.getTargetElement();let t;if(A){const e=getComputedStyle(A),n=A.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),i=A.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth);isNaN(n)||isNaN(i)||(t=[n,i],!Hs(t)&&(A.offsetWidth||A.offsetHeight||A.getClientRects().length)&&qe("No map visible because the map container's width or height are 0."))}const e=this.getSize();!t||e&&j(t,e)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(A){const t=this.getView();t&&t.setViewportSize(A)}},Ks="preload",Rs="useInterimTilesOnError";const ks=class extends Li{constructor(A){A=A||{};const t=Object.assign({},A);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(void 0!==A.preload?A.preload:0),this.setUseInterimTilesOnError(void 0===A.useInterimTilesOnError||A.useInterimTilesOnError)}getPreload(){return this.get(Ks)}setPreload(A){this.set(Ks,A)}getUseInterimTilesOnError(){return this.get(Rs)}setUseInterimTilesOnError(A){this.set(Rs,A)}getData(A){return super.getData(A)}},Os=0,Ps=1,Gs=2,Ns=3;const Vs=class extends BA{constructor(A){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=A,this.declutterExecutorGroup=null}getFeatures(A){return pA()}getData(A){return null}prepareFrame(A){return pA()}renderFrame(A,t){return pA()}loadedTileCallback(A,t,e){A[t]||(A[t]={}),A[t][e.tileCoord.toString()]=e}createLoadedTileFinder(A,t,e){return(n,i)=>{const r=this.loadedTileCallback.bind(this,e,n);return A.forEachLoadedTile(t,n,i,r)}}forEachFeatureAtCoordinate(A,t,e,n,i){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(A){const t=A.target;t.getState()!==Gs&&t.getState()!==Ns||this.renderIfReadyAndVisible()}loadImage(A){let t=A.getState();return t!=Gs&&t!=Ns&&A.addEventListener(eA,this.boundHandleImageChange_),t==Os&&(A.load(),t=A.getState()),t==Gs}renderIfReadyAndVisible(){const A=this.getLayer();A&&A.getVisible()&&"ready"===A.getSourceState()&&A.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},Xs=[];let Ws=null;const Ys=class extends Vs{constructor(A){super(A),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(A,t,e){let n;Ws||(Ws=Vi(1,1,void 0,{willReadFrequently:!0})),Ws.clearRect(0,0,1,1);try{Ws.drawImage(A,t,e,1,1,0,0,1,1),n=Ws.getImageData(0,0,1,1).data}catch(A){return Ws=null,null}return n}getBackground(A){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(A.viewState.resolution)),t||void 0}useContainer(A,t,e){const n=this.getLayer().getClassName();let i,r;if(A&&A.className===n&&(!e||A&&A.style.backgroundColor&&j(te(A.style.backgroundColor),te(e)))){const t=A.firstElementChild;t instanceof HTMLCanvasElement&&(r=t.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=A,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=document.createElement("div"),i.className=n;let A=i.style;A.position="absolute",A.width="100%",A.height="100%",r=Vi();const t=r.canvas;i.appendChild(t),A=t.style,A.position="absolute",A.left="0",A.transformOrigin="top left",this.container=i,this.context=r}this.containerReused||!e||this.container.style.backgroundColor||(this.container.style.backgroundColor=e)}clipUnrotated(A,t,e){const n=Qt(e),i=Ft(e),r=ft(e),s=gt(e);KA(t.coordinateToPixelTransform,n),KA(t.coordinateToPixelTransform,i),KA(t.coordinateToPixelTransform,r),KA(t.coordinateToPixelTransform,s);const o=this.inversePixelTransform;KA(o,n),KA(o,i),KA(o,r),KA(o,s),A.save(),A.beginPath(),A.moveTo(Math.round(n[0]),Math.round(n[1])),A.lineTo(Math.round(i[0]),Math.round(i[1])),A.lineTo(Math.round(r[0]),Math.round(r[1])),A.lineTo(Math.round(s[0]),Math.round(s[1])),A.clip()}dispatchRenderEvent_(A,t,e){const n=this.getLayer();if(n.hasListener(A)){const i=new Di(A,this.inversePixelTransform,e,t);n.dispatchEvent(i)}}preRender(A,t){this.frameState=t,this.dispatchRenderEvent_(we,A,t)}postRender(A,t){this.dispatchRenderEvent_(me,A,t)}getRenderTransform(A,t,e,n,i,r,s){const o=i/2,a=r/2,l=n/t,c=-l,h=-A[0]+s,u=-A[1];return RA(this.tempTransform,o,a,l,c,-e,h,u)}disposeInternal(){delete this.frameState,super.disposeInternal()}};const js=class extends tA{constructor(A,t,e){super(),e=e||{},this.tileCoord=A,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===e.transition?250:e.transition,this.transitionStarts_={},this.interpolate=!!e.interpolate}changed(){this.dispatchEvent(eA)}release(){this.state===Pr&&this.setState(Gr)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let A=this.interimTile;if(!A)return this;do{if(A.getState()==Or)return this.transition_=0,A;A=A.interimTile}while(A);return this}refreshInterimChain(){let A=this.interimTile;if(!A)return;let t=this;do{if(A.getState()==Or){A.interimTile=null;break}A.getState()==kr?t=A:A.getState()==Rr?t.interimTile=A.interimTile:t=A,A=t.interimTile}while(A)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(A){if(this.state!==Pr&&this.state>A)throw new Error("Tile load sequence violation");this.state=A,this.changed()}load(){pA()}getAlpha(A,t){if(!this.transition_)return 1;let e=this.transitionStarts_[A];if(e){if(-1===e)return 1}else e=t,this.transitionStarts_[A]=e;const n=t-e+1e3/60;return n>=this.transition_?1:Sn(n/this.transition_)}inTransition(A){return!!this.transition_&&-1!==this.transitionStarts_[A]}endTransition(A){this.transition_&&(this.transitionStarts_[A]=-1)}};function Js(A,t){return t&&(A.src=t),A.src&&LA?new Promise((t,e)=>A.decode().then(()=>t(A)).catch(n=>A.complete&&A.width?t(A):e(n))):function(A,t){return new Promise((e,n)=>{function i(){s(),e(A)}function r(){s(),n(new Error("Image load error"))}function s(){A.removeEventListener("load",i),A.removeEventListener("error",r)}A.addEventListener("load",i),A.addEventListener("error",r),t&&(A.src=t)})}(A)}const Zs=class extends js{constructor(A,t,e,n,i,r){super(A,t,r),this.crossOrigin_=n,this.src_=e,this.key=e,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=i}getImage(){return this.image_}setImage(A){this.image_=A,this.state=Or,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Pr,this.unlistenImage_(),this.image_=function(){const A=Vi(1,1);return A.fillStyle="rgba(0,0,0,0)",A.fillRect(0,0,1,1),A.canvas}(),this.changed()}handleImageLoad_(){const A=this.image_;A.naturalWidth&&A.naturalHeight?this.state=Or:this.state=Gr,this.unlistenImage_(),this.changed()}load(){this.state==Pr&&(this.state=Rr,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Rr&&(this.state=kr,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(A,t,e){const n=A;let i=!0,r=!1,s=!1;const o=[dA(n,lA,function(){s=!0,r||t()})];return n.src&&LA?(r=!0,n.decode().then(function(){i&&t()}).catch(function(A){i&&(s?t():e())})):o.push(dA(n,nA,e)),function(){i=!1,o.forEach(gA)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};const zs=class{constructor(A,t,e,n,i,r){this.sourceProj_=A,this.targetProj_=t;let s={};const o=hn(this.targetProj_,this.sourceProj_);this.transformInv_=function(A){const t=A[0]+"/"+A[1];return s[t]||(s[t]=o(A)),s[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&_t(n)>=_t(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?_t(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?_t(this.targetProj_.getExtent()):null;const a=Qt(e),l=Ft(e),c=ft(e),h=gt(e),u=this.transformInv_(a),d=this.transformInv_(l),g=this.transformInv_(c),f=this.transformInv_(h),B=10+(r?Math.max(0,Math.ceil(Math.log2(dt(e)/(r*r*256*256)))):0);if(this.addQuad_(a,l,c,h,u,d,g,f,B),this.wrapsXInSource_){let A=1/0;this.triangles_.forEach(function(t,e,n){A=Math.min(A,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-A>this.sourceWorldWidth_/2){const e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-A>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-A>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-A>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);const n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}})}s={}}addTriangle_(A,t,e,n,i,r){this.triangles_.push({source:[n,i,r],target:[A,t,e]})}addQuad_(A,t,e,n,i,r,s,o,a){const l=jA([i,r,s,o]),c=this.sourceWorldWidth_?_t(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,u=this.sourceProj_.canWrapX()&&c>.5&&c<1;let d=!1;if(a>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){d=_t(jA([A,t,e,n]))/this.targetWorldWidth_>.25||d}!u&&this.sourceProj_.isGlobal()&&c&&(d=c>.25||d)}if(!d&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3])&&!vt(l,this.maxSourceExtent_))return;let g=0;if(!(d||isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])))if(a>0)d=!0;else if(g=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(o[0])&&isFinite(o[1])?0:1),1!=g&&2!=g&&4!=g&&8!=g)return;if(a>0){if(!d){const t=[(A[0]+e[0])/2,(A[1]+e[1])/2],n=this.transformInv_(t);let r;if(u){r=(Vt(i[0],h)+Vt(s[0],h))/2-Vt(n[0],h)}else r=(i[0]+s[0])/2-n[0];const o=(i[1]+s[1])/2-n[1];d=r*r+o*o>this.errorThresholdSquared_}if(d){if(Math.abs(A[0]-e[0])<=Math.abs(A[1]-e[1])){const l=[(t[0]+e[0])/2,(t[1]+e[1])/2],c=this.transformInv_(l),h=[(n[0]+A[0])/2,(n[1]+A[1])/2],u=this.transformInv_(h);this.addQuad_(A,t,l,h,i,r,c,u,a-1),this.addQuad_(h,l,e,n,u,c,s,o,a-1)}else{const l=[(A[0]+t[0])/2,(A[1]+t[1])/2],c=this.transformInv_(l),h=[(e[0]+n[0])/2,(e[1]+n[1])/2],u=this.transformInv_(h);this.addQuad_(A,l,h,n,i,c,u,o,a-1),this.addQuad_(l,t,e,h,c,r,s,u,a-1)}return}}if(u){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&g||this.addTriangle_(A,e,n,i,s,o),14&g||this.addTriangle_(A,e,t,i,s,r),g&&(13&g||this.addTriangle_(t,n,A,r,o,i),7&g||this.addTriangle_(t,n,e,r,o,s))}calculateSourceExtent(){const A=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(t,e,n){const i=t.source;lt(A,i[0]),lt(A,i[1]),lt(A,i[2])}),A}getTriangles(){return this.triangles_}};let qs;const $s=[];function Ao(A,t,e,n,i){A.beginPath(),A.moveTo(0,0),A.lineTo(t,e),A.lineTo(n,i),A.closePath(),A.save(),A.clip(),A.fillRect(0,0,Math.max(t,n)+1,Math.max(e,i)),A.restore()}function to(A,t){return Math.abs(A[4*t]-210)>2||Math.abs(A[4*t+3]-191.25)>2}function eo(A,t,e,n){const i=un(e,t,A);let r=sn(t,n,e);const s=t.getMetersPerUnit();void 0!==s&&(r*=s);const o=A.getMetersPerUnit();void 0!==o&&(r/=o);const a=A.getExtent();if(!a||qA(a,i)){const t=sn(A,r,i)/r;isFinite(t)&&t>0&&(r/=t)}return r}function no(A,t,e,n,i,r,s,o,a,l,c,h,u){const d=Vi(Math.round(e*A),Math.round(e*t),$s);if(h||(d.imageSmoothingEnabled=!1),0===a.length)return d.canvas;function g(A){return Math.round(A*e)/e}d.scale(e,e),d.globalCompositeOperation="lighter";const f=[1/0,1/0,-1/0,-1/0];let B;if(a.forEach(function(A,t,e){at(f,A.extent)}),!u||1!==a.length||0!==l){const A=_t(f),t=Ct(f);B=Vi(Math.round(e*A/n),Math.round(e*t/n),$s),h||(B.imageSmoothingEnabled=!1);const i=e/n;a.forEach(function(A,t,e){const n=A.extent[0]-f[0],r=-(A.extent[3]-f[3]),s=_t(A.extent),o=Ct(A.extent);A.image.width>0&&A.image.height>0&&B.drawImage(A.image,l,l,A.image.width-2*l,A.image.height-2*l,n*i,r*i,s*i,o*i)})}const p=Qt(s);return o.getTriangles().forEach(function(A,t,i){const s=A.source,o=A.target;let l=s[0][0],c=s[0][1],u=s[1][0],w=s[1][1],m=s[2][0],C=s[2][1];const y=g((o[0][0]-p[0])/r),Q=g(-(o[0][1]-p[1])/r),F=g((o[1][0]-p[0])/r),_=g(-(o[1][1]-p[1])/r),v=g((o[2][0]-p[0])/r),U=g(-(o[2][1]-p[1])/r),E=l,x=c;l=0,c=0,u-=E,w-=x,m-=E,C-=x;const b=function(A){const t=A.length;for(let e=0;e<t;e++){let n=e,i=Math.abs(A[e][e]);for(let r=e+1;r<t;r++){const t=Math.abs(A[r][e]);t>i&&(i=t,n=r)}if(0===i)return null;const r=A[n];A[n]=A[e],A[e]=r;for(let n=e+1;n<t;n++){const i=-A[n][e]/A[e][e];for(let r=e;r<t+1;r++)e==r?A[n][r]=0:A[n][r]+=i*A[e][r]}}const e=new Array(t);for(let n=t-1;n>=0;n--){e[n]=A[n][t]/A[n][n];for(let i=n-1;i>=0;i--)A[i][t]-=A[i][n]*e[n]}return e}([[u,w,0,0,F-y],[m,C,0,0,v-y],[0,0,u,w,_-Q],[0,0,m,C,U-Q]]);if(!b)return;if(d.save(),d.beginPath(),function(){if(void 0===qs){const A=Vi(6,6,$s);A.globalCompositeOperation="lighter",A.fillStyle="rgba(210, 0, 0, 0.75)",Ao(A,4,5,4,0),Ao(A,4,5,0,5);const t=A.getImageData(0,0,3,3).data;qs=to(t,0)||to(t,4)||to(t,8),Xi(A),$s.push(A.canvas)}return qs}()||!h){d.moveTo(F,_);const A=4,t=y-F,e=Q-_;for(let n=0;n<A;n++)d.lineTo(F+g((n+1)*t/A),_+g(n*e/(A-1))),n!=A-1&&d.lineTo(F+g((n+1)*t/A),_+g((n+1)*e/(A-1)));d.lineTo(v,U)}else d.moveTo(F,_),d.lineTo(y,Q),d.lineTo(v,U);let I;if(d.clip(),d.transform(b[0],b[2],b[1],b[3],y,Q),d.translate(f[0]-E,f[3]-x),B)I=B.canvas,d.scale(n/e,-n/e);else{const A=a[0],t=A.extent;I=A.image,d.scale(_t(t)/I.width,-Ct(t)/I.height)}d.drawImage(I,0,0),d.restore()}),B&&(Xi(B),$s.push(B.canvas)),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,o.getTriangles().forEach(function(A,t,e){const n=A.target,i=(n[0][0]-p[0])/r,s=-(n[0][1]-p[1])/r,o=(n[1][0]-p[0])/r,a=-(n[1][1]-p[1])/r,l=(n[2][0]-p[0])/r,c=-(n[2][1]-p[1])/r;d.beginPath(),d.moveTo(o,a),d.lineTo(i,s),d.lineTo(l,c),d.closePath(),d.stroke()}),d.restore()),d.canvas}const io=class extends js{constructor(A,t,e,n,i,r,s,o,a,l,c,h){super(i,Rr,h),this.renderEdges_=void 0!==c&&c,this.pixelRatio_=s,this.gutter_=o,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=r||i,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const u=n.getTileCoordExtent(this.wrappedTileCoord_),d=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const f=d?yt(u,d):u;if(0===dt(f))return void(this.state=Gr);const B=A.getExtent();B&&(g=g?yt(g,B):B);const p=n.getResolution(this.wrappedTileCoord_[0]),w=function(A,t,e,n){const i=Bt(e);let r=eo(A,t,i,n);return(!isFinite(r)||r<=0)&&ut(e,function(e){return r=eo(A,t,e,n),isFinite(r)&&r>0}),r}(A,e,f,p);if(!isFinite(w)||w<=0)return void(this.state=Gr);const m=void 0!==l?l:.5;if(this.triangulation_=new zs(A,e,f,g,w*m,p),0===this.triangulation_.getTriangles().length)return void(this.state=Gr);this.sourceZ_=t.getZForResolution(w);let C=this.triangulation_.calculateSourceExtent();if(g&&(A.canWrapX()?(C[1]=Ot(C[1],g[1],g[3]),C[3]=Ot(C[3],g[1],g[3])):C=yt(C,g)),dt(C)){const A=t.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let t=A.minX;t<=A.maxX;t++)for(let e=A.minY;e<=A.maxY;e++){const A=a(this.sourceZ_,t,e,s);A&&this.sourceTiles_.push(A)}0===this.sourceTiles_.length&&(this.state=Gr)}else this.state=Gr}getImage(){return this.canvas_}reproject_(){const A=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==Or&&A.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,0===A.length)this.state=Pr;else{const t=this.wrappedTileCoord_[0],e=this.targetTileGrid_.getTileSize(t),n="number"==typeof e?e:e[0],i="number"==typeof e?e:e[1],r=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=no(n,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),r,o,this.triangulation_,A,this.gutter_,this.renderEdges_,this.interpolate),this.state=Or}this.changed()}load(){if(this.state==Rr){this.state=kr,this.changed();let A=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const e=t.getState();if(e==Rr||e==kr){A++;const e=uA(t,eA,function(n){const i=t.getState();i!=Or&&i!=Pr&&i!=Gr||(gA(e),A--,0===A&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(e)}}),0===A?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(A,t,e){A.getState()==Rr&&A.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(gA),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Xi(this.canvas_.getContext("2d")),$s.push(this.canvas_),this.canvas_=null),super.release()}};class ro{constructor(A,t,e,n){this.minX=A,this.maxX=t,this.minY=e,this.maxY=n}contains(A){return this.containsXY(A[1],A[2])}containsTileRange(A){return this.minX<=A.minX&&A.maxX<=this.maxX&&this.minY<=A.minY&&A.maxY<=this.maxY}containsXY(A,t){return this.minX<=A&&A<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(A){return this.minX==A.minX&&this.minY==A.minY&&this.maxX==A.maxX&&this.maxY==A.maxY}extend(A){A.minX<this.minX&&(this.minX=A.minX),A.maxX>this.maxX&&(this.maxX=A.maxX),A.minY<this.minY&&(this.minY=A.minY),A.maxY>this.maxY&&(this.maxY=A.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(A){return this.minX<=A.maxX&&this.maxX>=A.minX&&this.minY<=A.maxY&&this.maxY>=A.minY}}function so(A,t,e,n,i){return void 0!==i?(i.minX=A,i.maxX=t,i.minY=e,i.maxY=n,i):new ro(A,t,e,n)}const oo=ro;const ao=class extends Ys{constructor(A){super(A),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new oo(0,0,0,0)}isDrawableTile(A){const t=this.getLayer(),e=A.getState(),n=t.getUseInterimTilesOnError();return e==Or||e==Gr||e==Pr&&!n}getTile(A,t,e,n){const i=n.pixelRatio,r=n.viewState.projection,s=this.getLayer();let o=s.getSource().getTile(A,t,e,i,r);return o.getState()==Pr&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(o)||(o=o.getInterimTile()),o}getData(A){const t=this.frameState;if(!t)return null;const e=this.getLayer(),n=KA(t.pixelToCoordinateTransform,A.slice()),i=e.getExtent();if(i&&!qA(i,n))return null;const r=t.pixelRatio,s=t.viewState.projection,o=t.viewState,a=e.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let A=l.getZForResolution(o.resolution);A>=l.getMinZoom();--A){const t=l.getTileCoordForCoordAndZ(n,A),e=a.getTile(A,t[1],t[2],r,s);if(!(e instanceof Zs||e instanceof io)||e instanceof io&&e.getState()===Gr)return null;if(e.getState()!==Or)continue;const i=l.getOrigin(A),h=Ls(l.getTileSize(A)),u=l.getResolution(A),d=Math.floor(c*((n[0]-i[0])/u-t[1]*h[0])),g=Math.floor(c*((i[1]-n[1])/u-t[2]*h[1])),f=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(e.getImage(),d+f,g+f)}return null}loadedTileCallback(A,t,e){return!!this.isDrawableTile(e)&&super.loadedTileCallback(A,t,e)}prepareFrame(A){return!!this.getLayer().getSource()}renderFrame(A,t){const e=A.layerStatesArray[A.layerIndex],n=A.viewState,i=n.projection,r=n.resolution,s=n.center,o=n.rotation,a=A.pixelRatio,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),u=c.getTileGridForProjection(i),d=u.getZForResolution(r,c.zDirection),g=u.getResolution(d);let f=A.extent;const B=A.viewState.resolution,p=c.getTilePixelRatio(a),w=Math.round(_t(f)/B*a),m=Math.round(Ct(f)/B*a),C=e.extent&&mn(e.extent,i);C&&(f=yt(f,mn(e.extent,i)));const y=g*w/2/p,Q=g*m/2/p,F=[s[0]-y,s[1]-Q,s[0]+y,s[1]+Q],_=u.getTileRangeForExtentAndZ(f,d),v={};v[d]={};const U=this.createLoadedTileFinder(c,i,v),E=this.tmpExtent,x=this.tmpTileRange_;this.newTiles_=!1;const b=o?mt(n.center,B,o,A.size):void 0;for(let t=_.minX;t<=_.maxX;++t)for(let n=_.minY;n<=_.maxY;++n){if(o&&!u.tileCoordIntersectsViewport([d,t,n],b))continue;const i=this.getTile(d,t,n,A);if(this.isDrawableTile(i)){const t=mA(this);if(i.getState()==Or){v[d][i.tileCoord.toString()]=i;let A=i.inTransition(t);A&&1!==e.opacity&&(i.endTransition(t),A=!1),this.newTiles_||!A&&this.renderedTiles.includes(i)||(this.newTiles_=!0)}if(1===i.getAlpha(t,A.time))continue}const r=u.getTileCoordChildTileRange(i.tileCoord,x,E);let s=!1;r&&(s=U(d+1,r)),s||u.forEachTileCoordParentTileRange(i.tileCoord,U,x,E)}const I=g/r*a/p;RA(this.pixelTransform,A.size[0]/2,A.size[1]/2,1/a,1/a,o,-w/2,-m/2);const S=PA(this.pixelTransform);this.useContainer(t,S,this.getBackground(A));const H=this.context,L=H.canvas;kA(this.inversePixelTransform,this.pixelTransform),RA(this.tempTransform,w/2,m/2,I,I,0,-w/2,-m/2),L.width!=w||L.height!=m?(L.width=w,L.height=m):this.containerReused||H.clearRect(0,0,w,m),C&&this.clipUnrotated(H,A,C),c.getInterpolate()||(H.imageSmoothingEnabled=!1),this.preRender(H,A),this.renderedTiles.length=0;let T,M,D,K=Object.keys(v).map(Number);K.sort(V),1!==e.opacity||this.containerReused&&!c.getOpaque(A.viewState.projection)?(T=[],M=[]):K=K.reverse();for(let t=K.length-1;t>=0;--t){const e=K[t],n=c.getTilePixelSize(e,a,i),r=u.getResolution(e)/g,s=n[0]*r*I,o=n[1]*r*I,l=u.getTileCoordForCoordAndZ(Qt(F),e),h=u.getTileCoordExtent(l),f=KA(this.tempTransform,[p*(h[0]-F[0])/g,p*(F[3]-h[3])/g]),B=p*c.getGutterForProjection(i),w=v[e];for(const t in w){const n=w[t],i=n.tileCoord,r=l[1]-i[1],a=Math.round(f[0]-(r-1)*s),h=l[2]-i[2],u=Math.round(f[1]-(h-1)*o),g=Math.round(f[0]-r*s),p=Math.round(f[1]-h*o),m=a-g,C=u-p,y=d===e,Q=y&&1!==n.getAlpha(mA(this),A.time);let F=!1;if(!Q)if(T){D=[g,p,g+m,p,g+m,p+C,g,p+C];for(let A=0,t=T.length;A<t;++A)if(d!==e&&e<M[A]){const t=T[A];vt([g,p,g+m,p+C],[t[0],t[3],t[4],t[7]])&&(F||(H.save(),F=!0),H.beginPath(),H.moveTo(D[0],D[1]),H.lineTo(D[2],D[3]),H.lineTo(D[4],D[5]),H.lineTo(D[6],D[7]),H.moveTo(t[6],t[7]),H.lineTo(t[4],t[5]),H.lineTo(t[2],t[3]),H.lineTo(t[0],t[1]),H.clip())}T.push(D),M.push(e)}else H.clearRect(g,p,m,C);this.drawTileImage(n,A,g,p,m,C,B,y),T&&!Q?(F&&H.restore(),this.renderedTiles.unshift(n)):this.renderedTiles.push(n),this.updateUsedTiles(A.usedTiles,c,n)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!ot(this.renderedExtent_,F),this.renderedExtent_=F,this.renderedPixelRatio=a,this.renderedProjection=i,this.manageTilePyramid(A,c,u,a,i,f,d,l.getPreload()),this.scheduleExpireCache(A,c),this.postRender(H,A),e.extent&&H.restore(),H.imageSmoothingEnabled=!0,S!==L.style.transform&&(L.style.transform=S),this.container}drawTileImage(A,t,e,n,i,r,s,o){const a=this.getTileImage(A);if(!a)return;const l=mA(this),c=t.layerStatesArray[t.layerIndex],h=c.opacity*(o?A.getAlpha(l,t.time):1),u=h!==this.context.globalAlpha;u&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(a,s,s,a.width-2*s,a.height-2*s,e,n,i,r),u&&this.context.restore(),h!==c.opacity?t.animate=!0:o&&A.endTransition(l)}getImage(){const A=this.context;return A?A.canvas:null}getTileImage(A){return A.getImage()}scheduleExpireCache(A,t){if(t.canExpireCache()){const e=function(A,t,e){const n=mA(A);n in e.usedTiles&&A.expireCache(e.viewState.projection,e.usedTiles[n])}.bind(null,t);A.postRenderFunctions.push(e)}}updateUsedTiles(A,t,e){const n=mA(t);n in A||(A[n]={}),A[n][e.getKey()]=!0}manageTilePyramid(A,t,e,n,i,r,s,o,a){const l=mA(t);l in A.wantedTiles||(A.wantedTiles[l]={});const c=A.wantedTiles[l],h=A.tileQueue,u=e.getMinZoom(),d=A.viewState.rotation,g=d?mt(A.viewState.center,A.viewState.resolution,d,A.size):void 0;let f,B,p,w,m,C,y=0;for(C=u;C<=s;++C)for(B=e.getTileRangeForExtentAndZ(r,C,B),p=e.getResolution(C),w=B.minX;w<=B.maxX;++w)for(m=B.minY;m<=B.maxY;++m)d&&!e.tileCoordIntersectsViewport([C,w,m],g)||(s-C<=o?(++y,f=t.getTile(C,w,m,n,i),f.getState()==Rr&&(c[f.getKey()]=!0,h.isKeyQueued(f.getKey())||h.enqueue([f,l,e.getTileCoordCenter(f.tileCoord),p])),void 0!==a&&a(f)):t.useTile(C,w,m,i));t.updateCacheSize(y,i)}};const lo=class extends ks{constructor(A){super(A)}createRenderer(){return new ao(this)}};var co=e(341);class ho{constructor(A){this.opacity_=A.opacity,this.rotateWithView_=A.rotateWithView,this.rotation_=A.rotation,this.scale_=A.scale,this.scaleArray_=Ls(A.scale),this.displacement_=A.displacement,this.declutterMode_=A.declutterMode}clone(){const A=this.getScale();return new ho({opacity:this.getOpacity(),scale:Array.isArray(A)?A.slice():A,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return pA()}getImage(A){return pA()}getHitDetectionImage(){return pA()}getPixelRatio(A){return 1}getImageState(){return pA()}getImageSize(){return pA()}getOrigin(){return pA()}getSize(){return pA()}setDisplacement(A){this.displacement_=A}setOpacity(A){this.opacity_=A}setRotateWithView(A){this.rotateWithView_=A}setRotation(A){this.rotation_=A}setScale(A){this.scale_=A,this.scaleArray_=Ls(A)}listenImageChange(A){pA()}load(){pA()}unlistenImageChange(A){pA()}}const uo=ho;function go(A){return Array.isArray(A)?ne(A):A}class fo extends uo{constructor(A){super({opacity:1,rotateWithView:void 0!==A.rotateWithView&&A.rotateWithView,rotation:void 0!==A.rotation?A.rotation:0,scale:void 0!==A.scale?A.scale:1,displacement:void 0!==A.displacement?A.displacement:[0,0],declutterMode:A.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==A.fill?A.fill:null,this.origin_=[0,0],this.points_=A.points,this.radius_=void 0!==A.radius?A.radius:A.radius1,this.radius2_=A.radius2,this.angle_=void 0!==A.angle?A.angle:0,this.stroke_=void 0!==A.stroke?A.stroke:null,this.size_,this.renderOptions_,this.render()}clone(){const A=this.getScale(),t=new fo({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(A)?A.slice():A,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const A=this.size_,t=this.getDisplacement(),e=this.getScaleArray();return[A[0]/2-t[0]/e[0],A[1]/2+t[1]/e[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(A){this.fill_=A,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(A){let t=this.canvases_[A];if(!t){const e=this.renderOptions_,n=Vi(e.size*A,e.size*A);this.draw_(e,n,A),t=n.canvas,this.canvases_[A]=t}return t}getPixelRatio(A){return A}getImageSize(){return this.size_}getImageState(){return Gs}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(A){this.stroke_=A,this.render()}listenImageChange(A){}load(){}unlistenImageChange(A){}calculateLineJoinSize_(A,t,e){if(0===t||this.points_===1/0||"bevel"!==A&&"miter"!==A)return t;let n=this.radius_,i=void 0===this.radius2_?n:this.radius2_;if(n<i){const A=n;n=i,i=A}const r=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/r,o=i*Math.sin(s),a=n-Math.sqrt(i*i-o*o),l=Math.sqrt(o*o+a*a),c=l/o;if("miter"===A&&c<=e)return c*t;const h=t/2/c,u=t/2*(a/l),d=Math.sqrt((n+h)*(n+h)+u*u)-n;if(void 0===this.radius2_||"bevel"===A)return 2*d;const g=n*Math.sin(s),f=i-Math.sqrt(n*n-g*g),B=Math.sqrt(g*g+f*f)/g;if(B<=e){const A=B*t/2-i-n;return 2*Math.max(d,A)}return 2*d}createRenderOptions(){let A,t=$i,e=tr,n=0,i=null,r=0,s=0;this.stroke_&&(A=go(this.stroke_.getColor()??er),s=this.stroke_.getWidth()??1,i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,e=this.stroke_.getLineJoin()??tr,t=this.stroke_.getLineCap()??$i,n=this.stroke_.getMiterLimit()??10);const o=this.calculateLineJoinSize_(e,s,n),a=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:A,strokeWidth:s,size:Math.ceil(2*a+o),lineCap:t,lineDash:i,lineDashOffset:r,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const A=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[A,A]}draw_(A,t,e){if(t.scale(e,e),t.translate(A.size/2,A.size/2),this.createPath_(t),this.fill_){let A=this.fill_.getColor();null===A&&(A=qi),t.fillStyle=go(A),t.fill()}A.strokeStyle&&(t.strokeStyle=A.strokeStyle,t.lineWidth=A.strokeWidth,A.lineDash&&(t.setLineDash(A.lineDash),t.lineDashOffset=A.lineDashOffset),t.lineCap=A.lineCap,t.lineJoin=A.lineJoin,t.miterLimit=A.miterLimit,t.stroke())}createHitDetectionCanvas_(A){let t;if(this.fill_){let e=this.fill_.getColor(),n=0;"string"==typeof e&&(e=te(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n&&(t=Vi(A.size,A.size),this.drawHitDetectionCanvas_(A,t))}return t?t.canvas:this.getImage(1)}createPath_(A){let t=this.points_;const e=this.radius_;if(t===1/0)A.arc(0,0,e,0,2*Math.PI);else{const n=void 0===this.radius2_?e:this.radius2_;void 0!==this.radius2_&&(t*=2);const i=this.angle_-Math.PI/2,r=2*Math.PI/t;for(let s=0;s<t;s++){const t=i+s*r,o=s%2==0?e:n;A.lineTo(o*Math.cos(t),o*Math.sin(t))}A.closePath()}}drawHitDetectionCanvas_(A,t){t.translate(A.size/2,A.size/2),this.createPath_(t),t.fillStyle=qi,t.fill(),A.strokeStyle&&(t.strokeStyle=A.strokeStyle,t.lineWidth=A.strokeWidth,A.lineDash&&(t.setLineDash(A.lineDash),t.lineDashOffset=A.lineDashOffset),t.lineJoin=A.lineJoin,t.miterLimit=A.miterLimit,t.stroke())}}const Bo=fo;class po extends Bo{constructor(A){super({points:1/0,fill:(A=A||{radius:5}).fill,radius:A.radius,stroke:A.stroke,scale:void 0!==A.scale?A.scale:1,rotation:void 0!==A.rotation?A.rotation:0,rotateWithView:void 0!==A.rotateWithView&&A.rotateWithView,displacement:void 0!==A.displacement?A.displacement:[0,0],declutterMode:A.declutterMode})}clone(){const A=this.getScale(),t=new po({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(A)?A.slice():A,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(A){this.radius_=A,this.render()}}const wo=po;class mo{constructor(A){A=A||{},this.color_=void 0!==A.color?A.color:null}clone(){const A=this.getColor();return new mo({color:Array.isArray(A)?A.slice():A||void 0})}getColor(){return this.color_}setColor(A){this.color_=A}}const Co=mo;class yo{constructor(A){A=A||{},this.color_=void 0!==A.color?A.color:null,this.lineCap_=A.lineCap,this.lineDash_=void 0!==A.lineDash?A.lineDash:null,this.lineDashOffset_=A.lineDashOffset,this.lineJoin_=A.lineJoin,this.miterLimit_=A.miterLimit,this.width_=A.width}clone(){const A=this.getColor();return new yo({color:Array.isArray(A)?A.slice():A||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(A){this.color_=A}setLineCap(A){this.lineCap_=A}setLineDash(A){this.lineDash_=A}setLineDashOffset(A){this.lineDashOffset_=A}setLineJoin(A){this.lineJoin_=A}setMiterLimit(A){this.miterLimit_=A}setWidth(A){this.width_=A}}const Qo=yo;class Fo{constructor(A){A=A||{},this.geometry_=null,this.geometryFunction_=Uo,void 0!==A.geometry&&this.setGeometry(A.geometry),this.fill_=void 0!==A.fill?A.fill:null,this.image_=void 0!==A.image?A.image:null,this.renderer_=void 0!==A.renderer?A.renderer:null,this.hitDetectionRenderer_=void 0!==A.hitDetectionRenderer?A.hitDetectionRenderer:null,this.stroke_=void 0!==A.stroke?A.stroke:null,this.text_=void 0!==A.text?A.text:null,this.zIndex_=A.zIndex}clone(){let A=this.getGeometry();return A&&"object"==typeof A&&(A=A.clone()),new Fo({geometry:A??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(A){this.renderer_=A}setHitDetectionRenderer(A){this.hitDetectionRenderer_=A}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(A){this.fill_=A}getImage(){return this.image_}setImage(A){this.image_=A}getStroke(){return this.stroke_}setStroke(A){this.stroke_=A}getText(){return this.text_}setText(A){this.text_=A}getZIndex(){return this.zIndex_}setGeometry(A){"function"==typeof A?this.geometryFunction_=A:"string"==typeof A?this.geometryFunction_=function(t){return t.get(A)}:A?void 0!==A&&(this.geometryFunction_=function(){return A}):this.geometryFunction_=Uo,this.geometry_=A}setZIndex(A){this.zIndex_=A}}let _o=null;function vo(A,t){if(!_o){const A=new Co({color:"rgba(255,255,255,0.4)"}),t=new Qo({color:"#3399CC",width:1.25});_o=[new Fo({image:new wo({fill:A,stroke:t,radius:5}),fill:A,stroke:t})]}return _o}function Uo(A){return A.getGeometry()}const Eo=Fo;let xo=null;class bo extends tA{constructor(A,t,e,n,i){super(),this.hitDetectionImage_=null,this.image_=A,this.crossOrigin_=e,this.canvas_={},this.color_=i,this.imageState_=void 0===n?Os:n,this.size_=A&&A.width&&A.height?[A.width,A.height]:null,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Gs){xo||(xo=Vi(1,1,void 0,{willReadFrequently:!0})),xo.drawImage(this.image_,0,0);try{xo.getImageData(0,0,1,1),this.tainted_=!1}catch(A){xo=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(eA)}handleImageError_(){this.imageState_=Ns,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Gs,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(A){return this.image_||this.initializeImage_(),this.replaceColor_(A),this.canvas_[A]?this.canvas_[A]:this.image_}getPixelRatio(A){return this.replaceColor_(A),this.canvas_[A]?A:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const A=this.size_[0],t=this.size_[1],e=Vi(A,t);e.fillRect(0,0,A,t),this.hitDetectionImage_=e.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Os){this.image_||this.initializeImage_(),this.imageState_=Ps;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(A){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Js(this.image_,this.src_).then(A=>{this.image_=A,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(A){if(!this.color_||this.canvas_[A]||this.imageState_!==Gs)return;const t=this.image_,e=document.createElement("canvas");e.width=Math.ceil(t.width*A),e.height=Math.ceil(t.height*A);const n=e.getContext("2d");n.scale(A,A),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=Jt(this.color_),n.fillRect(0,0,e.width/A,e.height/A),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[A]=e}}function Io(A,t,e,n){return void 0!==e&&void 0!==n?[e/A,n/t]:void 0!==e?e/A:void 0!==n?n/t:1}class So extends uo{constructor(A){const t=void 0!==(A=A||{}).opacity?A.opacity:1,e=void 0!==A.rotation?A.rotation:0,n=void 0!==A.scale?A.scale:1,i=void 0!==A.rotateWithView&&A.rotateWithView;super({opacity:t,rotation:e,scale:n,displacement:void 0!==A.displacement?A.displacement:[0,0],rotateWithView:i,declutterMode:A.declutterMode}),this.anchor_=void 0!==A.anchor?A.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==A.anchorOrigin?A.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==A.anchorXUnits?A.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==A.anchorYUnits?A.anchorYUnits:"fraction",this.crossOrigin_=void 0!==A.crossOrigin?A.crossOrigin:null;const r=void 0!==A.img?A.img:null;let s,o=A.src;if(MA(!(void 0!==o&&r),"`image` and `src` cannot be provided at the same time"),void 0!==o&&0!==o.length||!r||(o=r.src||mA(r)),MA(void 0!==o&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),MA(!((void 0!==A.width||void 0!==A.height)&&void 0!==A.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==A.src?s=Os:void 0!==r&&(s=r instanceof HTMLImageElement?r.complete?r.src?Gs:Os:Ps:Gs),this.color_=void 0!==A.color?te(A.color):null,this.iconImage_=function(A,t,e,n,i){let r=void 0===t?void 0:se.get(t,e,i);return r||(r=new bo(A,A instanceof HTMLImageElement?A.src||void 0:t,e,n,i),se.set(t,e,i,r)),r}(r,o,this.crossOrigin_,s,this.color_),this.offset_=void 0!==A.offset?A.offset:[0,0],this.offsetOrigin_=void 0!==A.offsetOrigin?A.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==A.size?A.size:null,void 0!==A.width||void 0!==A.height){let t,e;if(A.size)[t,e]=A.size;else{const n=this.getImage(1);if(n.width&&n.height)t=n.width,e=n.height;else if(n instanceof HTMLImageElement){this.initialOptions_=A;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const e=this.iconImage_.getSize();this.setScale(Io(e[0],e[1],A.width,A.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(Io(t,e,A.width,A.height))}}clone(){let A,t,e;return this.initialOptions_?(t=this.initialOptions_.width,e=this.initialOptions_.height):(A=this.getScale(),A=Array.isArray(A)?A.slice():A),new So({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:A,width:t,height:e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let A=this.normalizedAnchor_;if(!A){A=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;A=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(A[0]*=t[0]),"fraction"==this.anchorYUnits_&&(A[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;A===this.anchor_&&(A=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(A[0]=-A[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(A[1]=-A[1]+t[1])}this.normalizedAnchor_=A}const t=this.getDisplacement(),e=this.getScaleArray();return[A[0]-t[0]/e[0],A[1]+t[1]/e[1]]}setAnchor(A){this.anchor_=A,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(A){return this.iconImage_.getImage(A)}getPixelRatio(A){return this.iconImage_.getPixelRatio(A)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let A=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),e=this.iconImage_.getSize();if(!t||!e)return null;A=A.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(A[0]=e[0]-t[0]-A[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(A[1]=e[1]-t[1]-A[1])}return this.origin_=A,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const A=this.getScaleArray();return this.size_?this.size_[0]*A[0]:this.iconImage_.getImageState()==Gs?this.iconImage_.getSize()[0]*A[0]:void 0}getHeight(){const A=this.getScaleArray();return this.size_?this.size_[1]*A[1]:this.iconImage_.getImageState()==Gs?this.iconImage_.getSize()[1]*A[1]:void 0}setScale(A){delete this.initialOptions_,super.setScale(A)}listenImageChange(A){this.iconImage_.addEventListener(eA,A)}load(){this.iconImage_.load()}unlistenImageChange(A){this.iconImage_.removeEventListener(eA,A)}}const Ho=So;class Lo{constructor(A){A=A||{},this.font_=A.font,this.rotation_=A.rotation,this.rotateWithView_=A.rotateWithView,this.scale_=A.scale,this.scaleArray_=Ls(void 0!==A.scale?A.scale:1),this.text_=A.text,this.textAlign_=A.textAlign,this.justify_=A.justify,this.repeat_=A.repeat,this.textBaseline_=A.textBaseline,this.fill_=void 0!==A.fill?A.fill:new Co({color:"#333"}),this.maxAngle_=void 0!==A.maxAngle?A.maxAngle:Math.PI/4,this.placement_=void 0!==A.placement?A.placement:"point",this.overflow_=!!A.overflow,this.stroke_=void 0!==A.stroke?A.stroke:null,this.offsetX_=void 0!==A.offsetX?A.offsetX:0,this.offsetY_=void 0!==A.offsetY?A.offsetY:0,this.backgroundFill_=A.backgroundFill?A.backgroundFill:null,this.backgroundStroke_=A.backgroundStroke?A.backgroundStroke:null,this.padding_=void 0===A.padding?null:A.padding}clone(){const A=this.getScale();return new Lo({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(A)?A.slice():A,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(A){this.overflow_=A}setFont(A){this.font_=A}setMaxAngle(A){this.maxAngle_=A}setOffsetX(A){this.offsetX_=A}setOffsetY(A){this.offsetY_=A}setPlacement(A){this.placement_=A}setRepeat(A){this.repeat_=A}setRotateWithView(A){this.rotateWithView_=A}setFill(A){this.fill_=A}setRotation(A){this.rotation_=A}setScale(A){this.scale_=A,this.scaleArray_=Ls(void 0!==A?A:1)}setStroke(A){this.stroke_=A}setText(A){this.text_=A}setTextAlign(A){this.textAlign_=A}setJustify(A){this.justify_=A}setTextBaseline(A){this.textBaseline_=A}setBackgroundFill(A){this.backgroundFill_=A}setBackgroundStroke(A){this.backgroundStroke_=A}setPadding(A){this.padding_=A}}const To=Lo;let Mo=0;const Do=1<<Mo++,Ko=1<<Mo++,Ro=1<<Mo++,ko=1<<Mo++,Oo=1<<Mo++,Po=Math.pow(2,5)-1,Go={[Do]:"boolean",[Ko]:"number",[Ro]:"string",[ko]:"color",[Oo]:"number[]"},No=Object.keys(Go).map(Number).sort(V);function Vo(A){const t=[];for(const e of No)Xo(A,e)&&t.push(Go[e]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Xo(A,t){return(A&t)===t}function Wo(A,t){return!!(A&t)}function Yo(A,t){return A===t}class jo{constructor(A,t){this.type=A,this.value=t}}class Jo{constructor(A,t,...e){this.type=A,this.operator=t,this.args=e}}function Zo(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function zo(A,t,e){switch(typeof A){case"boolean":return new jo(Do,A);case"number":return new jo(Ko,A);case"string":{let t=Ro;return function(A){try{return Ae(A),!0}catch(A){return!1}}(A)&&(t|=ko),Yo(t&e,0)||(t&=e),new jo(t,A)}}if(!Array.isArray(A))throw new Error("Expression must be an array or a primitive value");if(0===A.length)throw new Error("Empty expression");if("string"==typeof A[0])return function(A,t,e){const n=A[0],i=Pa[n];if(!i)throw new Error(`Unknown operator: ${n}`);return i(A,t,e)}(A,t,e);for(const t of A)if("number"!=typeof t)throw new Error("Expected an array of numbers");let n=Oo;return 3!==A.length&&4!==A.length||(n|=ko),e&&(n&=e),new jo(n,A)}const qo="get",$o="var",Aa="concat",ta="geometry-type",ea="any",na="all",ia="!",ra="resolution",sa="zoom",oa="time",aa="==",la="!=",ca=">",ha=">=",ua="<",da="<=",ga="*",fa="/",Ba="+",pa="-",wa="clamp",ma="%",Ca="^",ya="abs",Qa="floor",Fa="ceil",_a="round",va="sin",Ua="cos",Ea="atan",xa="sqrt",ba="match",Ia="between",Sa="interpolate",Ha="case",La="in",Ta="number",Ma="string",Da="array",Ka="color",Ra="id",ka="band",Oa="palette",Pa={[qo]:Ya(([A,t])=>void 0!==t?function(A){switch(A){case"string":return Ro;case"color":return ko;case"number":return Ko;case"boolean":return Do;case"number[]":return Oo;default:throw new Error(`Unrecognized type hint: ${A}`)}}(t.value):Po,Na(1,2),function(A,t){const e=zo(A[1],t);if(!(e instanceof jo))throw new Error("Expected a literal argument for get operation");if("string"!=typeof e.value)throw new Error("Expected a string argument for get operation");if(t.properties.add(e.value),3===A.length){return[e,zo(A[2],t)]}return[e]}),[$o]:Ya(([A])=>A.type,Na(1,1),function(A,t,e,n){const i=A[1];if("string"!=typeof i)throw new Error("Expected a string argument for var operation");if(t.variables.add(i),!("variables"in t.style)||void 0===t.style.variables[i])return[new jo(Po,i)];const r=zo(t.style.variables[i],t);if(r.value=i,n&&!Wo(n,r.type))throw new Error(`The variable ${i} has type ${Vo(r.type)} but the following type was expected: ${Vo(n)}`);return[r]}),[Ra]:Ya(Ko|Ro,Ga,function(A,t){t.featureId=!0}),[Aa]:Ya(Ro,Na(2,1/0),Va(Po)),[ta]:Ya(Ro,Ga),[ra]:Ya(Ko,Ga),[sa]:Ya(Ko,Ga),[oa]:Ya(Ko,Ga),[ea]:Ya(Do,Na(2,1/0),Va(Do)),[na]:Ya(Do,Na(2,1/0),Va(Do)),[ia]:Ya(Do,Na(1,1),Va(Do)),[aa]:Ya(Do,Na(2,2),Va(Po),Xa),[la]:Ya(Do,Na(2,2),Va(Po),Xa),[ca]:Ya(Do,Na(2,2),Va(Po),Xa),[ha]:Ya(Do,Na(2,2),Va(Po),Xa),[ua]:Ya(Do,Na(2,2),Va(Po),Xa),[da]:Ya(Do,Na(2,2),Va(Po),Xa),[ga]:Ya(A=>{let t=Ko|ko;for(let e=0;e<A.length;e++)t&=A[e].type;return t},Na(2,1/0),Va(Ko|ko),Xa),[fa]:Ya(Ko,Na(2,2),Va(Ko)),[Ba]:Ya(Ko,Na(2,1/0),Va(Ko)),[pa]:Ya(Ko,Na(2,2),Va(Ko)),[wa]:Ya(Ko,Na(3,3),Va(Ko)),[ma]:Ya(Ko,Na(2,2),Va(Ko)),[Ca]:Ya(Ko,Na(2,2),Va(Ko)),[ya]:Ya(Ko,Na(1,1),Va(Ko)),[Qa]:Ya(Ko,Na(1,1),Va(Ko)),[Fa]:Ya(Ko,Na(1,1),Va(Ko)),[_a]:Ya(Ko,Na(1,1),Va(Ko)),[va]:Ya(Ko,Na(1,1),Va(Ko)),[Ua]:Ya(Ko,Na(1,1),Va(Ko)),[Ea]:Ya(Ko,Na(1,2),Va(Ko)),[xa]:Ya(Ko,Na(1,1),Va(Ko)),[ba]:Ya(A=>{let t=Po;for(let e=2;e<A.length;e+=2)t&=A[e].type;return t&=A[A.length-1].type,t},Na(4,1/0),Wa,function(A,t,e,n){const i=A.length-1;let r=zo(A[1],t).type;const s=zo(A[A.length-1],t);let o=void 0!==n?n&s.type:s.type;const a=new Array(i-2);for(let e=0;e<i-2;e+=2){const n=zo(A[e+2],t),i=zo(A[e+3],t);r&=n.type,o&=i.type,a[e]=n,a[e+1]=i}const l=Ro|Ko|Do;if(!Wo(l,r))throw new Error(`Expected an input of type ${Vo(l)} for the interpolate operation, got ${Vo(r)} instead`);if(Yo(o,0))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(A));for(let e=0;e<i-2;e+=2){const n=zo(A[e+2],t,r),i=zo(A[e+3],t,o);a[e]=n,a[e+1]=i}return[zo(A[1],t,r),...a,zo(A[A.length-1],t,o)]}),[Ia]:Ya(Do,Na(3,3),Va(Ko)),[Sa]:Ya(A=>{let t=ko|Ko;for(let e=3;e<A.length;e+=2)t&=A[e].type;return t},Na(6,1/0),Wa,function(A,t,e,n){const i=A[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":if(r=i[1],"number"!=typeof r)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(r)} instead`);break;default:r=null}if(!r)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);r=zo(r,t);let s=zo(A[2],t);if(!Wo(Ko,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${Vo(s.type)} instead`);s=zo(A[2],t,Ko);const o=new Array(A.length-3);for(let e=0;e<o.length;e+=2){let n=zo(A[e+3],t);if(!Wo(Ko,n.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${Vo(n.type)} at position ${e+2} instead`);let i=zo(A[e+4],t);if(!Wo(Ko|ko,i.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${Vo(i.type)} at position ${e+3} instead`);n=zo(A[e+3],t,Ko),i=zo(A[e+4],t,Ko|ko),o[e]=n,o[e+1]=i}return[r,s,...o]}),[Ha]:Ya(A=>{let t=Po;for(let e=1;e<A.length;e+=2)t&=A[e].type;return t&=A[A.length-1].type,t},Na(3,1/0),function(A,t){const e=A[0],n=A.length-1;if(n%2==0)throw new Error(`An odd amount of arguments was expected for operation ${e}, got ${JSON.stringify(n)} instead`)},function(A,t,e,n){const i=zo(A[A.length-1],t);let r=void 0!==n?n&i.type:i.type;const s=new Array(A.length-1);for(let e=0;e<s.length-1;e+=2){const n=zo(A[e+1],t),i=zo(A[e+2],t);if(!Wo(Do,n.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${Vo(n.type)} at position ${e} instead`);r&=i.type,s[e]=n,s[e+1]=i}if(Yo(r,0))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(A));for(let e=0;e<s.length-1;e+=2)s[e+1]=zo(A[e+2],t,r);return s[s.length-1]=zo(A[A.length-1],t,r),s}),[La]:Ya(Do,Na(2,2),function(A,t){let e=A[2];if(!Array.isArray(e))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof e[0]){if("literal"!==e[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(e[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');e=e[1]}let n=Ro|Ko;const i=new Array(e.length);for(let A=0;A<i.length;A++){const r=zo(e[A],t);n&=r.type,i[A]=r}if(Yo(n,0))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(A));return[zo(A[1],t,n),...i]}),[Ta]:Ya(Ko,Na(1,1/0),Va(Po)),[Ma]:Ya(Ro,Na(1,1/0),Va(Po)),[Da]:Ya(A=>3===A.length||4===A.length?Oo|ko:Oo,Na(1,1/0),Va(Ko)),[Ka]:Ya(ko,Na(3,4),Va(Ko)),[ka]:Ya(Ko,Na(1,3),Va(Ko)),[Oa]:Ya(ko,Na(2,2),function(A,t){const e=zo(A[1],t,Ko);if(e.type!==Ko)throw new Error(`The first argument of palette must be an number, got ${Vo(e.type)} instead`);const n=A[2];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");const i=new Array(n.length);for(let A=0;A<i.length;A++){const e=zo(n[A],t,ko);if(!(e instanceof jo))throw new Error(`The palette color at index ${A} must be a literal value`);if(!Wo(e.type,ko))throw new Error(`The palette color at index ${A} should be of type color, got ${Vo(e.type)} instead`);i[A]=e}return[e,...i]})};function Ga(A,t){const e=A[0];if(1!==A.length)throw new Error(`Expected no arguments for ${e} operation`);return[]}function Na(A,t){return function(e,n){const i=e[0],r=e.length-1;if(A===t){if(r!==A){throw new Error(`Expected ${A} argument${1===A?"":"s"} for ${i}, got ${r}`)}}else if(r<A||r>t){throw new Error(`Expected ${t===1/0?`${A} or more`:`${A} to ${t}`} arguments for ${i}, got ${r}`)}}}function Va(A){return function(t,e){const n=t[0],i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const i=zo(t[s+1],e);if(!Wo(A,i.type)){const t=Vo(A),e=Vo(i.type);throw new Error(`Unexpected type for argument ${s} of ${n} operation, got ${t} but expected ${e}`)}i.type&=A,r[s]=i}return r}}function Xa(A,t,e){const n=A[0],i=A.length-1;let r=Po;for(let A=0;A<e.length;++A)r&=e[A].type;if(0===r)throw new Error(`No common type could be found for arguments of ${n} operation`);const s=new Array(i);for(let e=0;e<i;++e)s[e]=zo(A[e+1],t,r);return s}function Wa(A,t){const e=A[0],n=A.length-1;if(n%2==1)throw new Error(`An even amount of arguments was expected for operation ${e}, got ${JSON.stringify(n)} instead`)}function Ya(A,...t){return function(e,n,i){const r=e[0];let s=[];for(let A=0;A<t.length;A++)s=t[A](e,n,s,i)||s;let o="function"==typeof A?A(s):A;if(void 0!==i){if(!Wo(o,i))throw new Error(`The following expression was expected to return ${Vo(i)}, but returns ${Vo(o)} instead: ${JSON.stringify(e)}`);o&=i}if(0===o)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(e)}`);return new Jo(o,r,...s)}}function ja(A,t,e){const n=zo(A,e);if(!Wo(t,n.type)){const A=Vo(t),e=Vo(n.type);throw new Error(`Expected expression to be of type ${A}, got ${e}`)}return Ja(n,e)}function Ja(A,t){if(A instanceof jo){if(A.type===ko&&"string"==typeof A.value){const t=Ae(A.value);return function(){return t}}return function(){return A.value}}const e=A.operator;switch(e){case Ta:case Ma:return function(A,t){const e=A.operator,n=A.args.length,i=new Array(n);for(let e=0;e<n;++e)i[e]=Ja(A.args[e],t);switch(e){case Ta:case Ma:return A=>{for(let t=0;t<n;++t){const n=i[t](A);if(typeof n===e)return n}throw new Error(`Expected one of the values to be a ${e}`)};default:throw new Error(`Unsupported assertion operator ${e}`)}}(A,t);case qo:case $o:return function(A){const t=A.args[0],e=t.value;switch(A.operator){case qo:return A=>A.properties[e];case $o:return A=>A.variables[e];default:throw new Error(`Unsupported accessor operator ${A.operator}`)}}(A);case Ra:return A=>A.featureId;case Aa:{const e=A.args.map(A=>Ja(A,t));return A=>"".concat(...e.map(t=>t(A).toString()))}case ra:return A=>A.resolution;case ea:case na:case ia:return function(A,t){const e=A.operator,n=A.args.length,i=new Array(n);for(let e=0;e<n;++e)i[e]=Ja(A.args[e],t);switch(e){case ea:return A=>{for(let t=0;t<n;++t)if(i[t](A))return!0;return!1};case na:return A=>{for(let t=0;t<n;++t)if(!i[t](A))return!1;return!0};case ia:return A=>!i[0](A);default:throw new Error(`Unsupported logical operator ${e}`)}}(A,t);case aa:case la:case ua:case da:case ca:case ha:return function(A,t){const e=A.operator,n=Ja(A.args[0],t),i=Ja(A.args[1],t);switch(e){case aa:return A=>n(A)===i(A);case la:return A=>n(A)!==i(A);case ua:return A=>n(A)<i(A);case da:return A=>n(A)<=i(A);case ca:return A=>n(A)>i(A);case ha:return A=>n(A)>=i(A);default:throw new Error(`Unsupported comparison operator ${e}`)}}(A,t);case ga:case fa:case Ba:case pa:case wa:case ma:case Ca:case ya:case Qa:case Fa:case _a:case va:case Ua:case Ea:case xa:return function(A,t){const e=A.operator,n=A.args.length,i=new Array(n);for(let e=0;e<n;++e)i[e]=Ja(A.args[e],t);switch(e){case ga:return A=>{let t=1;for(let e=0;e<n;++e)t*=i[e](A);return t};case fa:return A=>i[0](A)/i[1](A);case Ba:return A=>{let t=0;for(let e=0;e<n;++e)t+=i[e](A);return t};case pa:return A=>i[0](A)-i[1](A);case wa:return A=>{const t=i[0](A),e=i[1](A);if(t<e)return e;const n=i[2](A);return t>n?n:t};case ma:return A=>i[0](A)%i[1](A);case Ca:return A=>Math.pow(i[0](A),i[1](A));case ya:return A=>Math.abs(i[0](A));case Qa:return A=>Math.floor(i[0](A));case Fa:return A=>Math.ceil(i[0](A));case _a:return A=>Math.round(i[0](A));case va:return A=>Math.sin(i[0](A));case Ua:return A=>Math.cos(i[0](A));case Ea:return 2===n?A=>Math.atan2(i[0](A),i[1](A)):A=>Math.atan(i[0](A));case xa:return A=>Math.sqrt(i[0](A));default:throw new Error(`Unsupported numeric operator ${e}`)}}(A,t);case ba:return function(A,t){const e=A.args.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=Ja(A.args[i],t);return A=>{const t=n[0](A);for(let i=1;i<e;i+=2)if(t===n[i](A))return n[i+1](A);return n[e-1](A)}}(A,t);case Sa:return function(A,t){const e=A.args.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=Ja(A.args[i],t);return A=>{const t=n[0](A),i=n[1](A);let r,s;for(let o=2;o<e;o+=2){const e=n[o](A);let a=n[o+1](A);const l=Array.isArray(a);if(l&&(a=qt(a)),e>=i)return 2===o?a:l?za(t,i,r,s,e,a):Za(t,i,r,s,e,a);r=e,s=a}return s}}(A,t);default:throw new Error(`Unsupported operator ${e}`)}}function Za(A,t,e,n,i,r){const s=i-e;if(0===s)return n;const o=t-e;return n+(1===A?o/s:(Math.pow(A,o)-1)/(Math.pow(A,s)-1))*(r-n)}function za(A,t,e,n,i,r){if(0===i-e)return n;const s=$t(n),o=$t(r);let a=o[2]-s[2];a>180?a-=360:a<-180&&(a+=360);return ee(function(A){const t=St.rgb(Tt.xyz(A));return t[3]=A[3],t}([Za(A,t,e,s[0],i,o[0]),Za(A,t,e,s[1],i,o[1]),s[2]+Za(A,t,e,0,i,a),Za(A,t,e,n[3],i,r[3])]))}function qa(A){return!0}function $a(A){const t=Zo(),e=function(A,t){const e=A.length,n=new Array(e);for(let i=0;i<e;++i){const e=A[i],r="filter"in e?ja(e.filter,Do,t):qa;let s;if(Array.isArray(e.style)){const A=e.style.length;s=new Array(A);for(let n=0;n<A;++n)s[n]=tl(e.style[n],t)}else s=[tl(e.style,t)];n[i]={filter:r,styles:s}}return function(t){const i=[];let r=!1;for(let s=0;s<e;++s){if((0,n[s].filter)(t)&&(!A[s].else||!r)){r=!0;for(const A of n[s].styles){const e=A(t);e&&i.push(e)}}}return i}}(A,t),n={variables:{},properties:{},resolution:NaN,featureId:null};return function(A,i){if(n.properties=A.getPropertiesInternal(),n.resolution=i,t.featureId){const t=A.getId();n.featureId=void 0!==t?t:null}return e(n)}}function Al(A){const t=Zo(),e=A.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=tl(A[i],t);const i={variables:{},properties:{},resolution:NaN,featureId:null},r=new Array(e);return function(A,s){if(i.properties=A.getPropertiesInternal(),i.resolution=s,t.featureId){const t=A.getId();i.featureId=void 0!==t?t:null}let o=0;for(let A=0;A<e;++A){const t=n[A](i);t&&(r[o]=t,o+=1)}return r.length=o,r}}function tl(A,t){const e=el(A,"",t),n=nl(A,"",t),i=function(A,t){const e="text-",n=rl(A,e+"value",t);if(!n)return null;const i=el(A,e,t),r=el(A,e+"background-",t),s=nl(A,e,t),o=nl(A,e+"background-",t),a=rl(A,e+"font",t),l=il(A,e+"max-angle",t),c=il(A,e+"offset-x",t),h=il(A,e+"offset-y",t),u=sl(A,e+"overflow",t),d=rl(A,e+"placement",t),g=il(A,e+"repeat",t),f=cl(A,e+"scale",t),B=sl(A,e+"rotate-with-view",t),p=il(A,e+"rotation",t),w=rl(A,e+"align",t),m=rl(A,e+"justify",t),C=rl(A,e+"baseline",t),y=al(A,e+"padding",t),Q=new To({});return function(A){if(Q.setText(n(A)),i&&Q.setFill(i(A)),r&&Q.setBackgroundFill(r(A)),s&&Q.setStroke(s(A)),o&&Q.setBackgroundStroke(o(A)),a&&Q.setFont(a(A)),l&&Q.setMaxAngle(l(A)),c&&Q.setOffsetX(c(A)),h&&Q.setOffsetY(h(A)),u&&Q.setOverflow(u(A)),d){const t=d(A);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");Q.setPlacement(t)}if(g&&Q.setRepeat(g(A)),f&&Q.setScale(f(A)),B&&Q.setRotateWithView(B(A)),p&&Q.setRotation(p(A)),w){const t=w(A);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");Q.setTextAlign(t)}if(m){const t=m(A);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");Q.setJustify(t)}if(C){const t=C(A);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Q.setTextBaseline(t)}return y&&Q.setPadding(y(A)),Q}}(A,t),r=function(A,t){if("icon-src"in A)return function(A,t){const e="icon-",n=e+"src",i=Bl(A[n],n),r=ll(A,e+"anchor",t),s=cl(A,e+"scale",t),o=il(A,e+"opacity",t),a=ll(A,e+"displacement",t),l=il(A,e+"rotation",t),c=sl(A,e+"rotate-with-view",t),h=ul(A,e+"anchor-origin"),u=dl(A,e+"anchor-x-units"),d=dl(A,e+"anchor-y-units"),g=function(A,t){const e=A[t];if(void 0===e)return;return wl(e,t)}(A,e+"color"),f=function(A,t){const e=A[t];if(void 0===e)return;if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}(A,e+"cross-origin"),B=function(A,t){const e=A[t];if(void 0===e)return;return fl(e,t)}(A,e+"offset"),p=ul(A,e+"offset-origin"),w=hl(A,e+"width"),m=hl(A,e+"height"),C=function(A,t){const e=A[t];if(void 0===e)return;if("number"==typeof e)return Ls(e);if(!Array.isArray(e))throw new Error(`Expected a number or size array for ${t}`);if(2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw new Error(`Expected a number or size array for ${t}`);return e}(A,e+"size"),y=gl(A,e+"declutter"),Q=new Ho({src:i,anchorOrigin:h,anchorXUnits:u,anchorYUnits:d,color:g,crossOrigin:f,offset:B,offsetOrigin:p,height:m,width:w,size:C,declutterMode:y});return function(A){return o&&Q.setOpacity(o(A)),a&&Q.setDisplacement(a(A)),l&&Q.setRotation(l(A)),c&&Q.setRotateWithView(c(A)),s&&Q.setScale(s(A)),r&&Q.setAnchor(r(A)),Q}}(A,t);if("shape-points"in A)return function(A,t){const e="shape-",n=e+"points",i=pl(A[n],n),r=el(A,e,t),s=nl(A,e,t),o=cl(A,e+"scale",t),a=ll(A,e+"displacement",t),l=il(A,e+"rotation",t),c=sl(A,e+"rotate-with-view",t),h=hl(A,e+"radius"),u=hl(A,e+"radius1"),d=hl(A,e+"radius2"),g=hl(A,e+"angle"),f=gl(A,e+"declutter-mode"),B=new Bo({points:i,radius:h,radius1:u,radius2:d,angle:g,declutterMode:f});return function(A){return r&&B.setFill(r(A)),s&&B.setStroke(s(A)),a&&B.setDisplacement(a(A)),l&&B.setRotation(l(A)),c&&B.setRotateWithView(c(A)),o&&B.setScale(o(A)),B}}(A,t);if("circle-radius"in A)return function(A,t){const e="circle-",n=el(A,e,t),i=nl(A,e,t),r=il(A,e+"radius",t),s=cl(A,e+"scale",t),o=ll(A,e+"displacement",t),a=il(A,e+"rotation",t),l=sl(A,e+"rotate-with-view",t),c=gl(A,e+"declutter-mode"),h=new wo({radius:5,declutterMode:c});return function(A){return r&&h.setRadius(r(A)),n&&h.setFill(n(A)),i&&h.setStroke(i(A)),o&&h.setDisplacement(o(A)),a&&h.setRotation(a(A)),l&&h.setRotateWithView(l(A)),s&&h.setScale(s(A)),h}}(A,t);return null}(A,t),s=il(A,"z-index",t);if(!(e||n||i||r||AA(A)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(A));const o=new Eo;return function(A){let t=!0;if(e){const n=e(A);n&&(t=!1),o.setFill(n)}if(n){const e=n(A);e&&(t=!1),o.setStroke(e)}if(i){const e=i(A);e&&(t=!1),o.setText(e)}if(r){const e=r(A);e&&(t=!1),o.setImage(e)}return s&&o.setZIndex(s(A)),t?null:o}}function el(A,t,e){const n=ol(A,t+"fill-color",e);if(!n)return null;const i=new Co;return function(A){const t=n(A);return"none"===t?null:(i.setColor(t),i)}}function nl(A,t,e){const n=il(A,t+"stroke-width",e),i=ol(A,t+"stroke-color",e);if(!n&&!i)return null;const r=rl(A,t+"stroke-line-cap",e),s=rl(A,t+"stroke-line-join",e),o=al(A,t+"stroke-line-dash",e),a=il(A,t+"stroke-line-dash-offset",e),l=il(A,t+"stroke-miter-limit",e),c=new Qo;return function(A){if(i){const t=i(A);if("none"===t)return null;c.setColor(t)}if(n&&c.setWidth(n(A)),r){const t=r(A);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");c.setLineCap(t)}if(s){const t=s(A);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(t)}return o&&c.setLineDash(o(A)),a&&c.setLineDashOffset(a(A)),l&&c.setMiterLimit(l(A)),c}}function il(A,t,e){if(!(t in A))return;const n=ja(A[t],Ko,e);return function(A){return pl(n(A),t)}}function rl(A,t,e){if(!(t in A))return null;const n=ja(A[t],Ro,e);return function(A){return Bl(n(A),t)}}function sl(A,t,e){if(!(t in A))return null;const n=ja(A[t],Do,e);return function(A){const e=n(A);if("boolean"!=typeof e)throw new Error(`Expected a boolean for ${t}`);return e}}function ol(A,t,e){if(!(t in A))return null;const n=ja(A[t],ko|Ro,e);return function(A){return wl(n(A),t)}}function al(A,t,e){if(!(t in A))return null;const n=ja(A[t],Oo,e);return function(A){return fl(n(A),t)}}function ll(A,t,e){if(!(t in A))return null;const n=ja(A[t],Oo,e);return function(A){const e=fl(n(A),t);if(2!==e.length)throw new Error(`Expected two numbers for ${t}`);return e}}function cl(A,t,e){if(!(t in A))return null;const n=ja(A[t],Oo|Ko,e);return function(A){return function(A,t){if("number"==typeof A)return A;const e=fl(A,t);if(2!==e.length)throw new Error(`Expected an array of two numbers for ${t}`);return e}(n(A),t)}}function hl(A,t){const e=A[t];if(void 0!==e){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}}function ul(A,t){const e=A[t];if(void 0!==e){if("bottom-left"!==e&&"bottom-right"!==e&&"top-left"!==e&&"top-right"!==e)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return e}}function dl(A,t){const e=A[t];if(void 0!==e){if("pixels"!==e&&"fraction"!==e)throw new Error(`Expected pixels or fraction for ${t}`);return e}}function gl(A,t){const e=A[t];if(void 0!==e){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);if("declutter"!==e&&"obstacle"!==e&&"none"!==e)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return e}}function fl(A,t){if(!Array.isArray(A))throw new Error(`Expected an array for ${t}`);const e=A.length;for(let n=0;n<e;++n)if("number"!=typeof A[n])throw new Error(`Expected an array of numbers for ${t}`);return A}function Bl(A,t){if("string"!=typeof A)throw new Error(`Expected a string for ${t}`);return A}function pl(A,t){if("number"!=typeof A)throw new Error(`Expected a number for ${t}`);return A}function wl(A,t){if("string"==typeof A)return A;const e=fl(A,t),n=e.length;if(n<3||n>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return e}const ml="renderOrder";const Cl=class extends Li{constructor(A){A=A||{};const t=Object.assign({},A);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==A.declutter&&A.declutter,this.renderBuffer_=void 0!==A.renderBuffer?A.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(A.style),this.updateWhileAnimating_=void 0!==A.updateWhileAnimating&&A.updateWhileAnimating,this.updateWhileInteracting_=void 0!==A.updateWhileInteracting&&A.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(A){return super.getFeatures(A)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(ml)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(A){A.declutterTree||(A.declutterTree=new co(9)),this.getRenderer().renderDeclutter(A)}setRenderOrder(A){this.set(ml,A)}setStyle(A){this.style_=function(A){if(void 0===A)return vo;if(!A)return null;if("function"==typeof A)return A;if(A instanceof Eo)return A;if(!Array.isArray(A))return Al([A]);if(0===A.length)return[];const t=A.length,e=A[0];if(e instanceof Eo){const e=new Array(t);for(let n=0;n<t;++n){const t=A[n];if(!(t instanceof Eo))throw new Error("Expected a list of style instances");e[n]=t}return e}if("style"in e){const e=new Array(t);for(let n=0;n<t;++n){const t=A[n];if(!("style"in t))throw new Error("Expected a list of rules with a style property");e[n]=t}return $a(e)}const n=A;return Al(n)}(A),this.styleFunction_=null===A?void 0:function(A){let t;if("function"==typeof A)t=A;else{let e;Array.isArray(A)?e=A:(MA("function"==typeof A.getZIndex,"Expected an `Style` or an array of `Style`"),e=[A]),t=function(){return e}}return t}(this.style_),this.changed()}},yl={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ql=[yl.FILL],Fl=[yl.STROKE],_l=[yl.BEGIN_PATH],vl=[yl.CLOSE_PATH],Ul=yl;const El=class{drawCustom(A,t,e,n){}drawGeometry(A){}setStyle(A){}drawCircle(A,t){}drawFeature(A,t){}drawGeometryCollection(A,t){}drawLineString(A,t){}drawMultiLineString(A,t){}drawMultiPoint(A,t){}drawMultiPolygon(A,t){}drawPoint(A,t){}drawPolygon(A,t){}drawText(A,t){}setFillStrokeStyle(A,t){}setImageStyle(A,t){}setTextStyle(A,t){}};const xl=class extends El{constructor(A,t,e,n){super(),this.tolerance=A,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=e,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(A){const t=this.pixelRatio;return 1==t?A:A.map(function(A){return A*t})}appendFlatPointCoordinates(A,t){const e=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,i=this.coordinates;let r=i.length;for(let s=0,o=A.length;s<o;s+=t)n[0]=A[s],n[1]=A[s+1],qA(e,n)&&(i[r++]=n[0],i[r++]=n[1]);return r}appendFlatLineCoordinates(A,t,e,n,i,r){const s=this.coordinates;let o=s.length;const a=this.getBufferedMaxExtent();r&&(t+=n);let l=A[t],c=A[t+1];const h=this.tmpCoordinate_;let u,d,g,f=!0;for(u=t+n;u<e;u+=n)h[0]=A[u],h[1]=A[u+1],g=tt(a,h),g!==d?(f&&(s[o++]=l,s[o++]=c,f=!1),s[o++]=h[0],s[o++]=h[1]):g===NA?(s[o++]=h[0],s[o++]=h[1],f=!1):f=!0,l=h[0],c=h[1],d=g;return(i&&f||u===t+n)&&(s[o++]=l,s[o++]=c),o}drawCustomCoordinates_(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r){const s=e[r],o=this.appendFlatLineCoordinates(A,t,s,n,!1,!1);i.push(o),t=s}return t}drawCustom(A,t,e,n){this.beginGeometry(A,t);const i=A.getType(),r=A.getStride(),s=this.coordinates.length;let o,a,l,c,h;switch(i){case"MultiPolygon":o=A.getOrientedFlatCoordinates(),c=[];const t=A.getEndss();h=0;for(let A=0,e=t.length;A<e;++A){const e=[];h=this.drawCustomCoordinates_(o,h,t[A],r,e),c.push(e)}this.instructions.push([Ul.CUSTOM,s,c,A,e,ni]),this.hitDetectionInstructions.push([Ul.CUSTOM,s,c,A,n||e,ni]);break;case"Polygon":case"MultiLineString":l=[],o="Polygon"==i?A.getOrientedFlatCoordinates():A.getFlatCoordinates(),h=this.drawCustomCoordinates_(o,0,A.getEnds(),r,l),this.instructions.push([Ul.CUSTOM,s,l,A,e,ei]),this.hitDetectionInstructions.push([Ul.CUSTOM,s,l,A,n||e,ei]);break;case"LineString":case"Circle":o=A.getFlatCoordinates(),a=this.appendFlatLineCoordinates(o,0,o.length,r,!1,!1),this.instructions.push([Ul.CUSTOM,s,a,A,e,ti]),this.hitDetectionInstructions.push([Ul.CUSTOM,s,a,A,n||e,ti]);break;case"MultiPoint":o=A.getFlatCoordinates(),a=this.appendFlatPointCoordinates(o,r),a>s&&(this.instructions.push([Ul.CUSTOM,s,a,A,e,ti]),this.hitDetectionInstructions.push([Ul.CUSTOM,s,a,A,n||e,ti]));break;case"Point":o=A.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),a=this.coordinates.length,this.instructions.push([Ul.CUSTOM,s,a,A,e]),this.hitDetectionInstructions.push([Ul.CUSTOM,s,a,A,n||e])}this.endGeometry(t)}beginGeometry(A,t){this.beginGeometryInstruction1_=[Ul.BEGIN_GEOMETRY,t,0,A],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ul.BEGIN_GEOMETRY,t,0,A],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const A=this.hitDetectionInstructions;let t;A.reverse();const e=A.length;let n,i,r=-1;for(t=0;t<e;++t)n=A[t],i=n[0],i==Ul.END_GEOMETRY?r=t:i==Ul.BEGIN_GEOMETRY&&(n[2]=t,W(this.hitDetectionInstructions,r,t),r=-1)}setFillStrokeStyle(A,t){const e=this.state;if(A){const t=A.getColor();e.fillStyle=go(t||qi)}else e.fillStyle=void 0;if(t){const A=t.getColor();e.strokeStyle=go(A||er);const n=t.getLineCap();e.lineCap=void 0!==n?n:$i;const i=t.getLineDash();e.lineDash=i?i.slice():Ar;const r=t.getLineDashOffset();e.lineDashOffset=r||0;const s=t.getLineJoin();e.lineJoin=void 0!==s?s:tr;const o=t.getWidth();e.lineWidth=void 0!==o?o:1;const a=t.getMiterLimit();e.miterLimit=void 0!==a?a:10,e.lineWidth>this.maxLineWidth&&(this.maxLineWidth=e.lineWidth,this.bufferedMaxExtent_=null)}else e.strokeStyle=void 0,e.lineCap=void 0,e.lineDash=null,e.lineDashOffset=void 0,e.lineJoin=void 0,e.lineWidth=void 0,e.miterLimit=void 0}createFill(A){const t=A.fillStyle,e=[Ul.SET_FILL_STYLE,t];return"string"!=typeof t&&e.push(!0),e}applyStroke(A){this.instructions.push(this.createStroke(A))}createStroke(A){return[Ul.SET_STROKE_STYLE,A.strokeStyle,A.lineWidth*this.pixelRatio,A.lineCap,A.lineJoin,A.miterLimit,this.applyPixelRatio(A.lineDash),A.lineDashOffset*this.pixelRatio]}updateFillStyle(A,t){const e=A.fillStyle;"string"==typeof e&&A.currentFillStyle==e||(void 0!==e&&this.instructions.push(t.call(this,A)),A.currentFillStyle=e)}updateStrokeStyle(A,t){const e=A.strokeStyle,n=A.lineCap,i=A.lineDash,r=A.lineDashOffset,s=A.lineJoin,o=A.lineWidth,a=A.miterLimit;(A.currentStrokeStyle!=e||A.currentLineCap!=n||i!=A.currentLineDash&&!j(A.currentLineDash,i)||A.currentLineDashOffset!=r||A.currentLineJoin!=s||A.currentLineWidth!=o||A.currentMiterLimit!=a)&&(void 0!==e&&t.call(this,A),A.currentStrokeStyle=e,A.currentLineCap=n,A.currentLineDash=i,A.currentLineDashOffset=r,A.currentLineJoin=s,A.currentLineWidth=o,A.currentMiterLimit=a)}endGeometry(A){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Ul.END_GEOMETRY,A];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ZA(this.maxExtent),this.maxLineWidth>0)){const A=this.resolution*(this.maxLineWidth+1)/2;JA(this.bufferedMaxExtent_,A,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};const bl=class extends xl{constructor(A,t,e,n){super(A,t,e,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(A,t){if(!this.image_)return;this.beginGeometry(A,t);const e=A.getFlatCoordinates(),n=A.getStride(),i=this.coordinates.length,r=this.appendFlatPointCoordinates(e,n);this.instructions.push([Ul.DRAW_IMAGE,i,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ul.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(A,t){if(!this.image_)return;this.beginGeometry(A,t);const e=A.getFlatCoordinates(),n=A.getStride(),i=this.coordinates.length,r=this.appendFlatPointCoordinates(e,n);this.instructions.push([Ul.DRAW_IMAGE,i,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ul.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(A,t){const e=A.getAnchor(),n=A.getSize(),i=A.getOrigin();this.imagePixelRatio_=A.getPixelRatio(this.pixelRatio),this.anchorX_=e[0],this.anchorY_=e[1],this.hitDetectionImage_=A.getHitDetectionImage(),this.image_=A.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=A.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=A.getRotateWithView(),this.rotation_=A.getRotation(),this.scale_=A.getScaleArray(),this.width_=n[0],this.declutterMode_=A.getDeclutterMode(),this.declutterImageWithText_=t}};const Il=class extends xl{constructor(A,t,e,n){super(A,t,e,n)}drawFlatCoordinates_(A,t,e,n){const i=this.coordinates.length,r=this.appendFlatLineCoordinates(A,t,e,n,!1,!1),s=[Ul.MOVE_TO_LINE_TO,i,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),e}drawLineString(A,t){const e=this.state,n=e.strokeStyle,i=e.lineWidth;if(void 0===n||void 0===i)return;this.updateStrokeStyle(e,this.applyStroke),this.beginGeometry(A,t),this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,Ar,0],_l);const r=A.getFlatCoordinates(),s=A.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(Fl),this.endGeometry(t)}drawMultiLineString(A,t){const e=this.state,n=e.strokeStyle,i=e.lineWidth;if(void 0===n||void 0===i)return;this.updateStrokeStyle(e,this.applyStroke),this.beginGeometry(A,t),this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,Ar,0],_l);const r=A.getEnds(),s=A.getFlatCoordinates(),o=A.getStride();let a=0;for(let A=0,t=r.length;A<t;++A)a=this.drawFlatCoordinates_(s,a,r[A],o);this.hitDetectionInstructions.push(Fl),this.endGeometry(t)}finish(){const A=this.state;return null!=A.lastStroke&&A.lastStroke!=this.coordinates.length&&this.instructions.push(Fl),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(A){null!=A.lastStroke&&A.lastStroke!=this.coordinates.length&&(this.instructions.push(Fl),A.lastStroke=this.coordinates.length),A.lastStroke=0,super.applyStroke(A),this.instructions.push(_l)}};const Sl=class extends xl{constructor(A,t,e,n){super(A,t,e,n)}drawFlatCoordinatess_(A,t,e,n){const i=this.state,r=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,o=e.length;this.instructions.push(_l),this.hitDetectionInstructions.push(_l);for(let i=0;i<o;++i){const r=e[i],o=this.coordinates.length,a=this.appendFlatLineCoordinates(A,t,r,n,!0,!s),l=[Ul.MOVE_TO_LINE_TO,o,a];this.instructions.push(l),this.hitDetectionInstructions.push(l),s&&(this.instructions.push(vl),this.hitDetectionInstructions.push(vl)),t=r}return r&&(this.instructions.push(Ql),this.hitDetectionInstructions.push(Ql)),s&&(this.instructions.push(Fl),this.hitDetectionInstructions.push(Fl)),t}drawCircle(A,t){const e=this.state,n=e.fillStyle,i=e.strokeStyle;if(void 0===n&&void 0===i)return;this.setFillStrokeStyles_(),this.beginGeometry(A,t),void 0!==e.fillStyle&&this.hitDetectionInstructions.push([Ul.SET_FILL_STYLE,qi]),void 0!==e.strokeStyle&&this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,Ar,0]);const r=A.getFlatCoordinates(),s=A.getStride(),o=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,s,!1,!1);const a=[Ul.CIRCLE,o];this.instructions.push(_l,a),this.hitDetectionInstructions.push(_l,a),void 0!==e.fillStyle&&(this.instructions.push(Ql),this.hitDetectionInstructions.push(Ql)),void 0!==e.strokeStyle&&(this.instructions.push(Fl),this.hitDetectionInstructions.push(Fl)),this.endGeometry(t)}drawPolygon(A,t){const e=this.state,n=e.fillStyle,i=e.strokeStyle;if(void 0===n&&void 0===i)return;this.setFillStrokeStyles_(),this.beginGeometry(A,t),void 0!==e.fillStyle&&this.hitDetectionInstructions.push([Ul.SET_FILL_STYLE,qi]),void 0!==e.strokeStyle&&this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,Ar,0]);const r=A.getEnds(),s=A.getOrientedFlatCoordinates(),o=A.getStride();this.drawFlatCoordinatess_(s,0,r,o),this.endGeometry(t)}drawMultiPolygon(A,t){const e=this.state,n=e.fillStyle,i=e.strokeStyle;if(void 0===n&&void 0===i)return;this.setFillStrokeStyles_(),this.beginGeometry(A,t),void 0!==e.fillStyle&&this.hitDetectionInstructions.push([Ul.SET_FILL_STYLE,qi]),void 0!==e.strokeStyle&&this.hitDetectionInstructions.push([Ul.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,Ar,0]);const r=A.getEndss(),s=A.getOrientedFlatCoordinates(),o=A.getStride();let a=0;for(let A=0,t=r.length;A<t;++A)a=this.drawFlatCoordinatess_(s,a,r[A],o);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const A=this.tolerance;if(0!==A){const t=this.coordinates;for(let e=0,n=t.length;e<n;++e)t[e]=qn(t[e],A)}return super.finish()}setFillStrokeStyles_(){const A=this.state;void 0!==A.fillStyle&&this.updateFillStyle(A,this.createFill),void 0!==A.strokeStyle&&this.updateStrokeStyle(A,this.applyStroke)}};function Hl(A,t,e,n,i){const r=[];let s=e,o=0,a=t.slice(e,2);for(;o<A&&s+i<n;){const[e,n]=a.slice(-2),l=t[s+i],c=t[s+i+1],h=Math.sqrt((l-e)*(l-e)+(c-n)*(c-n));if(o+=h,o>=A){const t=(A-o+h)/h,u=Xt(e,l,t),d=Xt(n,c,t);a.push(u,d),r.push(a),a=[u,d],o==A&&(s+=i),o=0}else if(o<A)a.push(t[s+i],t[s+i+1]),s+=i;else{const A=h-o,t=Xt(e,l,A/h),u=Xt(n,c,A/h);a.push(t,u),r.push(a),a=[t,u],o=0,s+=i}}return o>0&&r.push(a),r}function Ll(A,t,e,n,i){let r,s,o,a,l,c,h,u,d,g,f=e,B=e,p=0,w=0,m=e;for(s=e;s<n;s+=i){const e=t[s],n=t[s+1];void 0!==l&&(d=e-l,g=n-c,a=Math.sqrt(d*d+g*g),void 0!==h&&(w+=o,r=Math.acos((h*d+u*g)/(o*a)),r>A&&(w>p&&(p=w,f=m,B=s),w=0,m=s-i)),o=a,h=d,u=g),l=e,c=n}return w+=a,w>p?[m,s]:[f,B]}const Tl={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const Ml=class extends xl{constructor(A,t,e,n){super(A,t,e,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[qi]={fillStyle:qi},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const A=super.finish();return A.textStates=this.textStates,A.fillStates=this.fillStates,A.strokeStates=this.strokeStates,A}drawText(A,t){const e=this.textFillState_,n=this.textStrokeState_,i=this.textState_;if(""===this.text_||!i||!e&&!n)return;const r=this.coordinates;let s=r.length;const o=A.getType();let a=null,l=A.getStride();if("line"!==i.placement||"LineString"!=o&&"MultiLineString"!=o&&"Polygon"!=o&&"MultiPolygon"!=o){let e=i.overflow?null:[];switch(o){case"Point":case"MultiPoint":a=A.getFlatCoordinates();break;case"LineString":a=A.getFlatMidpoint();break;case"Circle":a=A.getCenter();break;case"MultiLineString":a=A.getFlatMidpoints(),l=2;break;case"Polygon":a=A.getFlatInteriorPoint(),i.overflow||e.push(a[2]/this.resolution),l=3;break;case"MultiPolygon":const t=A.getFlatInteriorPoints();a=[];for(let A=0,n=t.length;A<n;A+=3)i.overflow||e.push(t[A+2]/this.resolution),a.push(t[A],t[A+1]);if(0===a.length)return;l=2}const n=this.appendFlatPointCoordinates(a,l);if(n===s)return;if(e&&(n-s)/2!==a.length/l){let A=s/2;e=e.filter((t,e)=>{const n=r[2*(A+e)]===a[e*l]&&r[2*(A+e)+1]===a[e*l+1];return n||--A,n})}this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&this.updateFillStyle(this.state,this.createFill),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(A,t);let c=i.padding;if(c!=rr&&(i.scale[0]<0||i.scale[1]<0)){let A=i.padding[0],t=i.padding[1],e=i.padding[2],n=i.padding[3];i.scale[0]<0&&(t=-t,n=-n),i.scale[1]<0&&(A=-A,e=-e),c=[A,t,e,n]}const h=this.pixelRatio;this.instructions.push([Ul.DRAW_IMAGE,s,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,c==rr?rr:c.map(function(A){return A*h}),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,e]);const u=1/h,d=this.state.fillStyle;i.backgroundFill&&(this.state.fillStyle=qi,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Ul.DRAW_IMAGE,s,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[u,u],NaN,void 0,this.declutterImageWithText_,c,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?qi:this.fillKey_,this.textOffsetX_,this.textOffsetY_,e]),i.backgroundFill&&(this.state.fillStyle=d,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!vt(this.getBufferedMaxExtent(),A.getExtent()))return;let e;if(a=A.getFlatCoordinates(),"LineString"==o)e=[a.length];else if("MultiLineString"==o)e=A.getEnds();else if("Polygon"==o)e=A.getEnds().slice(0,1);else if("MultiPolygon"==o){const t=A.getEndss();e=[];for(let A=0,n=t.length;A<n;++A)e.push(t[A][0])}this.beginGeometry(A,t);const n=i.repeat,c=n?void 0:i.textAlign;let h=0;for(let A=0,t=e.length;A<t;++A){let t;t=n?Hl(n*this.resolution,a,h,e[A],l):[a.slice(h,e[A])];for(let n=0,o=t.length;n<o;++n){const o=t[n];let a=0,u=o.length;if(null==c){const A=Ll(i.maxAngle,o,0,o.length,2);a=A[0],u=A[1]}for(let A=a;A<u;A+=l)r.push(o[A],o[A+1]);const d=r.length;h=e[A],this.drawChars_(s,d),s=d}}this.endGeometry(t)}}saveTextStates_(){const A=this.textStrokeState_,t=this.textState_,e=this.textFillState_,n=this.strokeKey_;A&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:A.strokeStyle,lineCap:A.lineCap,lineDashOffset:A.lineDashOffset,lineWidth:A.lineWidth,lineJoin:A.lineJoin,miterLimit:A.miterLimit,lineDash:A.lineDash}));const i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||nr,justify:t.justify,textBaseline:t.textBaseline||ir,scale:t.scale});const r=this.fillKey_;e&&(r in this.fillStates||(this.fillStates[r]={fillStyle:e.fillStyle}))}drawChars_(A,t){const e=this.textStrokeState_,n=this.textState_,i=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();const o=this.pixelRatio,a=Tl[n.textBaseline],l=this.textOffsetY_*o,c=this.text_,h=e?e.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Ul.DRAW_CHARS,A,t,a,n.overflow,s,n.maxAngle,o,l,i,h*o,c,r,1]),this.hitDetectionInstructions.push([Ul.DRAW_CHARS,A,t,a,n.overflow,s?qi:s,n.maxAngle,o,l,i,h*o,c,r,1/o])}setTextStyle(A,t){let e,n,i;if(A){const t=A.getFill();t?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=go(t.getColor()||qi)):(n=null,this.textFillState_=n);const r=A.getStroke();if(r){i=this.textStrokeState_,i||(i={},this.textStrokeState_=i);const A=r.getLineDash(),t=r.getLineDashOffset(),e=r.getWidth(),n=r.getMiterLimit();i.lineCap=r.getLineCap()||$i,i.lineDash=A?A.slice():Ar,i.lineDashOffset=void 0===t?0:t,i.lineJoin=r.getLineJoin()||tr,i.lineWidth=void 0===e?1:e,i.miterLimit=void 0===n?10:n,i.strokeStyle=go(r.getColor()||er)}else i=null,this.textStrokeState_=i;e=this.textState_;const s=A.getFont()||zi;cr(s);const o=A.getScaleArray();e.overflow=A.getOverflow(),e.font=s,e.maxAngle=A.getMaxAngle(),e.placement=A.getPlacement(),e.textAlign=A.getTextAlign(),e.repeat=A.getRepeat(),e.justify=A.getJustify(),e.textBaseline=A.getTextBaseline()||ir,e.backgroundFill=A.getBackgroundFill(),e.backgroundStroke=A.getBackgroundStroke(),e.padding=A.getPadding()||rr,e.scale=void 0===o?[1,1]:o;const a=A.getOffsetX(),l=A.getOffsetY(),c=A.getRotateWithView(),h=A.getRotation();this.text_=A.getText()||"",this.textOffsetX_=void 0===a?0:a,this.textOffsetY_=void 0===l?0:l,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===h?0:h,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:mA(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=e.font+e.scale+(e.textAlign||"?")+(e.repeat||"?")+(e.justify||"?")+(e.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+mA(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}},Dl={Circle:Sl,Default:xl,Image:bl,LineString:Il,Polygon:Sl,Text:Ml};const Kl=class{constructor(A,t,e,n){this.tolerance_=A,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=e,this.buildersByZIndex_={}}finish(){const A={};for(const t in this.buildersByZIndex_){A[t]=A[t]||{};const e=this.buildersByZIndex_[t];for(const n in e){const i=e[n].finish();A[t][n]=i}}return A}getBuilder(A,t){const e=void 0!==A?A.toString():"0";let n=this.buildersByZIndex_[e];void 0===n&&(n={},this.buildersByZIndex_[e]=n);let i=n[t];if(void 0===i){i=new(0,Dl[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=i}return i}};function Rl(A,t,e,n,i,r,s,o,a,l,c,h){let u=A[t],d=A[t+1],g=0,f=0,B=0,p=0;function w(){g=u,f=d,u=A[t+=n],d=A[t+1],p+=B,B=Math.sqrt((u-g)*(u-g)+(d-f)*(d-f))}do{w()}while(t<e-n&&p+B<r);let m=0===B?0:(r-p)/B;const C=Xt(g,u,m),y=Xt(f,d,m),Q=t-n,F=p,_=r+o*a(l,i,c);for(;t<e-n&&p+B<_;)w();m=0===B?0:(_-p)/B;const v=Xt(g,u,m),U=Xt(f,d,m);let E;if(h){const A=[C,y,v,U];Dn(A,0,4,2,h,A,A),E=A[0]>A[2]}else E=C>v;const x=Math.PI,b=[],I=Q+n===t;let S;if(B=0,p=F,u=A[t=Q],d=A[t+1],I){w(),S=Math.atan2(d-f,u-g),E&&(S+=S>0?-x:x);const A=(v+C)/2,t=(U+y)/2;return b[0]=[A,t,(_-r)/2,S,i],b}for(let A=0,h=(i=i.replace(/\n/g," ")).length;A<h;){w();let C=Math.atan2(d-f,u-g);if(E&&(C+=C>0?-x:x),void 0!==S){let A=C-S;if(A+=A>x?-2*x:A<-x?2*x:0,Math.abs(A)>s)return null}S=C;const y=A;let Q=0;for(;A<h;++A){const s=o*a(l,i[E?h-A-1:A],c);if(t+n<e&&p+B<r+Q+s/2)break;Q+=s}if(A===y)continue;const F=E?i.substring(h-y,h-A):i.substring(y,A);m=0===B?0:(r+Q/2-p)/B;const _=Xt(g,u,m),v=Xt(f,d,m);b.push([_,v,Q/2,C,F]),r+=Q}return b}function kl(A,t,e,n){let i=A[t],r=A[t+1],s=0;for(let o=t+n;o<e;o+=n){const t=A[o],e=A[o+1];s+=Math.sqrt((t-i)*(t-i)+(e-r)*(e-r)),i=t,r=e}return s}const Ol=[1/0,1/0,-1/0,-1/0],Pl=[],Gl=[],Nl=[],Vl=[];function Xl(A){return A[3].declutterBox}const Wl=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Yl(A,t){return"start"===t?t=Wl.test(A)?"right":"left":"end"===t&&(t=Wl.test(A)?"left":"right"),Tl[t]}function jl(A,t,e){return e>0&&A.push("\n",""),A.push(t,""),A}const Jl=class{constructor(A,t,e,n){this.overlaps=e,this.pixelRatio=t,this.resolution=A,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(A,t,e,n){const i=A+t+e+n;if(this.labels_[i])return this.labels_[i];const r=n?this.strokeStates[n]:null,s=e?this.fillStates[e]:null,o=this.textStates[t],a=this.pixelRatio,l=[o.scale[0]*a,o.scale[1]*a],c=Array.isArray(A),h=o.justify?Tl[o.justify]:Yl(Array.isArray(A)?A[0]:A,o.textAlign||nr),u=n&&r.lineWidth?r.lineWidth:0,d=c?A:A.split("\n").reduce(jl,[]),{width:g,height:f,widths:B,heights:p,lineWidths:w}=function(A,t){const e=[],n=[],i=[];let r=0,s=0,o=0,a=0;for(let l=0,c=t.length;l<=c;l+=2){const h=t[l];if("\n"===h||l===c){r=Math.max(r,s),i.push(s),s=0,o+=a;continue}const u=t[l+1]||A.font,d=dr(u,h);e.push(d),s+=d;const g=hr(u);n.push(g),a=Math.max(a,g)}return{width:r,height:o,widths:e,heights:n,lineWidths:i}}(o,d),m=g+u,C=[],y=(m+2)*l[0],Q=(f+u)*l[1],F={width:y<0?Math.floor(y):Math.ceil(y),height:Q<0?Math.floor(Q):Math.ceil(Q),contextInstructions:C};1==l[0]&&1==l[1]||C.push("scale",l),n&&(C.push("strokeStyle",r.strokeStyle),C.push("lineWidth",u),C.push("lineCap",r.lineCap),C.push("lineJoin",r.lineJoin),C.push("miterLimit",r.miterLimit),C.push("setLineDash",[r.lineDash]),C.push("lineDashOffset",r.lineDashOffset)),e&&C.push("fillStyle",s.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");const _=.5-h;let v=h*m+_*u;const U=[],E=[];let x,b=0,I=0,S=0,H=0;for(let A=0,t=d.length;A<t;A+=2){const t=d[A];if("\n"===t){I+=b,b=0,v=h*m+_*u,++H;continue}const i=d[A+1]||o.font;i!==x&&(n&&U.push("font",i),e&&E.push("font",i),x=i),b=Math.max(b,p[S]);const r=[t,v+_*B[S]+h*(B[S]-w[H]),.5*(u+b)+I];v+=B[S],n&&U.push("strokeText",r),e&&E.push("fillText",r),++S}return Array.prototype.push.apply(C,U),Array.prototype.push.apply(C,E),this.labels_[i]=F,F}replayTextBackground_(A,t,e,n,i,r,s){A.beginPath(),A.moveTo.apply(A,t),A.lineTo.apply(A,e),A.lineTo.apply(A,n),A.lineTo.apply(A,i),A.lineTo.apply(A,t),r&&(this.alignFill_=r[2],this.fill_(A)),s&&(this.setStrokeStyle_(A,s),A.stroke())}calculateImageOrLabelDimensions_(A,t,e,n,i,r,s,o,a,l,c,h,u,d,g,f){let B=e-(s*=h[0]),p=n-(o*=h[1]);const w=i+a>A?A-a:i,m=r+l>t?t-l:r,C=d[3]+w*h[0]+d[1],y=d[0]+m*h[1]+d[2],Q=B-d[3],F=p-d[0];let _;return(g||0!==c)&&(Pl[0]=Q,Vl[0]=Q,Pl[1]=F,Gl[1]=F,Gl[0]=Q+C,Nl[0]=Gl[0],Nl[1]=F+y,Vl[1]=Nl[1]),0!==c?(_=RA([1,0,0,1,0,0],e,n,1,1,c,-e,-n),KA(_,Pl),KA(_,Gl),KA(_,Nl),KA(_,Vl),nt(Math.min(Pl[0],Gl[0],Nl[0],Vl[0]),Math.min(Pl[1],Gl[1],Nl[1],Vl[1]),Math.max(Pl[0],Gl[0],Nl[0],Vl[0]),Math.max(Pl[1],Gl[1],Nl[1],Vl[1]),Ol)):nt(Math.min(Q,Q+C),Math.min(F,F+y),Math.max(Q,Q+C),Math.max(F,F+y),Ol),u&&(B=Math.round(B),p=Math.round(p)),{drawImageX:B,drawImageY:p,drawImageW:w,drawImageH:m,originX:a,originY:l,declutterBox:{minX:Ol[0],minY:Ol[1],maxX:Ol[2],maxY:Ol[3],value:f},canvasTransform:_,scale:h}}replayImageOrLabel_(A,t,e,n,i,r,s){const o=!(!r&&!s),a=n.declutterBox,l=A.canvas,c=s?s[2]*n.scale[0]/2:0;return a.minX-c<=l.width/t&&a.maxX+c>=0&&a.minY-c<=l.height/t&&a.maxY+c>=0&&(o&&this.replayTextBackground_(A,Pl,Gl,Nl,Vl,r,s),fr(A,n.canvasTransform,i,e,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(A){if(this.alignFill_){const t=KA(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;A.save(),A.translate(t[0]%e,t[1]%e),A.rotate(this.viewRotation_)}A.fill(),this.alignFill_&&A.restore()}setStrokeStyle_(A,t){A.strokeStyle=t[1],A.lineWidth=t[2],A.lineCap=t[3],A.lineJoin=t[4],A.miterLimit=t[5],A.lineDashOffset=t[7],A.setLineDash(t[6])}drawLabelWithPointPlacement_(A,t,e,n){const i=this.textStates[t],r=this.createLabel(A,t,n,e),s=this.strokeStates[e],o=this.pixelRatio,a=Yl(Array.isArray(A)?A[0]:A,i.textAlign||nr),l=Tl[i.textBaseline||ir],c=s&&s.lineWidth?s.lineWidth:0;return{label:r,anchorX:a*(r.width/o-2*i.scale[0])+2*(.5-a)*c,anchorY:l*r.height/o+2*(.5-l)*c}}execute_(A,t,e,n,i,r,s,o){let a;var l,c;this.pixelCoordinates_&&j(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=Mn(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),l=this.renderedTransform_,c=e,l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5]);let h=0;const u=n.length;let d,g,f,B,p,w,m,C,y,Q,F,_,v=0,U=0,E=0,x=null,b=null;const I=this.coordinateCache_,S=this.viewRotation_,H=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,L={context:A,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:S},T=this.instructions!=n||this.overlaps?0:200;let M,D,K,R;for(;h<u;){const e=n[h];switch(e[0]){case Ul.BEGIN_GEOMETRY:M=e[1],R=e[3],M.getGeometry()?void 0===s||vt(s,R.getExtent())?++h:h=e[2]+1:h=e[2];break;case Ul.BEGIN_PATH:U>T&&(this.fill_(A),U=0),E>T&&(A.stroke(),E=0),U||E||(A.beginPath(),B=NaN,p=NaN),++h;break;case Ul.CIRCLE:v=e[1];const n=a[v],l=a[v+1],c=a[v+2]-n,u=a[v+3]-l,k=Math.sqrt(c*c+u*u);A.moveTo(n+k,l),A.arc(n,l,k,0,2*Math.PI,!0),++h;break;case Ul.CLOSE_PATH:A.closePath(),++h;break;case Ul.CUSTOM:v=e[1],d=e[2];const O=e[3],P=e[4],G=6==e.length?e[5]:void 0;L.geometry=O,L.feature=M,h in I||(I[h]=[]);const N=I[h];G?G(a,v,d,2,N):(N[0]=a[v],N[1]=a[v+1],N.length=2),P(N,L),++h;break;case Ul.DRAW_IMAGE:v=e[1],d=e[2],C=e[3],g=e[4],f=e[5];let V=e[6];const X=e[7],W=e[8],Y=e[9],j=e[10];let J=e[11];const Z=e[12];let z=e[13];const q=e[14],$=e[15];if(!C&&e.length>=20){y=e[19],Q=e[20],F=e[21],_=e[22];const A=this.drawLabelWithPointPlacement_(y,Q,F,_);C=A.label,e[3]=C;const t=e[23];g=(A.anchorX-t)*this.pixelRatio,e[4]=g;const n=e[24];f=(A.anchorY-n)*this.pixelRatio,e[5]=f,V=C.height,e[6]=V,z=C.width,e[13]=z}let AA,tA,eA,nA;e.length>25&&(AA=e[25]),e.length>17?(tA=e[16],eA=e[17],nA=e[18]):(tA=rr,eA=!1,nA=!1),j&&H?J+=S:j||H||(J-=S);let iA=0;for(;v<d;v+=2){if(AA&&AA[iA++]<z/this.pixelRatio)continue;const e=this.calculateImageOrLabelDimensions_(C.width,C.height,a[v],a[v+1],z,V,g,f,W,Y,J,Z,i,tA,eA||nA,M),n=[A,t,C,e,X,eA?x:null,nA?b:null];if(o){if("none"===q)continue;if("obstacle"===q){o.insert(e.declutterBox);continue}{let A,t;if($){const e=d-v;if(!$[e]){$[e]=n;continue}if(A=$[e],delete $[e],t=Xl(A),o.collides(t))continue}if(o.collides(e.declutterBox))continue;A&&(o.insert(t),this.replayImageOrLabel_.apply(this,A)),o.insert(e.declutterBox)}}this.replayImageOrLabel_.apply(this,n)}++h;break;case Ul.DRAW_CHARS:const rA=e[1],sA=e[2],oA=e[3],aA=e[4];_=e[5];const lA=e[6],cA=e[7],hA=e[8];F=e[9];const uA=e[10];y=e[11],Q=e[12];const dA=[e[13],e[13]],gA=this.textStates[Q],fA=gA.font,BA=[gA.scale[0]*cA,gA.scale[1]*cA];let pA;fA in this.widths_?pA=this.widths_[fA]:(pA={},this.widths_[fA]=pA);const wA=kl(a,rA,sA,2),mA=Math.abs(BA[0])*gr(fA,y,pA);if(aA||mA<=wA){const e=Rl(a,rA,sA,2,y,(wA-mA)*Yl(y,this.textStates[Q].textAlign),lA,Math.abs(BA[0]),gr,fA,pA,H?0:this.viewRotation_);A:if(e){const n=[];let i,r,s,a,l;if(F)for(i=0,r=e.length;i<r;++i){l=e[i],s=l[4],a=this.createLabel(s,Q,"",F),g=l[2]+(BA[0]<0?-uA:uA),f=oA*a.height+2*(.5-oA)*uA*BA[1]/BA[0]-hA;const r=this.calculateImageOrLabelDimensions_(a.width,a.height,l[0],l[1],a.width,a.height,g,f,0,0,l[3],dA,!1,rr,!1,M);if(o&&o.collides(r.declutterBox))break A;n.push([A,t,a,r,1,null,null])}if(_)for(i=0,r=e.length;i<r;++i){l=e[i],s=l[4],a=this.createLabel(s,Q,_,""),g=l[2],f=oA*a.height-hA;const r=this.calculateImageOrLabelDimensions_(a.width,a.height,l[0],l[1],a.width,a.height,g,f,0,0,l[3],dA,!1,rr,!1,M);if(o&&o.collides(r.declutterBox))break A;n.push([A,t,a,r,1,null,null])}o&&o.load(n.map(Xl));for(let A=0,t=n.length;A<t;++A)this.replayImageOrLabel_.apply(this,n[A])}}++h;break;case Ul.END_GEOMETRY:if(void 0!==r){M=e[1];const A=r(M,R);if(A)return A}++h;break;case Ul.FILL:T?U++:this.fill_(A),++h;break;case Ul.MOVE_TO_LINE_TO:for(v=e[1],d=e[2],D=a[v],K=a[v+1],w=D+.5|0,m=K+.5|0,w===B&&m===p||(A.moveTo(D,K),B=w,p=m),v+=2;v<d;v+=2)D=a[v],K=a[v+1],w=D+.5|0,m=K+.5|0,v!=d-2&&w===B&&m===p||(A.lineTo(D,K),B=w,p=m);++h;break;case Ul.SET_FILL_STYLE:x=e,this.alignFill_=e[2],U&&(this.fill_(A),U=0,E&&(A.stroke(),E=0)),A.fillStyle=e[1],++h;break;case Ul.SET_STROKE_STYLE:b=e,E&&(A.stroke(),E=0),this.setStrokeStyle_(A,e),++h;break;case Ul.STROKE:T?E++:A.stroke(),++h;break;default:++h}}U&&this.fill_(A),E&&A.stroke()}execute(A,t,e,n,i,r){this.viewRotation_=n,this.execute_(A,t,e,this.instructions,i,void 0,void 0,r)}executeHitDetection(A,t,e,n,i){return this.viewRotation_=e,this.execute_(A,1,t,this.hitDetectionInstructions,!0,n,i)}},Zl=["Polygon","Circle","LineString","Image","Text","Default"];const zl={};const ql=class{constructor(A,t,e,n,i,r){this.maxExtent_=A,this.overlaps_=n,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}clip(A,t){const e=this.getClipCoords(t);A.beginPath(),A.moveTo(e[0],e[1]),A.lineTo(e[2],e[3]),A.lineTo(e[4],e[5]),A.lineTo(e[6],e[7]),A.clip()}createExecutors_(A){for(const t in A){let e=this.executorsByZIndex_[t];void 0===e&&(e={},this.executorsByZIndex_[t]=e);const n=A[t];for(const A in n){const t=n[A];e[A]=new Jl(this.resolution_,this.pixelRatio_,this.overlaps_,t)}}}hasExecutors(A){for(const t in this.executorsByZIndex_){const e=this.executorsByZIndex_[t];for(let t=0,n=A.length;t<n;++t)if(A[t]in e)return!0}return!1}forEachFeatureAtCoordinate(A,t,e,n,i,r){const s=2*(n=Math.round(n))+1,o=RA(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-e,-A[0],-A[1]),a=!this.hitDetectionContext_;a&&(this.hitDetectionContext_=Vi(s,s,void 0,{willReadFrequently:!0}));const l=this.hitDetectionContext_;let c;l.canvas.width!==s||l.canvas.height!==s?(l.canvas.width=s,l.canvas.height=s):a||l.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(c=[1/0,1/0,-1/0,-1/0],lt(c,A),JA(c,t*(this.renderBuffer_+n),c));const h=function(A){if(void 0!==zl[A])return zl[A];const t=2*A+1,e=A*A,n=new Array(e+1);for(let i=0;i<=A;++i)for(let r=0;r<=A;++r){const s=i*i+r*r;if(s>e)break;let o=n[s];o||(o=[],n[s]=o),o.push(4*((A+i)*t+(A+r))+3),i>0&&o.push(4*((A-i)*t+(A+r))+3),r>0&&(o.push(4*((A+i)*t+(A-r))+3),i>0&&o.push(4*((A-i)*t+(A-r))+3))}const i=[];for(let A=0,t=n.length;A<t;++A)n[A]&&i.push(...n[A]);return zl[A]=i,i}(n);let u;function d(A,t){const e=l.getImageData(0,0,s,s).data;for(let o=0,a=h.length;o<a;o++)if(e[h[o]]>0){if(!r||"Image"!==u&&"Text"!==u||r.includes(A)){const e=(h[o]-3)/4,r=n-e%s,a=n-(e/s|0),l=i(A,t,r*r+a*a);if(l)return l}l.clearRect(0,0,s,s);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);let f,B,p,w,m;for(g.sort(V),f=g.length-1;f>=0;--f){const A=g[f].toString();for(p=this.executorsByZIndex_[A],B=Zl.length-1;B>=0;--B)if(u=Zl[B],w=p[u],void 0!==w&&(m=w.executeHitDetection(l,o,e,d,c),m))return m}}getClipCoords(A){const t=this.maxExtent_;if(!t)return null;const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n];return Mn(s,0,8,2,A,s),s}isEmpty(){return AA(this.executorsByZIndex_)}execute(A,t,e,n,i,r,s){const o=Object.keys(this.executorsByZIndex_).map(Number);let a,l,c,h,u,d;for(o.sort(V),this.maxExtent_&&(A.save(),this.clip(A,e)),r=r||Zl,s&&o.reverse(),a=0,l=o.length;a<l;++a){const l=o[a].toString();for(u=this.executorsByZIndex_[l],c=0,h=r.length;c<h;++c){d=u[r[c]],void 0!==d&&d.execute(A,t,e,n,i,s)}}this.maxExtent_&&A.restore()}};const $l=class extends El{constructor(A,t,e,n,i,r,s){super(),this.context_=A,this.pixelRatio_=t,this.extent_=e,this.transform_=n,this.transformRotation_=n?Wt(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=i,this.squaredTolerance_=r,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(A,t,e,n){if(!this.image_)return;const i=Mn(A,t,e,n,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.tmpLocalTransform_,o=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=o*this.imageOpacity_);let a=this.imageRotation_;0===this.transformRotation_&&(a-=this.viewRotation_),this.imageRotateWithView_&&(a+=this.viewRotation_);for(let A=0,t=i.length;A<t;A+=2){const t=i[A]-this.imageAnchorX_,e=i[A+1]-this.imageAnchorY_;if(0!==a||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const A=t+this.imageAnchorX_,n=e+this.imageAnchorY_;RA(s,A,n,1,1,a,-A,-n),r.save(),r.transform.apply(r,s),r.translate(A,n),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.restore()}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=o)}drawText_(A,t,e,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const i=Mn(A,t,e,n,this.transform_,this.pixelCoordinates_),r=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<e;t+=n){const A=i[t]+this.textOffsetX_,e=i[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.save(),r.translate(A-this.textOffsetX_,e-this.textOffsetY_),r.rotate(s),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.restore()):(this.textStrokeState_&&r.strokeText(this.text_,A,e),this.textFillState_&&r.fillText(this.text_,A,e))}}moveToLineTo_(A,t,e,n,i){const r=this.context_,s=Mn(A,t,e,n,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);let o=s.length;i&&(o-=2);for(let A=2;A<o;A+=2)r.lineTo(s[A],s[A+1]);return i&&r.closePath(),e}drawRings_(A,t,e,n){for(let i=0,r=e.length;i<r;++i)t=this.moveToLineTo_(A,t,e[i],n,!0);return t}drawCircle(A){if(this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vt(this.extent_,A.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(A,t,e){const n=A.getFlatCoordinates();if(!n)return null;const i=A.getStride();return Mn(n,0,n.length,i,t,e)}(A,this.transform_,this.pixelCoordinates_),e=t[2]-t[0],n=t[3]-t[1],i=Math.sqrt(e*e+n*n),r=this.context_;r.beginPath(),r.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(A.getCenter(),0,2,2)}}setStyle(A){this.setFillStrokeStyle(A.getFill(),A.getStroke()),this.setImageStyle(A.getImage()),this.setTextStyle(A.getText())}setTransform(A){this.transform_=A}drawGeometry(A){switch(A.getType()){case"Point":this.drawPoint(A);break;case"LineString":this.drawLineString(A);break;case"Polygon":this.drawPolygon(A);break;case"MultiPoint":this.drawMultiPoint(A);break;case"MultiLineString":this.drawMultiLineString(A);break;case"MultiPolygon":this.drawMultiPolygon(A);break;case"GeometryCollection":this.drawGeometryCollection(A);break;case"Circle":this.drawCircle(A)}}drawFeature(A,t){const e=t.getGeometryFunction()(A);e&&(this.setStyle(t),this.drawGeometry(e))}drawGeometryCollection(A){const t=A.getGeometriesArray();for(let A=0,e=t.length;A<e;++A)this.drawGeometry(t[A])}drawPoint(A){this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=A.getFlatCoordinates(),e=A.getStride();this.image_&&this.drawImages_(t,0,t.length,e),""!==this.text_&&this.drawText_(t,0,t.length,e)}drawMultiPoint(A){this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=A.getFlatCoordinates(),e=A.getStride();this.image_&&this.drawImages_(t,0,t.length,e),""!==this.text_&&this.drawText_(t,0,t.length,e)}drawLineString(A){if(this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vt(this.extent_,A.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,e=A.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(e,0,e.length,A.getStride(),!1),t.stroke()}if(""!==this.text_){const t=A.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(A){this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=A.getExtent();if(vt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,e=A.getFlatCoordinates();let n=0;const i=A.getEnds(),r=A.getStride();t.beginPath();for(let A=0,t=i.length;A<t;++A)n=this.moveToLineTo_(e,n,i[A],r,!1);t.stroke()}if(""!==this.text_){const t=A.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(A){if(this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vt(this.extent_,A.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(A.getOrientedFlatCoordinates(),0,A.getEnds(),A.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=A.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(A){if(this.squaredTolerance_&&(A=A.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vt(this.extent_,A.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,e=A.getOrientedFlatCoordinates();let n=0;const i=A.getEndss(),r=A.getStride();t.beginPath();for(let A=0,t=i.length;A<t;++A){const t=i[A];n=this.drawRings_(e,n,t,r)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=A.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(A){const t=this.context_,e=this.contextFillState_;e?e.fillStyle!=A.fillStyle&&(e.fillStyle=A.fillStyle,t.fillStyle=A.fillStyle):(t.fillStyle=A.fillStyle,this.contextFillState_={fillStyle:A.fillStyle})}setContextStrokeState_(A){const t=this.context_,e=this.contextStrokeState_;e?(e.lineCap!=A.lineCap&&(e.lineCap=A.lineCap,t.lineCap=A.lineCap),j(e.lineDash,A.lineDash)||t.setLineDash(e.lineDash=A.lineDash),e.lineDashOffset!=A.lineDashOffset&&(e.lineDashOffset=A.lineDashOffset,t.lineDashOffset=A.lineDashOffset),e.lineJoin!=A.lineJoin&&(e.lineJoin=A.lineJoin,t.lineJoin=A.lineJoin),e.lineWidth!=A.lineWidth&&(e.lineWidth=A.lineWidth,t.lineWidth=A.lineWidth),e.miterLimit!=A.miterLimit&&(e.miterLimit=A.miterLimit,t.miterLimit=A.miterLimit),e.strokeStyle!=A.strokeStyle&&(e.strokeStyle=A.strokeStyle,t.strokeStyle=A.strokeStyle)):(t.lineCap=A.lineCap,t.setLineDash(A.lineDash),t.lineDashOffset=A.lineDashOffset,t.lineJoin=A.lineJoin,t.lineWidth=A.lineWidth,t.miterLimit=A.miterLimit,t.strokeStyle=A.strokeStyle,this.contextStrokeState_={lineCap:A.lineCap,lineDash:A.lineDash,lineDashOffset:A.lineDashOffset,lineJoin:A.lineJoin,lineWidth:A.lineWidth,miterLimit:A.miterLimit,strokeStyle:A.strokeStyle})}setContextTextState_(A){const t=this.context_,e=this.contextTextState_,n=A.textAlign?A.textAlign:nr;e?(e.font!=A.font&&(e.font=A.font,t.font=A.font),e.textAlign!=n&&(e.textAlign=n,t.textAlign=n),e.textBaseline!=A.textBaseline&&(e.textBaseline=A.textBaseline,t.textBaseline=A.textBaseline)):(t.font=A.font,t.textAlign=n,t.textBaseline=A.textBaseline,this.contextTextState_={font:A.font,textAlign:n,textBaseline:A.textBaseline})}setFillStrokeStyle(A,t){if(A){const t=A.getColor();this.fillState_={fillStyle:go(t||qi)}}else this.fillState_=null;if(t){const A=t.getColor(),e=t.getLineCap(),n=t.getLineDash(),i=t.getLineDashOffset(),r=t.getLineJoin(),s=t.getWidth(),o=t.getMiterLimit(),a=n||Ar;this.strokeState_={lineCap:void 0!==e?e:$i,lineDash:1===this.pixelRatio_?a:a.map(A=>A*this.pixelRatio_),lineDashOffset:(i||0)*this.pixelRatio_,lineJoin:void 0!==r?r:tr,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==o?o:10,strokeStyle:go(A||er)}}else this.strokeState_=null}setImageStyle(A){let t;if(!A||!(t=A.getSize()))return void(this.image_=null);const e=A.getPixelRatio(this.pixelRatio_),n=A.getAnchor(),i=A.getOrigin();this.image_=A.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*e,this.imageAnchorY_=n[1]*e,this.imageHeight_=t[1]*e,this.imageOpacity_=A.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=A.getRotateWithView(),this.imageRotation_=A.getRotation();const r=A.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/e,r[1]*this.pixelRatio_/e],this.imageWidth_=t[0]*e}setTextStyle(A){if(A){const t=A.getFill();if(t){const A=t.getColor();this.textFillState_={fillStyle:go(A||qi)}}else this.textFillState_=null;const e=A.getStroke();if(e){const A=e.getColor(),t=e.getLineCap(),n=e.getLineDash(),i=e.getLineDashOffset(),r=e.getLineJoin(),s=e.getWidth(),o=e.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:$i,lineDash:n||Ar,lineDashOffset:i||0,lineJoin:void 0!==r?r:tr,lineWidth:void 0!==s?s:1,miterLimit:void 0!==o?o:10,strokeStyle:go(A||er)}}else this.textStrokeState_=null;const n=A.getFont(),i=A.getOffsetX(),r=A.getOffsetY(),s=A.getRotateWithView(),o=A.getRotation(),a=A.getScaleArray(),l=A.getText(),c=A.getTextAlign(),h=A.getTextBaseline();this.textState_={font:void 0!==n?n:zi,textAlign:void 0!==c?c:nr,textBaseline:void 0!==h?h:ir},this.text_=void 0!==l?Array.isArray(l)?l.reduce((A,t,e)=>A+(e%2?" ":t),""):l:"",this.textOffsetX_=void 0!==i?this.pixelRatio_*i:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==o?o:0,this.textScale_=[this.pixelRatio_*a[0],this.pixelRatio_*a[1]]}else this.text_=""}},Ac=.5;const tc={Point:function(A,t,e,n,i){const r=e.getImage(),s=e.getText();let o;if(r){if(r.getImageState()!=Gs)return;let a=A;if(i){const l=r.getDeclutterMode();if("none"!==l)if(a=i,"obstacle"===l){const i=A.getBuilder(e.getZIndex(),"Image");i.setImageStyle(r,o),i.drawPoint(t,n)}else s&&s.getText()&&(o={})}const l=a.getBuilder(e.getZIndex(),"Image");l.setImageStyle(r,o),l.drawPoint(t,n)}if(s&&s.getText()){let r=A;i&&(r=i);const a=r.getBuilder(e.getZIndex(),"Text");a.setTextStyle(s,o),a.drawText(t,n)}},LineString:function(A,t,e,n,i){const r=e.getStroke();if(r){const i=A.getBuilder(e.getZIndex(),"LineString");i.setFillStrokeStyle(null,r),i.drawLineString(t,n)}const s=e.getText();if(s&&s.getText()){const r=(i||A).getBuilder(e.getZIndex(),"Text");r.setTextStyle(s),r.drawText(t,n)}},Polygon:function(A,t,e,n,i){const r=e.getFill(),s=e.getStroke();if(r||s){const i=A.getBuilder(e.getZIndex(),"Polygon");i.setFillStrokeStyle(r,s),i.drawPolygon(t,n)}const o=e.getText();if(o&&o.getText()){const r=(i||A).getBuilder(e.getZIndex(),"Text");r.setTextStyle(o),r.drawText(t,n)}},MultiPoint:function(A,t,e,n,i){const r=e.getImage(),s=e.getText();let o;if(r){if(r.getImageState()!=Gs)return;let a=A;if(i){const l=r.getDeclutterMode();if("none"!==l)if(a=i,"obstacle"===l){const i=A.getBuilder(e.getZIndex(),"Image");i.setImageStyle(r,o),i.drawMultiPoint(t,n)}else s&&s.getText()&&(o={})}const l=a.getBuilder(e.getZIndex(),"Image");l.setImageStyle(r,o),l.drawMultiPoint(t,n)}if(s&&s.getText()){let r=A;i&&(r=i);const a=r.getBuilder(e.getZIndex(),"Text");a.setTextStyle(s,o),a.drawText(t,n)}},MultiLineString:function(A,t,e,n,i){const r=e.getStroke();if(r){const i=A.getBuilder(e.getZIndex(),"LineString");i.setFillStrokeStyle(null,r),i.drawMultiLineString(t,n)}const s=e.getText();if(s&&s.getText()){const r=(i||A).getBuilder(e.getZIndex(),"Text");r.setTextStyle(s),r.drawText(t,n)}},MultiPolygon:function(A,t,e,n,i){const r=e.getFill(),s=e.getStroke();if(s||r){const i=A.getBuilder(e.getZIndex(),"Polygon");i.setFillStrokeStyle(r,s),i.drawMultiPolygon(t,n)}const o=e.getText();if(o&&o.getText()){const r=(i||A).getBuilder(e.getZIndex(),"Text");r.setTextStyle(o),r.drawText(t,n)}},GeometryCollection:function(A,t,e,n,i){const r=t.getGeometriesArray();let s,o;for(s=0,o=r.length;s<o;++s){(0,tc[r[s].getType()])(A,r[s],e,n,i)}},Circle:function(A,t,e,n,i){const r=e.getFill(),s=e.getStroke();if(r||s){const i=A.getBuilder(e.getZIndex(),"Circle");i.setFillStrokeStyle(r,s),i.drawCircle(t,n)}const o=e.getText();if(o&&o.getText()){const r=(i||A).getBuilder(e.getZIndex(),"Text");r.setTextStyle(o),r.drawText(t,n)}}};function ec(A,t){return parseInt(mA(A),10)-parseInt(mA(t),10)}function nc(A,t){return.5*A/t}function ic(A,t,e,n,i,r,s){let o=!1;const a=e.getImage();if(a){const A=a.getImageState();A==Gs||A==Ns?a.unlistenImageChange(i):(A==Os&&a.load(),a.listenImageChange(i),o=!0)}return function(A,t,e,n,i,r){const s=e.getGeometryFunction()(t);if(!s)return;const o=s.simplifyTransformed(n,i),a=e.getRenderer();if(a)rc(A,o,e,t);else{(0,tc[o.getType()])(A,o,e,t,r)}}(A,t,e,n,r,s),o}function rc(A,t,e,n){if("GeometryCollection"==t.getType()){const i=t.getGeometries();for(let t=0,r=i.length;t<r;++t)rc(A,i[t],e,n);return}A.getBuilder(e.getZIndex(),"Default").drawCustom(t,n,e.getRenderer(),e.getHitDetectionRenderer())}const sc=class extends Ys{constructor(A){super(A),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(A,t,e){const n=t.extent,i=t.viewState,r=i.center,s=i.resolution,o=i.projection,a=i.rotation,l=o.getExtent(),c=this.getLayer().getSource(),h=t.pixelRatio,u=t.viewHints,d=!(u[Fe]||u[_e]),g=this.compositionContext_,f=Math.round(t.size[0]*h),B=Math.round(t.size[1]*h),p=c.getWrapX()&&o.canWrapX(),w=p?_t(l):null,m=p?Math.ceil((n[2]-l[2])/w)+1:1;let C=p?Math.floor((n[0]-l[0])/w):0;do{const t=this.getRenderTransform(r,s,a,h,f,B,C*w);A.execute(g,1,t,a,d,void 0,e)}while(++C<m)}setupCompositionContext_(){if(1!==this.opacity_){const A=Vi(this.context.canvas.width,this.context.canvas.height,Xs);this.compositionContext_=A}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const A=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=A,Xi(this.compositionContext_),Xs.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(A){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,A,A.declutterTree),this.releaseCompositionContext_())}renderFrame(A,t){const e=A.pixelRatio,n=A.layerStatesArray[A.layerIndex];!function(A,t,e){DA(A,t,0,0,e,0,0)}(this.pixelTransform,1/e,1/e),kA(this.inversePixelTransform,this.pixelTransform);const i=PA(this.pixelTransform);this.useContainer(t,i,this.getBackground(A));const r=this.context,s=r.canvas,o=this.replayGroup_,a=this.declutterExecutorGroup;let l=o&&!o.isEmpty()||a&&!a.isEmpty();if(!l){if(!(this.getLayer().hasListener(we)||this.getLayer().hasListener(me)))return null}const c=Math.round(A.size[0]*e),h=Math.round(A.size[1]*e);s.width!=c||s.height!=h?(s.width=c,s.height=h,s.style.transform!==i&&(s.style.transform=i)):this.containerReused||r.clearRect(0,0,c,h),this.preRender(r,A);const u=A.viewState,d=u.projection;this.opacity_=n.opacity,this.setupCompositionContext_();let g=!1;if(l&&n.extent&&this.clipping){const t=mn(n.extent,d);l=vt(t,A.extent),g=l&&!$A(t,A.extent),g&&this.clipUnrotated(this.compositionContext_,A,t)}return l&&this.renderWorlds(o,A),g&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(r,A),this.renderedRotation_!==u.rotation&&(this.renderedRotation_=u.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(A){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const A=[this.context.canvas.width,this.context.canvas.height];KA(this.pixelTransform,A);const t=this.renderedCenter_,e=this.renderedResolution_,n=this.renderedRotation_,i=this.renderedProjection_,r=this.wrappedRenderedExtent_,s=this.getLayer(),o=[],a=A[0]*Ac,l=A[1]*Ac;o.push(this.getRenderTransform(t,e,n,Ac,a,l,0).slice());const c=s.getSource(),h=i.getExtent();if(c.getWrapX()&&i.canWrapX()&&!$A(h,r)){let A=r[0];const i=_t(h);let s,c=0;for(;A<h[0];)--c,s=i*c,o.push(this.getRenderTransform(t,e,n,Ac,a,l,s).slice()),A+=i;for(c=0,A=r[2];A>h[2];)++c,s=i*c,o.push(this.getRenderTransform(t,e,n,Ac,a,l,s).slice()),A-=i}this.hitDetectionImageData_=function(A,t,e,n,i,r,s){const o=Vi(A[0]*Ac,A[1]*Ac);o.imageSmoothingEnabled=!1;const a=o.canvas,l=new $l(o,Ac,i,null,s),c=e.length,h=Math.floor(16777215/c),u={};for(let A=1;A<=c;++A){const t=e[A-1],s=t.getStyleFunction()||n;if(!s)continue;let o=s(t,r);if(!o)continue;Array.isArray(o)||(o=[o]);const a=(A*h).toString(16).padStart(7,"#00000");for(let A=0,e=o.length;A<e;++A){const e=o[A],n=e.getGeometryFunction()(t);if(!n||!vt(i,n.getExtent()))continue;const r=e.clone(),s=r.getFill();s&&s.setColor(a);const l=r.getStroke();l&&(l.setColor(a),l.setLineDash(null)),r.setText(void 0);const c=e.getImage();if(c){const A=c.getImageSize();if(!A)continue;const t=Vi(A[0],A[1],void 0,{alpha:!1}),e=t.canvas;t.fillStyle=a,t.fillRect(0,0,e.width,e.height),r.setImage(new Ho({img:e,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const h=r.getZIndex()||0;let d=u[h];d||(d={},u[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const g=n.getType();if("GeometryCollection"===g){const A=n.getGeometriesArrayRecursive();for(let t=0,e=A.length;t<e;++t){const e=A[t];d[e.getType().replace("Multi","")].push(e,r)}}else d[g.replace("Multi","")].push(n,r)}}const d=Object.keys(u).map(Number).sort(V);for(let A=0,e=d.length;A<e;++A){const e=u[d[A]];for(const A in e){const n=e[A];for(let A=0,e=n.length;A<e;A+=2){l.setStyle(n[A+1]);for(let e=0,i=t.length;e<i;++e)l.setTransform(t[e]),l.drawGeometry(n[A])}}}return o.getImageData(0,0,a.width,a.height)}(A,o,this.renderedFeatures_,s.getStyleFunction(),r,e,n)}t(function(A,t,e){const n=[];if(e){const i=Math.floor(Math.round(A[0])*Ac),r=Math.floor(Math.round(A[1])*Ac),s=4*(Ot(i,0,e.width-1)+Ot(r,0,e.height-1)*e.width),o=e.data[s],a=e.data[s+1],l=e.data[s+2]+256*(a+256*o),c=Math.floor(16777215/t.length);l&&l%c===0&&n.push(t[l/c-1])}return n}(A,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(A,t,e,n,i){if(!this.replayGroup_)return;const r=t.viewState.resolution,s=t.viewState.rotation,o=this.getLayer(),a={},l=function(A,t,e){const r=mA(A),s=a[r];if(s){if(!0!==s&&e<s.distanceSq){if(0===e)return a[r]=!0,i.splice(i.lastIndexOf(s),1),n(A,o,t);s.geometry=t,s.distanceSq=e}}else{if(0===e)return a[r]=!0,n(A,o,t);i.push(a[r]={feature:A,layer:o,geometry:t,distanceSq:e,callback:n})}};let c;const h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some(n=>c=n.forEachFeatureAtCoordinate(A,r,s,e,l,n===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(A=>A.value):null)),c}handleFontsChanged(){const A=this.getLayer();A.getVisible()&&this.replayGroup_&&A.changed()}handleStyleImageChange_(A){this.renderIfReadyAndVisible()}prepareFrame(A){const t=this.getLayer(),e=t.getSource();if(!e)return!1;const n=A.viewHints[Fe],i=A.viewHints[_e],r=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!r&&n||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const o=A.extent,a=A.viewState,l=a.projection,c=a.resolution,h=A.pixelRatio,u=t.getRevision(),d=t.getRenderBuffer();let g=t.getRenderOrder();void 0===g&&(g=ec);const f=a.center.slice(),B=JA(o,d*c),p=B.slice(),w=[B.slice()],m=l.getExtent();if(e.getWrapX()&&l.canWrapX()&&!$A(m,A.extent)){const A=_t(m),t=Math.max(_t(B)/2,A);B[0]=m[0]-t,B[2]=m[2]+t,Ye(f,l);const e=xt(w[0],l);e[0]<m[0]&&e[2]<m[2]?w.push([e[0]+A,e[1],e[2]+A,e[3]]):e[0]>m[0]&&e[2]>m[2]&&w.push([e[0]-A,e[1],e[2]-A,e[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==u&&this.renderedRenderOrder_==g&&$A(this.wrappedRenderedExtent_,B))return j(this.renderedExtent_,p)||(this.hitDetectionImageData_=null,this.renderedExtent_=p),this.renderedCenter_=f,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const C=new Kl(nc(c,h),B,c,h);let y;this.getLayer().getDeclutter()&&(y=new Kl(nc(c,h),B,c,h));const Q=fn();let F;if(Q){for(let A=0,t=w.length;A<t;++A){const t=wn(w[A],l);e.loadFeatures(t,Cn(c,l),Q)}F=cn(Q,l)}else for(let A=0,t=w.length;A<t;++A)e.loadFeatures(w[A],c,l);const _=function(A,t){const e=nc(A,t);return e*e}(c,h);let v=!0;const U=A=>{let e;const n=A.getStyleFunction()||t.getStyleFunction();if(n&&(e=n(A,c)),e){const t=this.renderFeature(A,_,e,C,F,y);v=v&&!t}},E=wn(B,l),x=e.getFeaturesInExtent(E);g&&x.sort(g);for(let A=0,t=x.length;A<t;++A)U(x[A]);this.renderedFeatures_=x,this.ready=v;const b=C.finish(),I=new ql(B,c,h,e.getOverlaps(),b,t.getRenderBuffer());return y&&(this.declutterExecutorGroup=new ql(B,c,h,e.getOverlaps(),y.finish(),t.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=u,this.renderedRenderOrder_=g,this.renderedExtent_=p,this.wrappedRenderedExtent_=B,this.renderedCenter_=f,this.renderedProjection_=l,this.replayGroup_=I,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(A,t,e,n,i,r){if(!e)return!1;let s=!1;if(Array.isArray(e))for(let o=0,a=e.length;o<a;++o)s=ic(n,A,e[o],t,this.boundHandleStyleImageChange_,i,r)||s;else s=ic(n,A,e,t,this.boundHandleStyleImageChange_,i,r);return s}};const oc=class extends Cl{constructor(A){super(A)}createRenderer(){return new sc(this)}};const ac=class{constructor(A){this.rbush_=new co(A),this.items_={}}insert(A,t){const e={minX:A[0],minY:A[1],maxX:A[2],maxY:A[3],value:t};this.rbush_.insert(e),this.items_[mA(t)]=e}load(A,t){const e=new Array(t.length);for(let n=0,i=t.length;n<i;n++){const i=A[n],r=t[n],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:r};e[n]=s,this.items_[mA(r)]=s}this.rbush_.load(e)}remove(A){const t=mA(A),e=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(e)}update(A,t){const e=this.items_[mA(t)];ot([e.minX,e.minY,e.maxX,e.maxY],A)||(this.remove(t),this.insert(A,t))}getAll(){return this.rbush_.all().map(function(A){return A.value})}getInExtent(A){const t={minX:A[0],minY:A[1],maxX:A[2],maxY:A[3]};return this.rbush_.search(t).map(function(A){return A.value})}forEach(A){return this.forEach_(this.getAll(),A)}forEachInExtent(A,t){return this.forEach_(this.getInExtent(A),t)}forEach_(A,t){let e;for(let n=0,i=A.length;n<i;n++)if(e=t(A[n]),e)return e;return e}isEmpty(){return AA(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(A){const t=this.rbush_.toJSON();return nt(t.minX,t.minY,t.maxX,t.maxY,A)}concat(A){this.rbush_.load(A.rbush_.all());for(const t in A.items_)this.items_[t]=A.items_[t]}};function lc(A,t,e,n,i,r,s){let o,a;const l=(e-t)/n;if(1===l)o=t;else if(2===l)o=t,a=i;else if(0!==l){let r=A[t],s=A[t+1],l=0;const c=[0];for(let i=t+n;i<e;i+=n){const t=A[i],e=A[i+1];l+=Math.sqrt((t-r)*(t-r)+(e-s)*(e-s)),c.push(l),r=t,s=e}const h=i*l,u=function(A,t,e){let n,i;e=e||V;let r=0,s=A.length,o=!1;for(;r<s;)n=r+(s-r>>1),i=+e(A[n],t),i<0?r=n+1:(s=n,o=!i);return o?r:~r}(c,h);u<0?(a=(h-c[-u-2])/(c[-u-1]-c[-u-2]),o=t+(-u-2)*n):o=t+u*n}s=s>1?s:2,r=r||new Array(s);for(let t=0;t<s;++t)r[t]=void 0===o?NaN:void 0===a?A[o+t]:Xt(A[o+t],A[o+n+t],a);return r}function cc(A,t,e,n,i,r){if(e==t)return null;let s;if(i<A[t+n-1])return r?(s=A.slice(t,t+n),s[n-1]=i,s):null;if(A[e-1]<i)return r?(s=A.slice(e-n,e),s[n-1]=i,s):null;if(i==A[t+n-1])return A.slice(t,t+n);let o=t/n,a=e/n;for(;o<a;){const t=o+a>>1;i<A[(t+1)*n-1]?a=t:o=t+1}const l=A[o*n-1];if(i==l)return A.slice((o-1)*n,(o-1)*n+n);const c=(i-l)/(A[(o+1)*n-1]-l);s=[];for(let t=0;t<n-1;++t)s.push(Xt(A[(o-1)*n+t],A[o*n+t],c));return s.push(i),s}function hc(A,t,e,n){const i=[];let r=[1/0,1/0,-1/0,-1/0];for(let s=0,o=e.length;s<o;++s){const o=e[s];r=st(A,t,o[0],n),i.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=o[o.length-1]}return i}const uc=[1,0,0,1,0,0];class dc{constructor(A,t,e,n,i,r){this.styleFunction,this.extent_,this.id_=r,this.type_=A,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=e,this.properties_=i,this.squaredTolerance_,this.stride_=n,this.simplifiedGeometry_}get(A){return this.properties_[A]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?rt(this.flatCoordinates_):st(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const A=Bt(this.getExtent());this.flatInteriorPoints_=di(this.flatCoordinates_,0,this.ends_,2,A,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const A=function(A,t){const e=[];let n,i=0,r=0;for(let s=0,o=t.length;s<o;++s){const o=t[s],a=Ci(A,i,o,2);if(void 0===n&&(n=a),a===n)e.push(t.slice(r,s+1));else{if(0===e.length)continue;e[e.length-1].push(t[r])}r=s+1,i=o}return e}(this.flatCoordinates_,this.ends_),t=hc(this.flatCoordinates_,0,A,2);this.flatInteriorPoints_=gi(this.flatCoordinates_,0,A,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=lc(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const A=this.flatCoordinates_;let t=0;const e=this.ends_;for(let n=0,i=e.length;n<i;++n){const i=e[n],r=lc(A,t,i,2,.5);Y(this.flatMidpoints_,r),t=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(A){return this}simplifyTransformed(A,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(A){const t=(A=rn(A)).getExtent(),e=A.getWorldExtent();if(t&&e){const A=Ct(e)/Ct(t);RA(uc,e[0],e[3],A,-A,0,0,0),Mn(this.flatCoordinates_,0,this.flatCoordinates_.length,2,uc,this.flatCoordinates_)}}applyTransform(A){A(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new dc(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=q((A,t)=>{if(A===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const e=this.simplifiedGeometry_.getFlatCoordinates();let n;switch(this.type_){case"LineString":e.length=Zn(e,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,A,e,0),n=[e.length];break;case"MultiLineString":n=[],e.length=zn(e,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,A,e,0,n);break;case"Polygon":n=[],e.length=Ai(e,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(A),e,0,n)}return n&&(this.simplifiedGeometry_=new dc(this.type_,e,n,2,this.properties_,this.id_)),this.squaredTolerance_=A,this.simplifiedGeometry_}),this}}dc.prototype.getFlatCoordinates=dc.prototype.getOrientedFlatCoordinates;const gc=dc;function fc(A){return A?Array.isArray(A)?function(t){return A}:"function"==typeof A?A:function(t){return[A]}:null}const Bc=class extends yA{constructor(A){super(),this.projection=rn(A.projection),this.attributions_=fc(A.attributions),this.attributionsCollapsible_=void 0===A.attributionsCollapsible||A.attributionsCollapsible,this.loading=!1,this.state_=void 0!==A.state?A.state:"ready",this.wrapX_=void 0!==A.wrapX&&A.wrapX,this.interpolate_=!!A.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(A,e){t.viewResolver=A,t.viewRejector=e})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(A){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(A){this.attributions_=fc(A),this.changed()}setState(A){this.state_=A,this.changed()}},pc="addfeature",wc="changefeature",mc="clear",Cc="removefeature",yc="featuresloadstart",Qc="featuresloadend",Fc="featuresloaderror";function _c(A,t){return[[-1/0,-1/0,1/0,1/0]]}let vc=!1;function Uc(A,t){return function(e,n,i,r,s){const o=this;!function(A,t,e,n,i,r,s){const o=new XMLHttpRequest;o.open("GET","function"==typeof A?A(e,n,i):A,!0),"arraybuffer"==t.getType()&&(o.responseType="arraybuffer"),o.withCredentials=vc,o.onload=function(A){if(!o.status||o.status>=200&&o.status<300){const A=t.getType();let n;"json"==A?n=JSON.parse(o.responseText):"text"==A?n=o.responseText:"xml"==A?(n=o.responseXML,n||(n=(new DOMParser).parseFromString(o.responseText,"application/xml"))):"arraybuffer"==A&&(n=o.response),n?r(t.readFeatures(n,{extent:e,featureProjection:i}),t.readProjection(n)):s()}else s()},o.onerror=s,o.send()}(A,t,e,n,i,function(A,t){o.addFeatures(A),void 0!==r&&r(A)},s||z)}}class Ec extends P{constructor(A,t,e){super(A),this.feature=t,this.features=e}}const xc=class extends Bc{constructor(A){super({attributions:(A=A||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===A.wrapX||A.wrapX}),this.on,this.once,this.un,this.loader_=z,this.format_=A.format,this.overlaps_=void 0===A.overlaps||A.overlaps,this.url_=A.url,void 0!==A.loader?this.loader_=A.loader:void 0!==this.url_&&(MA(this.format_,"`format` must be set when `url` is set"),this.loader_=Uc(this.url_,this.format_)),this.strategy_=void 0!==A.strategy?A.strategy:_c;const t=void 0===A.useSpatialIndex||A.useSpatialIndex;let e,n;this.featuresRtree_=t?new ac:null,this.loadedExtentsRtree_=new ac,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(A.features)?n=A.features:A.features&&(e=A.features,n=e.getArray()),t||void 0!==e||(e=new UA(n)),void 0!==n&&this.addFeaturesInternal(n),void 0!==e&&this.bindFeaturesCollection_(e)}addFeature(A){this.addFeatureInternal(A),this.changed()}addFeatureInternal(A){const t=mA(A);if(!this.addToIndex_(t,A))return void(this.featuresCollection_&&this.featuresCollection_.remove(A));this.setupChangeEvents_(t,A);const e=A.getGeometry();if(e){const t=e.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,A)}else this.nullGeometryFeatures_[t]=A;this.dispatchEvent(new Ec(pc,A))}setupChangeEvents_(A,t){t instanceof gc||(this.featureChangeKeys_[A]=[uA(t,eA,this.handleFeatureChange_,this),uA(t,G,this.handleFeatureChange_,this)])}addToIndex_(A,t){let e=!0;if(void 0!==t.getId()){const A=String(t.getId());if(A in this.idIndex_)if(t instanceof gc){const n=this.idIndex_[A];n instanceof gc?Array.isArray(n)?n.push(t):this.idIndex_[A]=[n,t]:e=!1}else e=!1;else this.idIndex_[A]=t}return e&&(MA(!(A in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[A]=t),e}addFeatures(A){this.addFeaturesInternal(A),this.changed()}addFeaturesInternal(A){const t=[],e=[],n=[];for(let t=0,n=A.length;t<n;t++){const n=A[t],i=mA(n);this.addToIndex_(i,n)&&e.push(n)}for(let A=0,i=e.length;A<i;A++){const i=e[A],r=mA(i);this.setupChangeEvents_(r,i);const s=i.getGeometry();if(s){const A=s.getExtent();t.push(A),n.push(i)}else this.nullGeometryFeatures_[r]=i}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(pc))for(let A=0,t=e.length;A<t;A++)this.dispatchEvent(new Ec(pc,e[A]))}bindFeaturesCollection_(A){let t=!1;this.addEventListener(pc,function(e){t||(t=!0,A.push(e.feature),t=!1)}),this.addEventListener(Cc,function(e){t||(t=!0,A.remove(e.feature),t=!1)}),A.addEventListener(QA,A=>{t||(t=!0,this.addFeature(A.element),t=!1)}),A.addEventListener(FA,A=>{t||(t=!0,this.removeFeature(A.element),t=!1)}),this.featuresCollection_=A}clear(A){if(A){for(const A in this.featureChangeKeys_){this.featureChangeKeys_[A].forEach(gA)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const A=A=>{this.removeFeatureInternal(A)};this.featuresRtree_.forEach(A);for(const A in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[A])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Ec(mc);this.dispatchEvent(t),this.changed()}forEachFeature(A){if(this.featuresRtree_)return this.featuresRtree_.forEach(A);this.featuresCollection_&&this.featuresCollection_.forEach(A)}forEachFeatureAtCoordinateDirect(A,t){const e=[A[0],A[1],A[0],A[1]];return this.forEachFeatureInExtent(e,function(e){const n=e.getGeometry();if(n instanceof gc||n.intersectsCoordinate(A))return t(e)})}forEachFeatureInExtent(A,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(A,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(A,t){return this.forEachFeatureInExtent(A,function(e){const n=e.getGeometry();if(n instanceof gc||n.intersectsExtent(A)){const A=t(e);if(A)return A}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let A;return this.featuresCollection_?A=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(A=this.featuresRtree_.getAll(),AA(this.nullGeometryFeatures_)||Y(A,Object.values(this.nullGeometryFeatures_))),A}getFeaturesAtCoordinate(A){const t=[];return this.forEachFeatureAtCoordinateDirect(A,function(A){t.push(A)}),t}getFeaturesInExtent(A,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(A);const e=function(A,t){if(t.canWrapX()){const e=t.getExtent();if(!isFinite(A[0])||!isFinite(A[2]))return[[e[0],A[1],e[2],A[3]]];xt(A,t);const n=_t(e);if(_t(A)>n)return[[e[0],A[1],e[2],A[3]]];if(A[0]<e[0])return[[A[0]+n,A[1],e[2],A[3]],[e[0],A[1],A[2],A[3]]];if(A[2]>e[2])return[[A[0],A[1],e[2],A[3]],[e[0],A[1],A[2]-n,A[3]]]}return[A]}(A,t);return[].concat(...e.map(A=>this.featuresRtree_.getInExtent(A)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(A,t){const e=A[0],n=A[1];let i=null;const r=[NaN,NaN];let s=1/0;const o=[-1/0,-1/0,1/0,1/0];return t=t||J,this.featuresRtree_.forEachInExtent(o,function(A){if(t(A)){const t=A.getGeometry(),a=s;if(s=t instanceof gc?0:t.closestPointXY(e,n,r,s),s<a){i=A;const t=Math.sqrt(s);o[0]=e-t,o[1]=n-t,o[2]=e+t,o[3]=n+t}}}),i}getExtent(A){return this.featuresRtree_.getExtent(A)}getFeatureById(A){const t=this.idIndex_[A.toString()];return void 0!==t?t:null}getFeatureByUid(A){const t=this.uidIndex_[A];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(A){const t=A.target,e=mA(t),n=t.getGeometry();if(n){const A=n.getExtent();e in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[e],this.featuresRtree_&&this.featuresRtree_.insert(A,t)):this.featuresRtree_&&this.featuresRtree_.update(A,t)}else e in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[e]=t);const i=t.getId();if(void 0!==i){const A=i.toString();this.idIndex_[A]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[A]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[e]=t;this.changed(),this.dispatchEvent(new Ec(wc,t))}hasFeature(A){const t=A.getId();return void 0!==t?t in this.idIndex_:mA(A)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&AA(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(A,t,e){const n=this.loadedExtentsRtree_,i=this.strategy_(A,t,e);for(let A=0,r=i.length;A<r;++A){const r=i[A];n.forEachInExtent(r,function(A){return $A(A.extent,r)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ec(yc)),this.loader_.call(this,r,t,e,A=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ec(Qc,void 0,A))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ec(Fc))}),n.insert(r,{extent:r.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(A){const t=this.loadedExtentsRtree_;let e;t.forEachInExtent(A,function(t){if(ot(t.extent,A))return e=t,!0}),e&&t.remove(e)}removeFeature(A){if(!A)return;const t=mA(A);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(A);this.removeFeatureInternal(A)&&this.changed()}removeFeatureInternal(A){const t=mA(A),e=this.featureChangeKeys_[t];if(!e)return;e.forEach(gA),delete this.featureChangeKeys_[t];const n=A.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new Ec(Cc,A)),A}removeFromIdIndex_(A){let t=!1;for(const e in this.idIndex_){const n=this.idIndex_[e];if(A instanceof gc&&Array.isArray(n)&&n.includes(A))n.splice(n.indexOf(A),1);else if(this.idIndex_[e]===A){delete this.idIndex_[e],t=!0;break}}return t}setLoader(A){this.loader_=A}setUrl(A){MA(this.format_,"`format` must be set when `url` is set"),this.url_=A,this.setLoader(Uc(A,this.format_))}};const bc=class{constructor(A){this.highWaterMark=void 0!==A?A:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(A){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(A){return this.entries_.hasOwnProperty(A)}forEach(A){let t=this.oldest_;for(;t;)A(t.value_,t.key_,this),t=t.newer}get(A,t){const e=this.entries_[A];return MA(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_}remove(A){const t=this.entries_[A];return MA(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[A],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const A=new Array(this.count_);let t,e=0;for(t=this.newest_;t;t=t.older)A[e++]=t.key_;return A}getValues(){const A=new Array(this.count_);let t,e=0;for(t=this.newest_;t;t=t.older)A[e++]=t.value_;return A}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(A){return this.entries_[A]?.value_}pop(){const A=this.oldest_;return delete this.entries_[A.key_],A.newer&&(A.newer.older=null),this.oldest_=A.newer,this.oldest_||(this.newest_=null),--this.count_,A.value_}replace(A,t){this.get(A),this.entries_[A].value_=t}set(A,t){MA(!(A in this.entries_),"Tried to set a value for a key that is used already");const e={key_:A,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[A]=e,++this.count_}setSize(A){this.highWaterMark=A}};function Ic(A,t,e,n){return void 0!==n?(n[0]=A,n[1]=t,n[2]=e,n):[A,t,e]}function Sc(A,t,e){return A+"/"+t+"/"+e}function Hc(A){return Sc(A[0],A[1],A[2])}const Lc=class extends bc{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(A){for(;this.canExpireCache();){if(this.peekLast().getKey()in A)break;this.pop().release()}}pruneExceptNewestZ(){if(0===this.getCount())return;const A=function(A){return A.split("/").map(Number)}(this.peekFirstKey()),t=A[0];this.forEach(A=>{A.tileCoord[0]!==t&&(this.remove(Hc(A.tileCoord)),A.release())})}},Tc="tileloadstart",Mc="tileloadend",Dc="tileloaderror",Kc=[0,0,0];const Rc=class{constructor(A){let t;if(this.minZoom=void 0!==A.minZoom?A.minZoom:0,this.resolutions_=A.resolutions,MA(function(A,t,e){const n=t||V;return A.every(function(t,i){if(0===i)return!0;const r=n(A[i-1],t);return!(r>0||e&&0===r)})}(this.resolutions_,(A,t)=>t-A,!0),"`resolutions` must be sorted in descending order"),!A.origins)for(let A=0,e=this.resolutions_.length-1;A<e;++A)if(t){if(this.resolutions_[A]/this.resolutions_[A+1]!==t){t=void 0;break}}else t=this.resolutions_[A]/this.resolutions_[A+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==A.origin?A.origin:null,this.origins_=null,void 0!==A.origins&&(this.origins_=A.origins,MA(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const e=A.extent;void 0===e||this.origin_||this.origins_||(this.origin_=Qt(e)),MA(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==A.tileSizes&&(this.tileSizes_=A.tileSizes,MA(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==A.tileSize?A.tileSize:this.tileSizes_?null:Ue,MA(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==e?e:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==A.sizes?this.fullTileRanges_=A.sizes.map((A,t)=>{const n=new oo(Math.min(0,A[0]),Math.max(A[0]-1,-1),Math.min(0,A[1]),Math.max(A[1]-1,-1));if(e){const A=this.getTileRangeForExtentAndZ(e,t);n.minX=Math.max(A.minX,n.minX),n.maxX=Math.min(A.maxX,n.maxX),n.minY=Math.max(A.minY,n.minY),n.maxY=Math.min(A.maxY,n.maxY)}return n}):e&&this.calculateTileRanges_(e)}forEachTileCoord(A,t,e){const n=this.getTileRangeForExtentAndZ(A,t);for(let A=n.minX,i=n.maxX;A<=i;++A)for(let i=n.minY,r=n.maxY;i<=r;++i)e([t,A,i])}forEachTileCoordParentTileRange(A,t,e,n){let i,r,s,o=null,a=A[0]-1;for(2===this.zoomFactor_?(r=A[1],s=A[2]):o=this.getTileCoordExtent(A,n);a>=this.minZoom;){if(void 0!==r&&void 0!==s?(r=Math.floor(r/2),s=Math.floor(s/2),i=so(r,r,s,s,e)):i=this.getTileRangeForExtentAndZ(o,a,e),t(a,i))return!0;--a}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(A){return this.origin_?this.origin_:this.origins_[A]}getResolution(A){return this.resolutions_[A]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(A,t,e){if(A[0]<this.maxZoom){if(2===this.zoomFactor_){const e=2*A[1],n=2*A[2];return so(e,e+1,n,n+1,t)}const n=this.getTileCoordExtent(A,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,A[0]+1,t)}return null}getTileRangeForTileCoordAndZ(A,t,e){if(t>this.maxZoom||t<this.minZoom)return null;const n=A[0],i=A[1],r=A[2];if(t===n)return so(i,r,i,r,e);if(this.zoomFactor_){const A=Math.pow(this.zoomFactor_,t-n),s=Math.floor(i*A),o=Math.floor(r*A);if(t<n)return so(s,s,o,o,e);return so(s,Math.floor(A*(i+1))-1,o,Math.floor(A*(r+1))-1,e)}const s=this.getTileCoordExtent(A,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,e)}getTileRangeForExtentAndZ(A,t,e){this.getTileCoordForXYAndZ_(A[0],A[3],t,!1,Kc);const n=Kc[1],i=Kc[2];this.getTileCoordForXYAndZ_(A[2],A[1],t,!0,Kc);return so(n,Kc[1],i,Kc[2],e)}getTileCoordCenter(A){const t=this.getOrigin(A[0]),e=this.getResolution(A[0]),n=Ls(this.getTileSize(A[0]),this.tmpSize_);return[t[0]+(A[1]+.5)*n[0]*e,t[1]-(A[2]+.5)*n[1]*e]}getTileCoordExtent(A,t){const e=this.getOrigin(A[0]),n=this.getResolution(A[0]),i=Ls(this.getTileSize(A[0]),this.tmpSize_),r=e[0]+A[1]*i[0]*n,s=e[1]-(A[2]+1)*i[1]*n;return nt(r,s,r+i[0]*n,s+i[1]*n,t)}getTileCoordForCoordAndResolution(A,t,e){return this.getTileCoordForXYAndResolution_(A[0],A[1],t,!1,e)}getTileCoordForXYAndResolution_(A,t,e,n,i){const r=this.getZForResolution(e),s=e/this.getResolution(r),o=this.getOrigin(r),a=Ls(this.getTileSize(r),this.tmpSize_);let l=s*(A-o[0])/e/a[0],c=s*(o[1]-t)/e/a[1];return n?(l=jt(l,5)-1,c=jt(c,5)-1):(l=Yt(l,5),c=Yt(c,5)),Ic(r,l,c,i)}getTileCoordForXYAndZ_(A,t,e,n,i){const r=this.getOrigin(e),s=this.getResolution(e),o=Ls(this.getTileSize(e),this.tmpSize_);let a=(A-r[0])/s/o[0],l=(r[1]-t)/s/o[1];return n?(a=jt(a,5)-1,l=jt(l,5)-1):(a=Yt(a,5),l=Yt(l,5)),Ic(e,a,l,i)}getTileCoordForCoordAndZ(A,t,e){return this.getTileCoordForXYAndZ_(A[0],A[1],t,!1,e)}getTileCoordResolution(A){return this.resolutions_[A[0]]}getTileSize(A){return this.tileSize_?this.tileSize_:this.tileSizes_[A]}getFullTileRange(A){return this.fullTileRanges_?this.fullTileRanges_[A]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,A):null}getZForResolution(A,t){return Ot(X(this.resolutions_,A,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(A,t){return pi(t,0,t.length,2,this.getTileCoordExtent(A))}calculateTileRanges_(A){const t=this.resolutions_.length,e=new Array(t);for(let n=this.minZoom;n<t;++n)e[n]=this.getTileRangeForExtentAndZ(A,n);this.fullTileRanges_=e}};function kc(A){let t=A.getDefaultTileGrid();return t||(t=function(A,t,e,n){const i=Pc(A);return function(A,t,e,n){n=void 0!==n?n:"top-left";const i=Oc(A,t,e);return new Rc({extent:A,origin:pt(A,n),resolutions:i,tileSize:e})}(i,t,e,n)}(A),A.setDefaultTileGrid(t)),t}function Oc(A,t,e,n){t=void 0!==t?t:42,e=Ls(void 0!==e?e:Ue);const i=Ct(A),r=_t(A);n=n>0?n:Math.max(r/e[0],i/e[1]);const s=t+1,o=new Array(s);for(let A=0;A<s;++A)o[A]=n/Math.pow(2,A);return o}function Pc(A){let t=(A=rn(A)).getExtent();if(!t){const e=180*Ee.degrees/A.getMetersPerUnit();t=nt(-e,-e,e,e)}return t}class Gc extends P{constructor(A,t){super(A),this.tile=t}}const Nc=class extends Bc{constructor(A){super({attributions:A.attributions,attributionsCollapsible:A.attributionsCollapsible,projection:A.projection,state:A.state,wrapX:A.wrapX,interpolate:A.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==A.opaque&&A.opaque,this.tilePixelRatio_=void 0!==A.tilePixelRatio?A.tilePixelRatio:1,this.tileGrid=void 0!==A.tileGrid?A.tileGrid:null;const t=[256,256];this.tileGrid&&Ls(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Lc(A.cacheSize||0),this.tmpSize=[0,0],this.key_=A.key||"",this.tileOptions={transition:A.transition,interpolate:A.interpolate},this.zDirection=A.zDirection?A.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(A,t){const e=this.getTileCacheForProjection(A);e&&e.expireCache(t)}forEachLoadedTile(A,t,e,n){const i=this.getTileCacheForProjection(A);if(!i)return!1;let r,s,o,a=!0;for(let A=e.minX;A<=e.maxX;++A)for(let l=e.minY;l<=e.maxY;++l)s=Sc(t,A,l),o=!1,i.containsKey(s)&&(r=i.get(s),o=r.getState()===Or,o&&(o=!1!==n(r))),o||(a=!1);return a}getGutterForProjection(A){return 0}getKey(){return this.key_}setKey(A){this.key_!==A&&(this.key_=A,this.changed())}getOpaque(A){return this.opaque_}getResolutions(A){const t=A?this.getTileGridForProjection(A):this.tileGrid;return t?t.getResolutions():null}getTile(A,t,e,n,i){return pA()}getTileGrid(){return this.tileGrid}getTileGridForProjection(A){return this.tileGrid?this.tileGrid:kc(A)}getTileCacheForProjection(A){const t=this.getProjection();return MA(null===t||ln(t,A),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(A){return this.tilePixelRatio_}getTilePixelSize(A,t,e){const n=this.getTileGridForProjection(e),i=this.getTilePixelRatio(t),r=Ls(n.getTileSize(A),this.tmpSize);return 1==i?r:(s=r,o=i,void 0===(a=this.tmpSize)&&(a=[0,0]),a[0]=s[0]*o+.5|0,a[1]=s[1]*o+.5|0,a);var s,o,a}getTileCoordForTileUrlFunction(A,t){t=void 0!==t?t:this.getProjection();const e=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(A=function(A,t,e){const n=t[0],i=A.getTileCoordCenter(t),r=Pc(e);if(!qA(r,i)){const t=_t(r),e=Math.ceil((r[0]-i[0])/t);return i[0]+=t*e,A.getTileCoordForCoordAndZ(i,n)}return t}(e,A,t)),function(A,t){const e=A[0],n=A[1],i=A[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;const r=t.getFullTileRange(e);return!r||r.containsXY(n,i)}(A,e)?A:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(A,t){const e=this.getTileCacheForProjection(t);A>e.highWaterMark&&(e.highWaterMark=A)}useTile(A,t,e,n){}};function Vc(A,t){const e=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(s,o,a){if(s)return A.replace(e,s[0].toString()).replace(n,s[1].toString()).replace(i,s[2].toString()).replace(r,function(){const A=s[0],e=t.getFullTileRange(A);if(!e)throw new Error("The {-y} placeholder requires a tile grid with extent");return(e.getHeight()-s[2]-1).toString()})}}function Xc(A,t){const e=A.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=Vc(A[i],t);return function(A){if(1===A.length)return A[0];return function(t,e,n){if(!t)return;const i=function(A){return(A[1]<<A[0])+A[2]}(t),r=Vt(i,A.length);return A[r](t,e,n)}}(n)}class Wc extends Nc{constructor(A){super({attributions:A.attributions,cacheSize:A.cacheSize,opaque:A.opaque,projection:A.projection,state:A.state,tileGrid:A.tileGrid,tilePixelRatio:A.tilePixelRatio,wrapX:A.wrapX,transition:A.transition,interpolate:A.interpolate,key:A.key,attributionsCollapsible:A.attributionsCollapsible,zDirection:A.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Wc.prototype.tileUrlFunction,this.tileLoadFunction=A.tileLoadFunction,A.tileUrlFunction&&(this.tileUrlFunction=A.tileUrlFunction),this.urls=null,A.urls?this.setUrls(A.urls):A.url&&this.setUrl(A.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(A){const t=A.target,e=mA(t),n=t.getState();let i;n==kr?(this.tileLoadingKeys_[e]=!0,i=Tc):e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],i=n==Pr?Dc:n==Or?Mc:void 0),null!=i&&this.dispatchEvent(new Gc(i,t))}setTileLoadFunction(A){this.tileCache.clear(),this.tileLoadFunction=A,this.changed()}setTileUrlFunction(A,t){this.tileUrlFunction=A,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}setUrl(A){const t=function(A){const t=[];let e=/\{([a-z])-([a-z])\}/.exec(A);if(e){const n=e[1].charCodeAt(0),i=e[2].charCodeAt(0);let r;for(r=n;r<=i;++r)t.push(A.replace(e[0],String.fromCharCode(r)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(A),e){const n=parseInt(e[2],10);for(let i=parseInt(e[1],10);i<=n;i++)t.push(A.replace(e[0],i.toString()));return t}return t.push(A),t}(A);this.urls=t,this.setUrls(t)}setUrls(A){this.urls=A;const t=A.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Xc(A,this.tileGrid),t):this.setKey(t)}tileUrlFunction(A,t,e){}useTile(A,t,e){const n=Sc(A,t,e);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const Yc=Wc;function jc(A,t){A.getImage().src=t}const Jc=class extends Yc{constructor(A){super({attributions:A.attributions,cacheSize:A.cacheSize,opaque:A.opaque,projection:A.projection,state:A.state,tileGrid:A.tileGrid,tileLoadFunction:A.tileLoadFunction?A.tileLoadFunction:jc,tilePixelRatio:A.tilePixelRatio,tileUrlFunction:A.tileUrlFunction,url:A.url,urls:A.urls,wrapX:A.wrapX,transition:A.transition,interpolate:void 0===A.interpolate||A.interpolate,key:A.key,attributionsCollapsible:A.attributionsCollapsible,zDirection:A.zDirection}),this.crossOrigin=void 0!==A.crossOrigin?A.crossOrigin:null,this.tileClass=void 0!==A.tileClass?A.tileClass:Zs,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=A.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const A in this.tileCacheForProjection)if(this.tileCacheForProjection[A].canExpireCache())return!0;return!1}expireCache(A,t){const e=this.getTileCacheForProjection(A);this.tileCache.expireCache(this.tileCache==e?t:{});for(const A in this.tileCacheForProjection){const n=this.tileCacheForProjection[A];n.expireCache(n==e?t:{})}}getGutterForProjection(A){return this.getProjection()&&A&&!ln(this.getProjection(),A)?0:this.getGutter()}getGutter(){return 0}getKey(){let A=super.getKey();return this.getInterpolate()||(A+=":disable-interpolation"),A}getOpaque(A){return!(this.getProjection()&&A&&!ln(this.getProjection(),A))&&super.getOpaque(A)}getTileGridForProjection(A){const t=this.getProjection();if(this.tileGrid&&(!t||ln(t,A)))return this.tileGrid;const e=mA(A);return e in this.tileGridForProjection||(this.tileGridForProjection[e]=kc(A)),this.tileGridForProjection[e]}getTileCacheForProjection(A){const t=this.getProjection();if(!t||ln(t,A))return this.tileCache;const e=mA(A);return e in this.tileCacheForProjection||(this.tileCacheForProjection[e]=new Lc(this.tileCache.highWaterMark)),this.tileCacheForProjection[e]}createTile_(A,t,e,n,i,r){const s=[A,t,e],o=this.getTileCoordForTileUrlFunction(s,i),a=o?this.tileUrlFunction(o,n,i):void 0,l=new this.tileClass(s,void 0!==a?Rr:Gr,void 0!==a?a:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=r,l.addEventListener(eA,this.handleTileChange.bind(this)),l}getTile(A,t,e,n,i){const r=this.getProjection();if(!r||!i||ln(r,i))return this.getTileInternal(A,t,e,n,r||i);const s=this.getTileCacheForProjection(i),o=[A,t,e];let a;const l=Hc(o);s.containsKey(l)&&(a=s.get(l));const c=this.getKey();if(a&&a.key==c)return a;const h=this.getTileGridForProjection(r),u=this.getTileGridForProjection(i),d=this.getTileCoordForTileUrlFunction(o,i),g=new io(r,h,i,u,o,d,this.getTilePixelRatio(n),this.getGutter(),(A,t,e,n)=>this.getTileInternal(A,t,e,n,r),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=c,a?(g.interimTile=a,g.refreshInterimChain(),s.replace(l,g)):s.set(l,g),g}getTileInternal(A,t,e,n,i){let r=null;const s=Sc(A,t,e),o=this.getKey();if(this.tileCache.containsKey(s)){if(r=this.tileCache.get(s),r.key!=o){const a=r;r=this.createTile_(A,t,e,n,i,o),a.getState()==Rr?r.interimTile=a.interimTile:r.interimTile=a,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(A,t,e,n,i,o),this.tileCache.set(s,r);return r}setRenderReprojectionEdges(A){if(this.renderReprojectionEdges_!=A){this.renderReprojectionEdges_=A;for(const A in this.tileCacheForProjection)this.tileCacheForProjection[A].clear();this.changed()}}setTileGridForProjection(A,t){const e=rn(A);if(e){const A=mA(e);A in this.tileGridForProjection||(this.tileGridForProjection[A]=t)}}clear(){super.clear();for(const A in this.tileCacheForProjection)this.tileCacheForProjection[A].clear()}};const Zc=class extends Jc{constructor(A){const t=void 0!==(A=A||{}).projection?A.projection:"EPSG:3857",e=void 0!==A.tileGrid?A.tileGrid:function(A){const t=A||{},e=t.extent||rn("EPSG:3857").getExtent(),n={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Oc(e,t.maxZoom,t.tileSize,t.maxResolution)};return new Rc(n)}({extent:Pc(t),maxResolution:A.maxResolution,maxZoom:A.maxZoom,minZoom:A.minZoom,tileSize:A.tileSize});super({attributions:A.attributions,cacheSize:A.cacheSize,crossOrigin:A.crossOrigin,interpolate:A.interpolate,opaque:A.opaque,projection:t,reprojectionErrorThreshold:A.reprojectionErrorThreshold,tileGrid:e,tileLoadFunction:A.tileLoadFunction,tilePixelRatio:A.tilePixelRatio,tileUrlFunction:A.tileUrlFunction,url:A.url,urls:A.urls,wrapX:void 0===A.wrapX||A.wrapX,transition:A.transition,attributionsCollapsible:A.attributionsCollapsible,zDirection:A.zDirection}),this.gutter_=void 0!==A.gutter?A.gutter:0}getGutter(){return this.gutter_}};const zc=class extends Zc{constructor(A){let t;t=void 0!==(A=A||{}).attributions?A.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];const e=void 0!==A.crossOrigin?A.crossOrigin:"anonymous",n=void 0!==A.url?A.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:A.cacheSize,crossOrigin:e,interpolate:A.interpolate,maxZoom:void 0!==A.maxZoom?A.maxZoom:19,opaque:void 0===A.opaque||A.opaque,reprojectionErrorThreshold:A.reprojectionErrorThreshold,tileLoadFunction:A.tileLoadFunction,transition:A.transition,url:n,wrapX:A.wrapX,zDirection:A.zDirection})}};class qc extends yA{constructor(A){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),A)if("function"==typeof A.getSimplifiedGeometry){const t=A;this.setGeometry(t)}else{const t=A;this.setProperties(t)}}clone(){const A=new qc(this.hasProperties()?this.getProperties():null);A.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&A.setGeometry(t.clone());const e=this.getStyle();return e&&A.setStyle(e),A}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(gA(this.geometryChangeKey_),this.geometryChangeKey_=null);const A=this.getGeometry();A&&(this.geometryChangeKey_=uA(A,eA,this.handleGeometryChange_,this)),this.changed()}setGeometry(A){this.set(this.geometryName_,A)}setStyle(A){this.style_=A,this.styleFunction_=A?function(A){if("function"==typeof A)return A;let t;if(Array.isArray(A))t=A;else{MA("function"==typeof A.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");t=[A]}return function(){return t}}(A):void 0,this.changed()}setId(A){this.id_=A,this.changed()}setGeometryName(A){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=A,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const $c=qc;class Ah extends Pn{constructor(A,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(A[0])?this.setCoordinates(A,t):this.setFlatCoordinates(t,A)}appendCoordinate(A){Y(this.flatCoordinates,A),this.changed()}clone(){const A=new Ah(this.flatCoordinates.slice(),this.layout);return A.applyProperties(this),A}closestPointXY(A,t,e,n){return n<zA(this.getExtent(),A,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,A,t,e,n))}forEachSegment(A){return fi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A)}getCoordinateAtM(A,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,cc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,t))}getCoordinates(){return ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(A,t){return lc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,t,this.stride)}getLength(){return kl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(A){const t=[];return t.length=Zn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,t,0),new Ah(t,"XY")}getType(){return"LineString"}intersectsExtent(A){return Bi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A)}setCoordinates(A,t){this.setLayout(t,A,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yn(this.flatCoordinates,0,A,this.stride),this.changed()}}const th=Ah;class eh extends Pn{constructor(A,t){super(),t&&!Array.isArray(A[0])?this.setFlatCoordinates(t,A):this.setCoordinates(A,t)}appendPoint(A){Y(this.flatCoordinates,A.getFlatCoordinates()),this.changed()}clone(){const A=new eh(this.flatCoordinates.slice(),this.layout);return A.applyProperties(this),A}closestPointXY(A,t,e,n){if(n<zA(this.getExtent(),A,t))return n;const i=this.flatCoordinates,r=this.stride;for(let s=0,o=i.length;s<o;s+=r){const o=Gt(A,t,i[s],i[s+1]);if(o<n){n=o;for(let A=0;A<r;++A)e[A]=i[s+A];e.length=r}}return n}getCoordinates(){return ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(A){const t=this.flatCoordinates.length/this.stride;return A<0||t<=A?null:new li(this.flatCoordinates.slice(A*this.stride,(A+1)*this.stride),this.layout)}getPoints(){const A=this.flatCoordinates,t=this.layout,e=this.stride,n=[];for(let i=0,r=A.length;i<r;i+=e){const r=new li(A.slice(i,i+e),t);n.push(r)}return n}getType(){return"MultiPoint"}intersectsExtent(A){const t=this.flatCoordinates,e=this.stride;for(let n=0,i=t.length;n<i;n+=e){if(At(A,t[n],t[n+1]))return!0}return!1}setCoordinates(A,t){this.setLayout(t,A,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yn(this.flatCoordinates,0,A,this.stride),this.changed()}}const nh=eh;class ih extends Pn{constructor(A,t,e){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(A[0]))this.setCoordinates(A,t);else if(void 0!==t&&e)this.setFlatCoordinates(t,A),this.ends_=e;else{const t=A,e=[],n=[];for(let A=0,i=t.length;A<i;++A){Y(e,t[A].getFlatCoordinates()),n.push(e.length)}const i=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(i,e),this.ends_=n}}appendLineString(A){Y(this.flatCoordinates,A.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const A=new ih(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return A.applyProperties(this),A}closestPointXY(A,t,e,n){return n<zA(this.getExtent(),A,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,A,t,e,n))}getCoordinateAtM(A,t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,e=void 0!==e&&e,function(A,t,e,n,i,r,s){if(s)return cc(A,t,e[e.length-1],n,i,r);let o;if(i<A[n-1])return r?(o=A.slice(0,n),o[n-1]=i,o):null;if(A[A.length-1]<i)return r?(o=A.slice(A.length-n),o[n-1]=i,o):null;for(let r=0,s=e.length;r<s;++r){const s=e[r];if(t!=s){if(i<A[t+n-1])return null;if(i<=A[s-1])return cc(A,t,s,n,i,!1);t=s}}return null}(this.flatCoordinates,0,this.ends_,this.stride,A,t,e))}getCoordinates(){return ei(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(A){return A<0||this.ends_.length<=A?null:new th(this.flatCoordinates.slice(0===A?0:this.ends_[A-1],this.ends_[A]),this.layout)}getLineStrings(){const A=this.flatCoordinates,t=this.ends_,e=this.layout,n=[];let i=0;for(let r=0,s=t.length;r<s;++r){const s=t[r],o=new th(A.slice(i,s),e);n.push(o),i=s}return n}getFlatMidpoints(){const A=[],t=this.flatCoordinates;let e=0;const n=this.ends_,i=this.stride;for(let r=0,s=n.length;r<s;++r){const s=n[r];Y(A,lc(t,e,s,i,.5)),e=s}return A}getSimplifiedGeometryInternal(A){const t=[],e=[];return t.length=zn(this.flatCoordinates,0,this.ends_,this.stride,A,t,0,e),new ih(t,"XY",e)}getType(){return"MultiLineString"}intersectsExtent(A){return function(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r){if(Bi(A,t,e[r],n,i))return!0;t=e[r]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,A)}setCoordinates(A,t){this.setLayout(t,A,2),this.flatCoordinates||(this.flatCoordinates=[]);const e=jn(this.flatCoordinates,0,A,this.stride,this.ends_);this.flatCoordinates.length=0===e.length?0:e[e.length-1],this.changed()}}const rh=ih;class sh extends Pn{constructor(A,t,e){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!e&&!Array.isArray(A[0])){const n=A,i=[],r=[];for(let A=0,t=n.length;A<t;++A){const t=n[A],e=i.length,s=t.getEnds();for(let A=0,t=s.length;A<t;++A)s[A]+=e;Y(i,t.getFlatCoordinates()),r.push(s)}t=0===n.length?this.getLayout():n[0].getLayout(),A=i,e=r}void 0!==t&&e?(this.setFlatCoordinates(t,A),this.endss_=e):this.setCoordinates(A,t)}appendPolygon(A){let t;if(this.flatCoordinates){const e=this.flatCoordinates.length;Y(this.flatCoordinates,A.getFlatCoordinates()),t=A.getEnds().slice();for(let A=0,n=t.length;A<n;++A)t[A]+=e}else this.flatCoordinates=A.getFlatCoordinates().slice(),t=A.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const A=this.endss_.length,t=new Array(A);for(let e=0;e<A;++e)t[e]=this.endss_[e].slice();const e=new sh(this.flatCoordinates.slice(),this.layout,t);return e.applyProperties(this),e}closestPointXY(A,t,e,n){return n<zA(this.getExtent(),A,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r){const s=e[r];i=Vn(A,t,s,n,i),t=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(A,t,e,n,i,r,s,o,a,l,c){c=c||[NaN,NaN];for(let h=0,u=e.length;h<u;++h){const u=e[h];l=Wn(A,t,u,n,i,r,s,o,a,l,c),t=u[u.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,A,t,e,n))}containsXY(A,t){return function(A,t,e,n,i,r){if(0===e.length)return!1;for(let s=0,o=e.length;s<o;++s){const o=e[s];if(ui(A,t,o,n,i,r))return!0;t=o[o.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,A,t)}getArea(){return function(A,t,e,n){let i=0;for(let r=0,s=e.length;r<s;++r){const s=e[r];i+=ri(A,t,s,n),t=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(A){let t;return void 0!==A?(t=this.getOrientedFlatCoordinates().slice(),_i(t,0,this.endss_,this.stride,A)):t=this.flatCoordinates,ni(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const A=hc(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=gi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,A),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new nh(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const A=this.flatCoordinates;Qi(A,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=A:(this.orientedFlatCoordinates_=A.slice(),this.orientedFlatCoordinates_.length=_i(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(A){const t=[],e=[];return t.length=function(A,t,e,n,i,r,s,o){for(let a=0,l=e.length;a<l;++a){const l=e[a],c=[];s=Ai(A,t,l,n,i,r,s,c),o.push(c),t=l[l.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(A),t,0,e),new sh(t,"XY",e)}getPolygon(A){if(A<0||this.endss_.length<=A)return null;let t;if(0===A)t=0;else{const e=this.endss_[A-1];t=e[e.length-1]}const e=this.endss_[A].slice(),n=e[e.length-1];if(0!==t)for(let A=0,n=e.length;A<n;++A)e[A]-=t;return new Ui(this.flatCoordinates.slice(t,n),this.layout,e)}getPolygons(){const A=this.layout,t=this.flatCoordinates,e=this.endss_,n=[];let i=0;for(let r=0,s=e.length;r<s;++r){const s=e[r].slice(),o=s[s.length-1];if(0!==i)for(let A=0,t=s.length;A<t;++A)s[A]-=i;const a=new Ui(t.slice(i,o),A,s);n.push(a),i=o}return n}getType(){return"MultiPolygon"}intersectsExtent(A){return function(A,t,e,n,i){for(let r=0,s=e.length;r<s;++r){const s=e[r];if(wi(A,t,s,n,i))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,A)}setCoordinates(A,t){this.setLayout(t,A,3),this.flatCoordinates||(this.flatCoordinates=[]);const e=Jn(this.flatCoordinates,0,A,this.stride,this.endss_);if(0===e.length)this.flatCoordinates.length=0;else{const A=e[e.length-1];this.flatCoordinates.length=0===A.length?0:A[A.length-1]}this.changed()}}const oh=sh;class ah extends Rn{constructor(A){super(),this.geometries_=A||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(gA),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let A=0,t=this.geometries_.length;A<t;++A)this.changeEventsKeys_.push(uA(this.geometries_[A],eA,this.changed,this))}clone(){const A=new ah(null);return A.setGeometries(this.geometries_),A.applyProperties(this),A}closestPointXY(A,t,e,n){if(n<zA(this.getExtent(),A,t))return n;const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)n=i[r].closestPointXY(A,t,e,n);return n}containsXY(A,t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].containsXY(A,t))return!0;return!1}computeExtent(A){it(A);const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)at(A,t[e].getExtent());return A}getGeometries(){return lh(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let A=[];const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)t[e].getType()===this.getType()?A=A.concat(t[e].getGeometriesArrayRecursive()):A.push(t[e]);return A}getSimplifiedGeometry(A){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),A<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&A<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],e=this.geometries_;let n=!1;for(let i=0,r=e.length;i<r;++i){const r=e[i],s=r.getSimplifiedGeometry(A);t.push(s),s!==r&&(n=!0)}if(n){const A=new ah(null);return A.setGeometriesArray(t),A}return this.simplifiedGeometryMaxMinSquaredTolerance=A,this}getType(){return"GeometryCollection"}intersectsExtent(A){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)if(t[e].intersectsExtent(A))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(A,t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].rotate(A,t);this.changed()}scale(A,t,e){e||(e=Bt(this.getExtent()));const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].scale(A,t,e);this.changed()}setGeometries(A){this.setGeometriesArray(lh(A))}setGeometriesArray(A){this.unlistenGeometriesChange_(),this.geometries_=A,this.listenGeometriesChange_(),this.changed()}applyTransform(A){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)t[e].applyTransform(A);this.changed()}translate(A,t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].translate(A,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function lh(A){const t=[];for(let e=0,n=A.length;e<n;++e)t.push(A[e].clone());return t}const ch=ah;const hh=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=$c,this.supportedMediaTypes=null}getReadOptions(A,t){if(t){let e=t.dataProjection?rn(t.dataProjection):this.readProjection(A);t.extent&&e&&"tile-pixels"===e.getUnits()&&(e=rn(e),e.setWorldExtent(t.extent)),t={dataProjection:e,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(A){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},A)}getType(){return pA()}readFeature(A,t){return pA()}readFeatures(A,t){return pA()}readGeometry(A,t){return pA()}readProjection(A){return pA()}writeFeature(A,t){return pA()}writeFeatures(A,t){return pA()}writeGeometry(A,t){return pA()}};function uh(A,t,e){const n=e?rn(e.featureProjection):null,i=e?rn(e.dataProjection):null;let r=A;if(n&&i&&!ln(n,i)){t&&(r=A.clone());const e=t?n:i,s=t?i:n;"tile-pixels"===e.getUnits()?r.transform(e,s):r.applyTransform(hn(e,s))}if(t&&e&&void 0!==e.decimals){const t=Math.pow(10,e.decimals),n=function(A){for(let e=0,n=A.length;e<n;++e)A[e]=Math.round(A[e]*t)/t;return A};r===A&&(r=A.clone()),r.applyTransform(n)}return r}const dh={Point:li,LineString:th,Polygon:Ui,MultiPoint:nh,MultiLineString:rh,MultiPolygon:oh};function gh(A,t){const e=A.geometry;if(!e)return[];if(Array.isArray(e))return e.map(t=>gh({...A,geometry:t})).flat();const n="MultiPolygon"===e.type?"Polygon":e.type;if("GeometryCollection"===n||"Circle"===n)throw new Error("Unsupported geometry type: "+n);const i=e.layout.length;return uh(new gc(n,"Polygon"===n?function(A,t,e){return Array.isArray(t[0])?(Qi(A,0,t,e)||_i(A=A.slice(),0,t,e),A):(yi(A,0,t,e)||Fi(A=A.slice(),0,t,e),A)}(e.flatCoordinates,e.ends,i):e.flatCoordinates,e.ends?.flat(),i,A.properties||{},A.id).enableSimplifyTransformed(),!1,t)}function fh(A,t){if(!A)return null;if(Array.isArray(A)){const e=A.map(A=>fh(A,t));return new ch(e)}return uh(new(0,dh[A.type])(A.flatCoordinates,A.layout,A.ends),!1,t)}function Bh(A){if("string"==typeof A){const t=JSON.parse(A);return t||null}return null!==A?A:null}const ph=class extends hh{constructor(){super()}getType(){return"json"}readFeature(A,t){return this.readFeatureFromObject(Bh(A),this.getReadOptions(A,t))}readFeatures(A,t){return this.readFeaturesFromObject(Bh(A),this.getReadOptions(A,t))}readFeatureFromObject(A,t){return pA()}readFeaturesFromObject(A,t){return pA()}readGeometry(A,t){return this.readGeometryFromObject(Bh(A),this.getReadOptions(A,t))}readGeometryFromObject(A,t){return pA()}readProjection(A){return this.readProjectionFromObject(Bh(A))}readProjectionFromObject(A){return pA()}writeFeature(A,t){return JSON.stringify(this.writeFeatureObject(A,t))}writeFeatureObject(A,t){return pA()}writeFeatures(A,t){return JSON.stringify(this.writeFeaturesObject(A,t))}writeFeaturesObject(A,t){return pA()}writeGeometry(A,t){return JSON.stringify(this.writeGeometryObject(A,t))}writeGeometryObject(A,t){return pA()}};function wh(A,t){if(!A)return null;let e;switch(A.type){case"Point":e=function(A){const t=A.coordinates;return{type:"Point",flatCoordinates:t,layout:kn(t.length)}}(A);break;case"LineString":e=function(A){const t=A.coordinates,e=t.flat();return{type:"LineString",flatCoordinates:e,ends:[e.length],layout:kn(t[0].length)}}(A);break;case"Polygon":e=function(A){const t=A.coordinates,e=[],n=t[0][0].length,i=jn(e,0,t,n);return{type:"Polygon",flatCoordinates:e,ends:i,layout:kn(n)}}(A);break;case"MultiPoint":e=function(A){const t=A.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:kn(t[0].length)}}(A);break;case"MultiLineString":e=function(A){const t=A.coordinates,e=t[0][0].length,n=[],i=jn(n,0,t,e);return{type:"MultiLineString",flatCoordinates:n,ends:i,layout:kn(e)}}(A);break;case"MultiPolygon":e=function(A){const t=A.coordinates,e=[],n=t[0][0][0].length,i=Jn(e,0,t,n);return{type:"MultiPolygon",flatCoordinates:e,ends:i,layout:kn(n)}}(A);break;case"GeometryCollection":e=function(A,t){const e=A.geometries.map(function(A){return wh(A,t)});return e}(A);break;default:throw new Error("Unsupported GeoJSON type: "+A.type)}return e}function mh(A,t){const e=(A=uh(A,!0,t)).getType();let n;switch(e){case"Point":n=function(A){return{type:"Point",coordinates:A.getCoordinates()}}(A);break;case"LineString":n=function(A){return{type:"LineString",coordinates:A.getCoordinates()}}(A);break;case"Polygon":n=function(A,t){let e;t&&(e=t.rightHanded);return{type:"Polygon",coordinates:A.getCoordinates(e)}}(A,t);break;case"MultiPoint":n=function(A){return{type:"MultiPoint",coordinates:A.getCoordinates()}}(A);break;case"MultiLineString":n=function(A){return{type:"MultiLineString",coordinates:A.getCoordinates()}}(A);break;case"MultiPolygon":n=function(A,t){let e;t&&(e=t.rightHanded);return{type:"MultiPolygon",coordinates:A.getCoordinates(e)}}(A,t);break;case"GeometryCollection":n=function(A,t){t=Object.assign({},t),delete t.featureProjection;const e=A.getGeometriesArray().map(function(A){return mh(A,t)});return{type:"GeometryCollection",geometries:e}}(A,t);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+e)}return n}const Ch=class extends ph{constructor(A){A=A||{},super(),this.dataProjection=rn(A.dataProjection?A.dataProjection:"EPSG:4326"),A.featureProjection&&(this.defaultFeatureProjection=rn(A.featureProjection)),A.featureClass&&(this.featureClass=A.featureClass),this.geometryName_=A.geometryName,this.extractGeometryName_=A.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(A,t){let e=null;e="Feature"===A.type?A:{type:"Feature",geometry:A,properties:null};const n=wh(e.geometry,t);if(this.featureClass===gc)return gh({geometry:n,id:e.id,properties:e.properties},t);const i=new $c;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in e!==void 0&&i.setGeometryName(e.geometry_name),i.setGeometry(fh(n,t)),"id"in e&&i.setId(e.id),e.properties&&i.setProperties(e.properties,!0),i}readFeaturesFromObject(A,t){let e=null;if("FeatureCollection"===A.type){e=[];const n=A.features;for(let A=0,i=n.length;A<i;++A){const i=this.readFeatureFromObject(n[A],t);i&&e.push(i)}}else e=[this.readFeatureFromObject(A,t)];return e.flat()}readGeometryFromObject(A,t){return function(A,t){const e=wh(A,t);return fh(e,t)}(A,t)}readProjectionFromObject(A){const t=A.crs;let e;if(t)if("name"==t.type)e=rn(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");e=rn("EPSG:"+t.properties.code)}else e=this.dataProjection;return e}writeFeatureObject(A,t){t=this.adaptOptions(t);const e={type:"Feature",geometry:null,properties:null},n=A.getId();if(void 0!==n&&(e.id=n),!A.hasProperties())return e;const i=A.getProperties(),r=A.getGeometry();return r&&(e.geometry=mh(r,t),delete i[A.getGeometryName()]),AA(i)||(e.properties=i),e}writeFeaturesObject(A,t){t=this.adaptOptions(t);const e=[];for(let n=0,i=A.length;n<i;++n)e.push(this.writeFeatureObject(A[n],t));return{type:"FeatureCollection",features:e}}writeGeometryObject(A,t){return mh(A,this.adaptOptions(t))}},yh="element",Qh="map",Fh="offset",_h="position",vh="positioning";const Uh=class extends yA{constructor(A){super(),this.on,this.once,this.un,this.options=A,this.id=A.id,this.insertFirst=void 0===A.insertFirst||A.insertFirst,this.stopEvent=void 0===A.stopEvent||A.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==A.className?A.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===A.autoPan?{}:A.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(yh,this.handleElementChanged),this.addChangeListener(Qh,this.handleMapChanged),this.addChangeListener(Fh,this.handleOffsetChanged),this.addChangeListener(_h,this.handlePositionChanged),this.addChangeListener(vh,this.handlePositioningChanged),void 0!==A.element&&this.setElement(A.element),this.setOffset(void 0!==A.offset?A.offset:[0,0]),this.setPositioning(A.positioning||"top-left"),void 0!==A.position&&this.setPosition(A.position)}getElement(){return this.get(yh)}getId(){return this.id}getMap(){return this.get(Qh)||null}getOffset(){return this.get(Fh)}getPosition(){return this.get(_h)}getPositioning(){return this.get(vh)}handleElementChanged(){Zi(this.element);const A=this.getElement();A&&this.element.appendChild(A)}handleMapChanged(){this.mapPostrenderListenerKey&&(Ji(this.element),gA(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const A=this.getMap();if(A){this.mapPostrenderListenerKey=uA(A,Er,this.render,this),this.updatePixelPosition();const t=this.stopEvent?A.getOverlayContainerStopEvent():A.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(A){this.set(yh,A)}setMap(A){this.set(Qh,A)}setOffset(A){this.set(Fh,A)}setPosition(A){this.set(_h,A)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(A){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(_h))return;const e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Wi(n),Yi(n)]),r=void 0===(A=A||{}).margin?20:A.margin;if(!$A(e,i)){const n=i[0]-e[0],s=e[2]-i[2],o=i[1]-e[1],a=e[3]-i[3],l=[0,0];if(n<0?l[0]=n-r:s<0&&(l[0]=Math.abs(s)+r),o<0?l[1]=o-r:a<0&&(l[1]=Math.abs(a)+r),0!==l[0]||0!==l[1]){const e=t.getView().getCenterInternal(),n=t.getPixelFromCoordinateInternal(e);if(!n)return;const i=[n[0]+l[0],n[1]+l[1]],r=A.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(i),duration:r.duration,easing:r.easing})}}}getRect(A,t){const e=A.getBoundingClientRect(),n=e.left+window.pageXOffset,i=e.top+window.pageYOffset;return[n,i,n+t[0],i+t[1]]}setPositioning(A){this.set(vh,A)}setVisible(A){this.rendered.visible!==A&&(this.element.style.display=A?"":"none",this.rendered.visible=A)}updatePixelPosition(){const A=this.getMap(),t=this.getPosition();if(!A||!A.isRendered()||!t)return void this.setVisible(!1);const e=A.getPixelFromCoordinate(t),n=A.getSize();this.updateRenderedPosition(e,n)}updateRenderedPosition(A,t){const e=this.element.style,n=this.getOffset(),i=this.getPositioning();this.setVisible(!0);let r="0%",s="0%";"bottom-right"==i||"center-right"==i||"top-right"==i?r="-100%":"bottom-center"!=i&&"center-center"!=i&&"top-center"!=i||(r="-50%"),"bottom-left"==i||"bottom-center"==i||"bottom-right"==i?s="-100%":"center-left"!=i&&"center-center"!=i&&"center-right"!=i||(s="-50%");const o=`translate(${r}, ${s}) translate(${Math.round(A[0]+n[0])+"px"}, ${Math.round(A[1]+n[1])+"px"})`;this.rendered.transform_!=o&&(this.rendered.transform_=o,e.transform=o)}getOptions(){return this.options}};var Eh=e(792),xh=e.n(Eh);function bh(A){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},bh(A)}function Ih(){var A,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function r(e,n,i,r){var a=n&&n.prototype instanceof o?n:o,l=Object.create(a.prototype);return Sh(l,"_invoke",function(e,n,i){var r,o,a,l=0,c=i||[],h=!1,u={p:0,n:0,v:A,a:d,f:d.bind(A,4),d:function(t,e){return r=t,o=0,a=A,u.n=e,s}};function d(e,n){for(o=e,a=n,t=0;!h&&l&&!i&&t<c.length;t++){var i,r=c[t],d=u.p,g=r[2];e>3?(i=g===n)&&(a=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=A):r[0]<=d&&((i=e<2&&d<r[1])?(o=0,u.v=n,u.n=r[1]):d<g&&(i=e<3||r[0]>n||n>g)&&(r[4]=e,r[5]=n,u.n=g,o=0))}if(i||e>1)return s;throw h=!0,n}return function(i,c,g){if(l>1)throw TypeError("Generator is already running");for(h&&1===c&&d(c,g),o=c,a=g;(t=o<2?A:a)||!h;){r||(o?o<3?(o>1&&(u.n=-1),d(o,a)):u.n=a:u.v=a);try{if(l=2,r){if(o||(i="next"),t=r[i]){if(!(t=t.call(r,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,o<2&&(o=0)}else 1===o&&(t=r.return)&&t.call(r),o<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),o=1);r=A}else if((t=(h=u.n<0)?a:e.call(n,u))!==s)break}catch(t){r=A,o=1,a=t}finally{l=1}}return{value:t,done:h}}}(e,i,r),!0),l}var s={};function o(){}function a(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(Sh(t={},n,function(){return this}),t),h=l.prototype=o.prototype=Object.create(c);function u(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,l):(A.__proto__=l,Sh(A,i,"GeneratorFunction")),A.prototype=Object.create(h),A}return a.prototype=l,Sh(h,"constructor",l),Sh(l,"constructor",a),a.displayName="GeneratorFunction",Sh(l,i,"GeneratorFunction"),Sh(h),Sh(h,i,"Generator"),Sh(h,n,function(){return this}),Sh(h,"toString",function(){return"[object Generator]"}),(Ih=function(){return{w:r,m:u}})()}function Sh(A,t,e,n){var i=Object.defineProperty;try{i({},"",{})}catch(A){i=0}Sh=function(A,t,e,n){function r(t,e){Sh(A,t,function(A){return this._invoke(t,e,A)})}t?i?i(A,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):A[t]=e:(r("next",0),r("throw",1),r("return",2))},Sh(A,t,e,n)}function Hh(A,t,e,n,i,r,s){try{var o=A[r](s),a=o.value}catch(A){return void e(A)}o.done?t(a):Promise.resolve(a).then(n,i)}function Lh(A){return function(){var t=this,e=arguments;return new Promise(function(n,i){var r=A.apply(t,e);function s(A){Hh(r,n,i,s,o,"next",A)}function o(A){Hh(r,n,i,s,o,"throw",A)}s(void 0)})}}function Th(A,t,e){return(t=function(A){var t=function(A,t){if("object"!=bh(A)||!A)return A;var e=A[Symbol.toPrimitive];if(void 0!==e){var n=e.call(A,t||"default");if("object"!=bh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(A)}(A,"string");return"symbol"==bh(t)?t:t+""}(t))in A?Object.defineProperty(A,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):A[t]=e,A}var Mh={name:"FeatureCollectionMap",props:Th(Th({geojsonUrl:{type:String,required:!0},height:{type:Number,default:500},showZoomControls:{type:Boolean,default:!0},mouseWheelZoom:{type:Boolean,default:!0},dragPan:{type:Boolean,default:!0},padding:{type:Number,default:50},resourceName:{type:String,default:"poles"},popupComponent:{type:String,default:null},enableScreenshot:{type:Boolean,default:!1}},"resourceName",{type:String,default:null}),"resourceId",{type:[String,Number],default:null}),emits:["feature-click","map-ready","popup-open","popup-close"],setup:function(A,t){var e=t.emit,i=(0,n.ref)(null),r=(0,n.ref)(null),s=(0,n.ref)(null),o=(0,n.ref)(null),a=(0,n.ref)({}),l=(0,n.ref)(!0),c=(0,n.ref)(null),h=(0,n.ref)(null),u=(0,n.ref)(!1),d=(0,n.ref)(""),g=(0,n.ref)(!1),f=(0,n.ref)(""),B=(0,n.ref)({}),p=(0,n.ref)(null),w=(0,n.ref)({}),m=(0,n.ref)(!1),C=(0,n.ref)(!1),y=function(A){var t=A.getProperties(),e=A.getGeometry().getType();if("Point"===e||"MultiPoint"===e){var n=t.pointRadius||6,i=t.pointFillColor||"rgba(255, 0, 0, 0.8)",r=t.pointStrokeColor||"rgba(255, 255, 255, 1)",s=t.pointStrokeWidth||2,o=t.checkpointRouteColors;if(o&&Array.isArray(o)&&o.length>1){var a=[];a.push(new Eo({image:new wo({radius:n,fill:new Co({color:i})})}));return o.forEach(function(A,t){var e=n+2.5*t+1.25;a.push(new Eo({image:new wo({radius:e,fill:new Co({color:"transparent"}),stroke:new Qo({color:A,width:2.5})})}))}),a}return new Eo({image:new wo({radius:n,fill:new Co({color:i}),stroke:new Qo({color:r,width:s})})})}return new Eo({stroke:new Qo({color:t.strokeColor||"rgba(0, 0, 255, 1)",width:t.strokeWidth||3}),fill:new Co({color:t.fillColor||"rgba(0, 0, 255, 0.3)"})})},Q=function(){var t=Lh(Ih().m(function t(){var n,i,c,h,u,d,g,f,B,p,w,m,y,Q,F,_,v;return Ih().w(function(t){for(;;)switch(t.p=t.n){case 0:return console.log("Loading GeoJSON from:",A.geojsonUrl),l.value=!0,t.p=1,t.n=2,fetch(A.geojsonUrl);case 2:if((n=t.v).ok){t.n=3;break}return console.error("GeoJSON fetch failed:",n.status,n.statusText),l.value=!1,t.a(2);case 3:return t.n=4,n.json();case 4:i=t.v,console.log("GeoJSON loaded:",i),o.value=i,i.features&&i.features.forEach(function(A){A.properties&&A.properties.id&&(a.value[String(A.properties.id)]=A)}),c=new Ch,h=c.readFeatures(i,{featureProjection:"EPSG:3857"}),s.value.clear(),s.value.addFeatures(h),h.length>0&&(u=s.value.getExtent(),d=r.value.getView(),(g=r.value.getSize())&&u&&(f=[(u[0]+u[2])/2,(u[1]+u[3])/2],B=u[2]-u[0],p=u[3]-u[1],w=B/p,m=g[0]/g[1],y=w>m?B/(g[0]-2*A.padding):p/(g[1]-2*A.padding),Q=d.getMaxResolution(),F=Math.log2(Q/y),_=Math.min(d.getMaxZoom()||17,17),d.setCenter(f),d.setZoom(Math.min(Math.max(F,0),_)))),A.enableScreenshot&&!C.value&&r.value.once("rendercomplete",function(){E()}),e("map-ready",{map:r.value,features:h,geojson:i,featuresMap:a.value}),l.value=!1,t.n=6;break;case 5:t.p=5,v=t.v,console.error("Error loading GeoJSON:",v),l.value=!1;case 6:return t.a(2)}},t,null,[[1,5]])}));return function(){return t.apply(this,arguments)}}(),F=function(A,t){p.value=t.id,w.value=t,f.value=t.name||t.tooltip||"#".concat(t.id),B.value=t.dem||{},g.value=!0,e("popup-open",{feature:A,properties:t,id:t.id,dem:t.dem,featuresMap:a.value}),e("feature-click",{feature:A,properties:t,action:"popup"})},_=function(A){var t=A.pixel,n=r.value.getFeaturesAtPixel(t);if(n&&n.length>0){var i=n[0],s=i.getProperties();!function(A,t){switch(t.clickAction||(t.link?"link":"none")){case"popup":F(A,t);break;case"link":t.link&&window.open(t.link,"_blank"),e("feature-click",{feature:A,properties:t,action:"link"});break;default:e("feature-click",{feature:A,properties:t,action:"none"})}}(i,s)}},v=function(A){var t=A.pixel,e=r.value.forEachFeatureAtPixel(t,function(A){return A});if(e){r.value.getTargetElement().style.cursor="pointer";var n=e.getProperties(),i=n.tooltip||n.name;i&&h.value&&(d.value=i,u.value=!0,h.value.setPosition(A.coordinate))}else r.value.getTargetElement().style.cursor="",u.value=!1},U=function(){g.value=!1,e("popup-close",{id:p.value}),p.value=null,w.value={},B.value={}},E=function(){var t=Lh(Ih().m(function t(){var e,n,s,o,a,l,c,h;return Ih().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r.value&&i.value&&!m.value&&!C.value){t.n=1;break}return t.a(2);case 1:if(A.resourceName&&A.resourceId){t.n=2;break}return console.warn("Impossibile salvare lo screenshot: informazioni risorsa non disponibili."),t.a(2);case 2:return m.value=!0,C.value=!0,t.p=3,n=u.value,u.value=!1,t.n=4,xh()(i.value,{useCORS:!0,logging:!1,backgroundColor:"#ffffff",scale:1,width:i.value.offsetWidth,height:i.value.offsetHeight});case 4:return s=t.v,u.value=n,o=s.toDataURL("image/png"),t.n=5,fetch("/nova-vendor/feature-collection-map/screenshot/".concat(A.resourceName,"/").concat(A.resourceId),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(e=document.querySelector('meta[name="csrf-token"]'))||void 0===e?void 0:e.getAttribute("content"))||""},body:JSON.stringify({image:o})});case 5:if((a=t.v).ok){t.n=7;break}return t.n=6,a.json().catch(function(){return{message:"Errore sconosciuto"}});case 6:throw l=t.v,new Error(l.message||"Errore HTTP: ".concat(a.status));case 7:return t.n=8,a.json();case 8:c=t.v,console.log("Screenshot salvato automaticamente:",c),t.n=10;break;case 9:t.p=9,h=t.v,console.error("Errore durante la cattura dello screenshot:",h),C.value=!1;case 10:return t.p=10,m.value=!1,t.f(10);case 11:return t.a(2)}},t,null,[[3,9,10,11]])}));return function(){return t.apply(this,arguments)}}(),x=function(A){"Escape"===A.key&&g.value&&U()};return(0,n.onMounted)(function(){s.value=new xc;var t,e,n=new oc({source:s.value,style:y});r.value=new Ds({target:i.value,layers:[new lo({source:new zc}),n],view:new Si({center:(t=[12.5,42.5],An(),un(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")),zoom:6}),controls:jr({zoom:A.showZoomControls}),interactions:Ss({mouseWheelZoom:A.mouseWheelZoom,dragPan:A.dragPan})}),h.value=new Uh({element:c.value,positioning:"bottom-center",offset:[0,-10],stopEvent:!1}),r.value.addOverlay(h.value),r.value.on("click",_),r.value.on("pointermove",v),document.addEventListener("keydown",x),Q()}),(0,n.onUnmounted)(function(){document.removeEventListener("keydown",x),r.value&&(r.value.setTarget(null),r.value=null)}),(0,n.watch)(function(){return A.geojsonUrl},function(A,t){A&&A!==t&&(console.log("GeoJSON URL changed, reloading map:",{oldUrl:t,newUrl:A}),C.value=!1,Q())},{immediate:!1}),{popupComponent:A.popupComponent,enableScreenshot:A.enableScreenshot,mapContainer:i,tooltipElement:c,tooltipVisible:u,tooltipText:d,isLoading:l,showPopup:g,popupTitle:f,popupData:B,currentFeatureId:p,currentFeatureProperties:w,isCapturing:m,screenshotCaptured:C,closePopup:U,getResourceLink:function(){return p.value?"/resources/".concat(A.resourceName,"/").concat(p.value):"#"},captureScreenshot:E,map:r,vectorSource:s,featuresMap:a,openPopup:F,loadGeoJSON:Q}}},Dh=function(){(0,n.useCssVars)(function(A){return{v5727ffa8:A.height+"px"}})},Kh=Mh.setup;Mh.setup=Kh?function(A,t){return Dh(),Kh(A,t)}:Dh;const Rh=Mh;var kh=e(72),Oh=e.n(kh),Ph=e(728),Gh={insert:"head",singleton:!1};Oh()(Ph.A,Gh);Ph.A.locals;var Nh=e(262);const Vh=(0,Nh.A)(Rh,[["render",function(A,t,e,i,r,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",L,[i.isLoading?((0,n.openBlock)(),(0,n.createElementBlock)("div",T,S(t[2]||(t[2]=[(0,n.createElementVNode)("div",{class:"loading-spinner"},null,-1),(0,n.createElementVNode)("p",{class:"loading-text"},"Caricamento mappa...",-1)])))):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{ref:"mapContainer",class:(0,n.normalizeClass)(["map-container",{"map-loading":i.isLoading}])},null,2),(0,n.withDirectives)((0,n.createElementVNode)("div",{ref:"tooltipElement",class:"map-tooltip"},(0,n.toDisplayString)(i.tooltipText),513),[[n.vShow,i.tooltipVisible]]),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"body"},[i.showPopup&&!i.popupComponent?((0,n.openBlock)(),(0,n.createElementBlock)("div",M,[(0,n.createElementVNode)("div",D,[(0,n.createElementVNode)("div",K,[(0,n.createElementVNode)("h3",R,(0,n.toDisplayString)(i.popupTitle),1)]),t[3]||(t[3]=(0,n.createElementVNode)("div",{class:"px-6 py-4"},[(0,n.createElementVNode)("p",{class:"text-gray-600 dark:text-gray-300 text-sm"}," Clicca sul pulsante per visualizzare i dettagli. ")],-1)),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("button",{type:"button",onClick:t[0]||(t[0]=function(){return i.closePopup&&i.closePopup.apply(i,arguments)}),style:{background:"white",color:"#333",border:"1px solid #ccc",padding:"8px 16px","border-radius":"4px","font-weight":"bold",cursor:"pointer"}}," Chiudi "),i.currentFeatureId?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,href:i.getResourceLink(),target:"_blank",style:{background:"#0ea5e9",color:"white",padding:"8px 16px","border-radius":"4px","font-weight":"bold","text-decoration":"none",cursor:"pointer"}}," Vai alla risorsa ",8,O)):(0,n.createCommentVNode)("",!0)])])])):(0,n.createCommentVNode)("",!0),i.showPopup&&!i.popupComponent?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"fixed inset-0 z-[55] bg-gray-500/75 dark:bg-gray-900/75",onClick:t[1]||(t[1]=function(){return i.closePopup&&i.closePopup.apply(i,arguments)})})):(0,n.createCommentVNode)("",!0)]))])}],["__scopeId","data-v-9d0b936c"]]);function Xh(A){return function(A){if(Array.isArray(A))return Wh(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function(A,t){if(A){if("string"==typeof A)return Wh(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Wh(A,t):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wh(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,n=Array(t);e<t;e++)n[e]=A[e];return n}var Yh={class:"signage-arrows-container"},jh={key:0,class:"signage-arrow-wrapper"},Jh={class:"arrow-order-controls"},Zh=["disabled","onClick"],zh=["disabled","onClick"],qh={class:"arrow-direction-control"},$h=["onClick","title"],Au={key:0,class:"arrow-point-left"},tu={class:"arrow-body"},eu={class:"route-id-column"},nu={class:"route-id-box"},iu={class:"destination-info"},ru={class:"destination-name"},su={key:0,class:"destination-description"},ou={class:"destination-meta"},au={class:"destination-time"},lu={key:0,class:"destination-distance"},cu={key:1,class:"arrow-point-right"},hu={key:0,class:"no-signage-data"};function uu(A){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},uu(A)}function du(A,t){var e=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(A,t).enumerable})),e.push.apply(e,n)}return e}function gu(A){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?du(Object(e),!0).forEach(function(t){fu(A,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(e)):du(Object(e)).forEach(function(t){Object.defineProperty(A,t,Object.getOwnPropertyDescriptor(e,t))})}return A}function fu(A,t,e){return(t=function(A){var t=function(A,t){if("object"!=uu(A)||!A)return A;var e=A[Symbol.toPrimitive];if(void 0!==e){var n=e.call(A,t||"default");if("object"!=uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(A)}(A,"string");return"symbol"==uu(t)?t:t+""}(t))in A?Object.defineProperty(A,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):A[t]=e,A}function Bu(A,t){return function(A){if(Array.isArray(A))return A}(A)||function(A,t){var e=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null!=e){var n,i,r,s,o=[],a=!0,l=!1;try{if(r=(e=e.call(A)).next,0===t){if(Object(e)!==e)return;a=!1}else for(;!(a=(n=r.call(e)).done)&&(o.push(n.value),o.length!==t);a=!0);}catch(A){l=!0,i=A}finally{try{if(!a&&null!=e.return&&(s=e.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}(A,t)||wu(A,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(A){return function(A){if(Array.isArray(A))return mu(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||wu(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(A,t){if(A){if("string"==typeof A)return mu(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?mu(A,t):void 0}}function mu(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,n=Array(t);e<t;e++)n[e]=A[e];return n}const Cu={name:"SignageArrowsDisplay",props:{signageData:{type:Object,default:function(){return{}}}},computed:{processedSignageData:function(){var A=this;if(!this.signageData||0===Object.keys(this.signageData).length)return{};var t=this.signageData,e=[],n=this.localArrowOrder&&this.localArrowOrder.length>0?this.localArrowOrder:[];this.signageData.signage&&(t=this.signageData.signage),t.arrow_order&&Array.isArray(t.arrow_order)&&(e=t.arrow_order,0===n.length&&n.push.apply(n,pu(e)));for(var i={},r=function(){var t=Bu(o[s],2),r=t[0],a=t[1];if("arrow_order"===r)return 1;var l=r,c=a;if(c.arrows&&Array.isArray(c.arrows)){var h=[],u=(n.length>0?n:e).filter(function(A){return A&&A.startsWith("".concat(l,"-"))});if(u.length>0){var d,g=function(A,t){var e="undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(!e){if(Array.isArray(A)||(e=wu(A))||t&&A&&"number"==typeof A.length){e&&(A=e);var n=0,i=function(){};return{s:i,n:function(){return n>=A.length?{done:!0}:{done:!1,value:A[n++]}},e:function(A){throw A},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){e=e.call(A)},n:function(){var A=e.next();return s=A.done,A},e:function(A){o=!0,r=A},f:function(){try{s||null==e.return||e.return()}finally{if(o)throw r}}}}(u);try{for(g.s();!(d=g.n()).done;){var f=Bu(d.value.split("-"),2),B=f[0],p=f[1];if(B===l){var w=parseInt(p,10),m=c.arrows[w];!isNaN(w)&&m&&m.rows&&Array.isArray(m.rows)&&h.push(gu(gu({},m),{},{__arrowKey:"".concat(l,"-").concat(w)}))}}}catch(A){g.e(A)}finally{g.f()}}for(var C=function(){var A=c.arrows[y],t="".concat(l,"-").concat(y);A&&A.rows&&Array.isArray(A.rows)&&(h.some(function(A){return A.__arrowKey===t})||h.push(gu(gu({},A),{},{__arrowKey:t})))},y=0;y<c.arrows.length;y++)C();var Q=(h||[]).filter(function(A){return A&&"object"===uu(A)&&A.rows&&Array.isArray(A.rows)&&A.rows.length>0});if(Q.length>0){var F=Q.map(function(t,e){var n="".concat(l,"-").concat(e),i=t.__arrowKey||n,r=A.localArrowDirections[i];return gu(gu({},t),{},{__arrowKey:i,direction:r||t.direction})});i[l]={ref:c.ref||"",orderedArrows:F}}}else if(c.forward||c.backward){var _=[];c.forward&&Array.isArray(c.forward)&&c.forward.length>0&&_.push({direction:"forward",rows:c.forward}),c.backward&&Array.isArray(c.backward)&&c.backward.length>0&&_.push({direction:"backward",rows:c.backward}),_.length>0&&(i[l]={ref:c.ref||"",orderedArrows:_})}},s=0,o=Object.entries(t);s<o.length;s++)r();return i},hasSignageData:function(){return Object.keys(this.processedSignageData).length>0}},data:function(){return{localArrowDirections:{},localArrowOrder:[]}},methods:{getArrowDirection:function(A,t,e){var n,i=this.processedSignageData[A],r=(null==i||null===(n=i.orderedArrows)||void 0===n||null===(n=n[t])||void 0===n?void 0:n.__arrowKey)||"".concat(A,"-").concat(t);return this.localArrowDirections[r]||e},toggleArrowDirection:function(A,t){var e;fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"SignageArrowsDisplay.vue:toggleArrowDirection",message:"Metodo chiamato",data:{routeId:A,arrowIdx:t},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(function(){});var n=this.processedSignageData[A];if(n&&n.orderedArrows&&n.orderedArrows[t]){var i=n.orderedArrows[t],r=i.__arrowKey||"".concat(A,"-").concat(t),s=this.getArrowDirection(A,t,i.direction),o="forward"===s?"backward":"forward";fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"SignageArrowsDisplay.vue:toggleArrowDirection",message:"Calcolata nuova direzione",data:{routeId:A,arrowIdx:t,currentDirection:s,newDirection:o},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(function(){}),this.localArrowDirections=gu(gu({},this.localArrowDirections),{},fu({},r,o));var a=this.signageData;this.signageData.signage&&(a=this.signageData.signage);var l=a[A],c=parseInt(null!==(e=r.split("-")[1])&&void 0!==e?e:t,10);l&&l.arrows&&l.arrows[c]&&(l.arrows[c].direction=o),fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"SignageArrowsDisplay.vue:toggleArrowDirection",message:"Prima di emettere evento",data:{routeId:A,arrowIdx:t,newDirection:o},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(function(){}),this.$emit("arrow-direction-changed",{routeId:A,arrowIndex:c,newDirection:o,fullSignageData:this.signageData}),fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"SignageArrowsDisplay.vue:toggleArrowDirection",message:"Evento emesso",data:{routeId:A,arrowIdx:t,newDirection:o},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(function(){})}else fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"SignageArrowsDisplay.vue:toggleArrowDirection",message:"Route data non valida",data:{routeId:A,arrowIdx:t,hasRouteData:!!n,hasOrderedArrows:!(!n||!n.orderedArrows)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(function(){})},formatTime:function(A){if(!A&&0!==A)return"-";var t=Math.floor(A/60),e=A%60;return 0===t?"0.".concat(e.toString().padStart(2,"0")):"".concat(t,".").concat(e.toString().padStart(2,"0"))},formatDistance:function(A){return A||0===A?(A/1e3).toFixed(1).replace(".",","):""},formatDestinationName:function(A){return console.log("destination",A),A&&"object"===uu(A)?A.name?A.name:A.ref||A.tooltip?"ref: "+A.ref||0:"id: "+A.id:"-"},getCurrentOrder:function(){if(this.localArrowOrder&&this.localArrowOrder.length>0)return pu(this.localArrowOrder);var A=this.signageData;return this.signageData.signage&&(A=this.signageData.signage),A.arrow_order&&Array.isArray(A.arrow_order)?pu(A.arrow_order):[]},canMoveUp:function(A,t){var e=this.processedSignageData[A];if(!e||!e.orderedArrows)return!1;var n=e.orderedArrows[t];return!(!n||!n.__arrowKey)&&this.getCurrentOrder().filter(function(t){return t.startsWith("".concat(A,"-"))}).indexOf(n.__arrowKey)>0},canMoveDown:function(A,t){var e=this.processedSignageData[A];if(!e||!e.orderedArrows)return!1;var n=e.orderedArrows[t];if(!n||!n.__arrowKey)return!1;var i=this.getCurrentOrder().filter(function(t){return t.startsWith("".concat(A,"-"))}),r=i.indexOf(n.__arrowKey);return-1!==r&&r<i.length-1},moveArrow:function(A,t,e){var n=this.processedSignageData[A];if(n&&n.orderedArrows){var i=n.orderedArrows[t];if(i&&i.__arrowKey){var r=this.getCurrentOrder();if(0===r.length){var s=n.orderedArrows.map(function(A){return A.__arrowKey});r.push.apply(r,pu(s))}var o=r.filter(function(t){return t.startsWith("".concat(A,"-"))}),a=o.indexOf(i.__arrowKey);if(-1!==a){var l="up"===e?a-1:a+1;if(!(l<0||l>=o.length)){var c=[o[l],o[a]];o[a]=c[0],o[l]=c[1];var h=0,u=r.map(function(t){return t.startsWith("".concat(A,"-"))?o[h++]:t});h<o.length&&u.push.apply(u,pu(o.slice(h))),this.localArrowOrder=u,this.$emit("arrow-order-changed",{routeId:A,arrowOrder:u,fullSignageData:this.signageData})}}}}}}};var yu=e(463),Qu={insert:"head",singleton:!1};Oh()(yu.A,Qu);yu.A.locals;function Fu(A){return Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},Fu(A)}function _u(A,t){var e="undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(!e){if(Array.isArray(A)||(e=Uu(A))||t&&A&&"number"==typeof A.length){e&&(A=e);var n=0,i=function(){};return{s:i,n:function(){return n>=A.length?{done:!0}:{done:!1,value:A[n++]}},e:function(A){throw A},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){e=e.call(A)},n:function(){var A=e.next();return s=A.done,A},e:function(A){o=!0,r=A},f:function(){try{s||null==e.return||e.return()}finally{if(o)throw r}}}}function vu(A,t){return function(A){if(Array.isArray(A))return A}(A)||function(A,t){var e=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null!=e){var n,i,r,s,o=[],a=!0,l=!1;try{if(r=(e=e.call(A)).next,0===t){if(Object(e)!==e)return;a=!1}else for(;!(a=(n=r.call(e)).done)&&(o.push(n.value),o.length!==t);a=!0);}catch(A){l=!0,i=A}finally{try{if(!a&&null!=e.return&&(s=e.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}(A,t)||Uu(A,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(A,t){if(A){if("string"==typeof A)return Eu(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Eu(A,t):void 0}}function Eu(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,n=Array(t);e<t;e++)n[e]=A[e];return n}function xu(){var A,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function r(e,n,i,r){var a=n&&n.prototype instanceof o?n:o,l=Object.create(a.prototype);return bu(l,"_invoke",function(e,n,i){var r,o,a,l=0,c=i||[],h=!1,u={p:0,n:0,v:A,a:d,f:d.bind(A,4),d:function(t,e){return r=t,o=0,a=A,u.n=e,s}};function d(e,n){for(o=e,a=n,t=0;!h&&l&&!i&&t<c.length;t++){var i,r=c[t],d=u.p,g=r[2];e>3?(i=g===n)&&(a=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=A):r[0]<=d&&((i=e<2&&d<r[1])?(o=0,u.v=n,u.n=r[1]):d<g&&(i=e<3||r[0]>n||n>g)&&(r[4]=e,r[5]=n,u.n=g,o=0))}if(i||e>1)return s;throw h=!0,n}return function(i,c,g){if(l>1)throw TypeError("Generator is already running");for(h&&1===c&&d(c,g),o=c,a=g;(t=o<2?A:a)||!h;){r||(o?o<3?(o>1&&(u.n=-1),d(o,a)):u.n=a:u.v=a);try{if(l=2,r){if(o||(i="next"),t=r[i]){if(!(t=t.call(r,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,o<2&&(o=0)}else 1===o&&(t=r.return)&&t.call(r),o<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),o=1);r=A}else if((t=(h=u.n<0)?a:e.call(n,u))!==s)break}catch(t){r=A,o=1,a=t}finally{l=1}}return{value:t,done:h}}}(e,i,r),!0),l}var s={};function o(){}function a(){}function l(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(bu(t={},n,function(){return this}),t),h=l.prototype=o.prototype=Object.create(c);function u(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,l):(A.__proto__=l,bu(A,i,"GeneratorFunction")),A.prototype=Object.create(h),A}return a.prototype=l,bu(h,"constructor",l),bu(l,"constructor",a),a.displayName="GeneratorFunction",bu(l,i,"GeneratorFunction"),bu(h),bu(h,i,"Generator"),bu(h,n,function(){return this}),bu(h,"toString",function(){return"[object Generator]"}),(xu=function(){return{w:r,m:u}})()}function bu(A,t,e,n){var i=Object.defineProperty;try{i({},"",{})}catch(A){i=0}bu=function(A,t,e,n){function r(t,e){bu(A,t,function(A){return this._invoke(t,e,A)})}t?i?i(A,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):A[t]=e:(r("next",0),r("throw",1),r("return",2))},bu(A,t,e,n)}function Iu(A,t,e,n,i,r,s){try{var o=A[r](s),a=o.value}catch(A){return void e(A)}o.done?t(a):Promise.resolve(a).then(n,i)}function Su(A){return function(){var t=this,e=arguments;return new Promise(function(n,i){var r=A.apply(t,e);function s(A){Iu(r,n,i,s,o,"next",A)}function o(A){Iu(r,n,i,s,o,"throw",A)}s(void 0)})}}function Hu(A,t){var e=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(A,t).enumerable})),e.push.apply(e,n)}return e}function Lu(A){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(e),!0).forEach(function(t){Tu(A,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(e)):Hu(Object(e)).forEach(function(t){Object.defineProperty(A,t,Object.getOwnPropertyDescriptor(e,t))})}return A}function Tu(A,t,e){return(t=function(A){var t=function(A,t){if("object"!=Fu(A)||!A)return A;var e=A[Symbol.toPrimitive];if(void 0!==e){var n=e.call(A,t||"default");if("object"!=Fu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(A)}(A,"string");return"symbol"==Fu(t)?t:t+""}(t))in A?Object.defineProperty(A,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):A[t]=e,A}const Mu={name:"SignageMapDetailField",components:{FeatureCollectionMap:Vh,SignageArrowsDisplay:(0,Nh.A)(Cu,[["render",function(A,t,e,i,r,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Yh,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(s.processedSignageData,function(A,e){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e,class:"route-signage-block"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(A.orderedArrows||[],function(i,r){return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:r},[i&&i.rows&&Array.isArray(i.rows)&&i.rows.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",jh,[(0,n.createElementVNode)("div",Jh,[(0,n.createElementVNode)("button",{class:"arrow-order-btn",disabled:!s.canMoveUp(e,r),onClick:function(A){return s.moveArrow(e,r,"up")},title:"Sposta su"},"  ",8,Zh),(0,n.createElementVNode)("button",{class:"arrow-order-btn",disabled:!s.canMoveDown(e,r),onClick:function(A){return s.moveArrow(e,r,"down")},title:"Sposta gi"},"  ",8,zh)]),(0,n.createElementVNode)("div",qh,[(0,n.createElementVNode)("button",{onClick:function(A){return s.toggleArrowDirection(e,r)},class:"arrow-direction-btn",title:"Inverti direzione: ".concat("forward"===i.direction?"forward  backward":"backward  forward")},Xh(t[0]||(t[0]=[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,n.createElementVNode)("path",{d:"M3 12h18M3 12l4-4m-4 4l4 4M21 12l-4-4m4 4l-4 4"})],-1)])),8,$h)]),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["signage-arrow",s.getArrowDirection(e,r,i.direction)])},["backward"===s.getArrowDirection(e,r,i.direction)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Au)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",tu,[(0,n.createElementVNode)("div",eu,[t[1]||(t[1]=(0,n.createElementVNode)("div",{class:"route-id-red"},null,-1)),(0,n.createElementVNode)("div",nu,(0,n.toDisplayString)(null==A?void 0:A.ref),1),t[2]||(t[2]=(0,n.createElementVNode)("div",{class:"route-id-red"},null,-1))]),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["destinations-list",{"destinations-list--single":1===(i.rows||[]).length}])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.rows,function(A,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:(0,n.normalizeClass)(["destination-row",{"destination-row--with-separator":t<i.rows.length-1}])},[(0,n.createElementVNode)("span",iu,[(0,n.createElementVNode)("span",ru,(0,n.toDisplayString)(s.formatDestinationName(A)),1),null!=A&&A.description?((0,n.openBlock)(),(0,n.createElementBlock)("span",su,(0,n.toDisplayString)(null==A?void 0:A.description),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("span",ou,[(0,n.createElementVNode)("span",au,"h "+(0,n.toDisplayString)(s.formatTime(null==A?void 0:A.time_hiking)),1),null!=A&&A.distance?((0,n.openBlock)(),(0,n.createElementBlock)("span",lu," km "+(0,n.toDisplayString)(s.formatDistance(null==A?void 0:A.distance)),1)):(0,n.createCommentVNode)("",!0)])],2)}),128))],2)]),"forward"===s.getArrowDirection(e,r,i.direction)?((0,n.openBlock)(),(0,n.createElementBlock)("div",cu)):(0,n.createCommentVNode)("",!0)],2)])):(0,n.createCommentVNode)("",!0)],64)}),128))])}),128)),s.hasSignageData?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",hu," Nessun dato segnaletica disponibile "))])}],["__scopeId","data-v-53cbe1b3"]])},props:["index","resource","resourceName","resourceId","field"],data:function(){return{showPopup:!1,popupTitle:"",currentPoleId:null,metaValue:!1,isUpdatingMeta:!1,cachedProperties:null,signageArrowsData:{},mapKey:0,name:"",description:"",isLoadingSuggestion:!1,currentPoleOsmTags:null,currentFeaturesMap:null,availableHikingRoutes:[],selectedHikingRouteIds:[]}},computed:{geojsonUrl:function(){if(this.field.geojsonUrl)return this.field.geojsonUrl;var A=this.resourceName,t=this.resourceId||this.resource&&this.resource.id&&this.resource.id.value,e="/nova-vendor/feature-collection-map/".concat(A,"/").concat(t),n=e;return this.field.demEnrichment&&(n="".concat(e,"?dem_enrichment=1")),this.mapKey>0&&(n+="".concat(n.includes("?")?"&":"?","_t=").concat(this.mapKey)),n},poleLink:function(){return this.currentPoleId?"/resources/poles/".concat(this.currentPoleId):"#"},hasOsmName:function(){return!(!this.currentPoleOsmTags||!this.currentPoleOsmTags.name)},osmName:function(){var A;return(null===(A=this.currentPoleOsmTags)||void 0===A?void 0:A.name)||""}},mounted:function(){document.addEventListener("keydown",this.handleKeydown),Nova.$on("signage-map:popup-open",this.onNovaPopupOpen),Nova.$on("signage-map:popup-close",this.onNovaPopupClose)},beforeUnmount:function(){document.removeEventListener("keydown",this.handleKeydown),Nova.$off("signage-map:popup-open",this.onNovaPopupOpen),Nova.$off("signage-map:popup-close",this.onNovaPopupClose)},methods:{openGeoJSON:function(){window.open(this.geojsonUrl,"_blank")},handlePopupOpen:function(A){Nova.$emit("signage-map:popup-open",Lu(Lu({},A),{},{popupComponent:"signage-map"}))},handlePopupClose:function(A){Nova.$emit("signage-map:popup-close",A)},onNovaPopupOpen:function(A){var t=this;return Su(xu().m(function e(){var n,i,r,s,o,a,l;return xu().w(function(e){for(;;)switch(e.n){case 0:console.log("SignageMap: Nova popup-open received:",A),"signage-map"===A.popupComponent&&(t.currentPoleId=A.id,t.popupTitle=(null===(n=A.properties)||void 0===n?void 0:n.name)||(null===(i=A.properties)||void 0===i?void 0:i.tooltip),t.signageArrowsData=Lu(Lu({},null===(r=A.properties)||void 0===r?void 0:r.signage),{ref:null===(s=A.properties)||void 0===s?void 0:s.ref})||{},console.log("signageArrowsData",t.signageArrowsData),t.name=(null===(o=A.properties)||void 0===o?void 0:o.name)||"",t.description=(null===(a=A.properties)||void 0===a?void 0:a.description)||"",t.currentPoleOsmTags=(null===(l=A.properties)||void 0===l?void 0:l.osmTags)||null,t.currentFeaturesMap=A.featuresMap||null,t.showPopup=!0,t.loadMetaValue(A.featuresMap),t.loadAvailableHikingRoutes());case 1:return e.a(2)}},e)}))()},onNovaPopupClose:function(A){this.closePopup()},closePopup:function(){this.showPopup=!1,this.currentPoleId=null,this.popupTitle="",this.metaValue=!1,this.signageArrowsData={},this.name="",this.description="",this.currentPoleOsmTags=null,this.currentFeaturesMap=null,this.availableHikingRoutes=[],this.selectedHikingRouteIds=[]},handleKeydown:function(A){"Escape"===A.key&&this.showPopup&&this.closePopup()},loadMetaValue:function(A){if(this.currentPoleId){var t=parseInt(this.currentPoleId);if(this.cachedProperties){var e,n=(null===(e=this.cachedProperties)||void 0===e||null===(e=e.signage)||void 0===e?void 0:e.checkpoint)||[];this.metaValue=n.some(function(A){return parseInt(A)===t||String(A)===String(t)})}else{if(A)for(var i=0,r=Object.entries(A);i<r.length;i++){var s,o=vu(r[i],2),a=(o[0],null===(s=o[1].properties)||void 0===s||null===(s=s.signage)||void 0===s?void 0:s.checkpoint);if(a&&Array.isArray(a))return void(this.metaValue=a.some(function(A){return parseInt(A)===t||String(A)===String(t)}))}this.metaValue=!1}}else this.metaValue=!1},loadAvailableHikingRoutes:function(){var A=this;if(!this.currentPoleId||!this.currentFeaturesMap)return this.availableHikingRoutes=[],void(this.selectedHikingRouteIds=[]);for(var t=parseInt(this.currentPoleId),e=new Map,n=0,i=Object.entries(this.currentFeaturesMap);n<i.length;n++){var r,s,o=vu(i[n],2),a=(o[0],o[1]),l="point"===(null===(r=a.geometry)||void 0===r||null===(r=r.type)||void 0===r?void 0:r.toLowerCase()),c=null===(s=a.properties)||void 0===s?void 0:s.id;if(l&&c&&parseInt(c)===t){var h,u=null===(h=a.properties)||void 0===h?void 0:h.hikingRouteIds;if(u&&Array.isArray(u)){var d,g=_u(u);try{for(g.s();!(d=g.n()).done;){var f=d.value;if(!e.has(f)){for(var B=null,p=0,w=Object.entries(this.currentFeaturesMap);p<w.length;p++){var m,C,y=vu(w[p],2),Q=(y[0],y[1]),F=null===(m=Q.geometry)||void 0===m||null===(m=m.type)||void 0===m?void 0:m.toLowerCase();if(("linestring"===F||"multilinestring"===F)&&null!==(C=Q.properties)&&void 0!==C&&C.id&&parseInt(Q.properties.id)===f){var _,v;B=(null===(_=Q.properties)||void 0===_?void 0:_.name)||(null===(v=Q.properties)||void 0===v?void 0:v.tooltip)||null;break}}e.set(f,{id:parseInt(f),name:B||"HikingRoute #".concat(f)})}}}catch(A){g.e(A)}finally{g.f()}}else{var U,E=null===(U=a.properties)||void 0===U?void 0:U.hikingRouteId;if(E&&!e.has(E)){for(var x=null,b=0,I=Object.entries(this.currentFeaturesMap);b<I.length;b++){var S,H,L=vu(I[b],2),T=(L[0],L[1]),M=null===(S=T.geometry)||void 0===S||null===(S=S.type)||void 0===S?void 0:S.toLowerCase();if(("linestring"===M||"multilinestring"===M)&&null!==(H=T.properties)&&void 0!==H&&H.id&&parseInt(T.properties.id)===E){var D,K;x=(null===(D=T.properties)||void 0===D?void 0:D.name)||(null===(K=T.properties)||void 0===K?void 0:K.tooltip)||null;break}}e.set(E,{id:parseInt(E),name:x||"HikingRoute #".concat(E)})}}}}if(0===e.size)for(var R=0,k=Object.entries(this.currentFeaturesMap);R<k.length;R++){var O,P,G=vu(k[R],2),N=(G[0],G[1]),V=null===(O=N.geometry)||void 0===O||null===(O=O.type)||void 0===O?void 0:O.toLowerCase();if(("linestring"===V||"multilinestring"===V)&&null!==(P=N.properties)&&void 0!==P&&P.id){var X,W=null===(X=N.properties)||void 0===X||null===(X=X.signage)||void 0===X?void 0:X.checkpoint;if(W&&Array.isArray(W))if(W.some(function(A){return parseInt(A)===t||String(A)===String(t)})){var Y,j,J=parseInt(N.properties.id);if(!e.has(J))e.set(J,{id:J,name:(null===(Y=N.properties)||void 0===Y?void 0:Y.name)||(null===(j=N.properties)||void 0===j?void 0:j.tooltip)||"HikingRoute #".concat(J)})}}}this.availableHikingRoutes=Array.from(e.values()),this.availableHikingRoutes.sort(function(A,t){return A.id-t.id});for(var Z=parseInt(this.currentPoleId),z=[],q=function(){var t,e,n=vu(AA[$],2),i=(n[0],n[1]),r=null===(t=i.geometry)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.toLowerCase();if(("linestring"===r||"multilinestring"===r)&&null!==(e=i.properties)&&void 0!==e&&e.id){var s,o=null===(s=i.properties)||void 0===s||null===(s=s.signage)||void 0===s?void 0:s.checkpoint;if(o&&Array.isArray(o))if(o.some(function(A){return parseInt(A)===Z||String(A)===String(Z)})){var a=parseInt(i.properties.id);A.availableHikingRoutes.some(function(A){return A.id===a})&&z.push(a)}}},$=0,AA=Object.entries(this.currentFeaturesMap);$<AA.length;$++)q();z.length>0?this.selectedHikingRouteIds=z:this.availableHikingRoutes.length>0?this.selectedHikingRouteIds=[this.availableHikingRoutes[0].id]:this.selectedHikingRouteIds=[]},toggleMeta:function(){var A=this;return Su(xu().m(function t(){return xu().w(function(t){for(;;)switch(t.n){case 0:if(!A.isUpdatingMeta){t.n=1;break}return t.a(2);case 1:A.metaValue=!A.metaValue,A.metaValue||(A.name="",A.description="");case 2:return t.a(2)}},t)}))()},suggestPlaceName:function(){var A=this;return Su(xu().m(function t(){var e,n,i,r;return xu().w(function(t){for(;;)switch(t.p=t.n){case 0:if(A.currentPoleId&&!A.isLoadingSuggestion){t.n=1;break}return t.a(2);case 1:return A.isLoadingSuggestion=!0,t.p=2,t.n=3,Nova.request().get("/nova-vendor/signage-map/pole/".concat(A.currentPoleId,"/suggest-place-name"));case 3:i=t.v,null!==(e=i.data)&&void 0!==e&&e.success&&null!==(n=i.data)&&void 0!==n&&n.suggestedName&&(A.name=i.data.suggestedName),t.n=5;break;case 4:t.p=4,r=t.v,console.warn("Could not fetch place name suggestion:",r);case 5:return t.p=5,A.isLoadingSuggestion=!1,t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}))()},recoverOsmName:function(){this.hasOsmName&&(this.name=this.osmName)},findHikingRouteFromFeaturesMap:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===A){if(!this.currentPoleId)return null;A=parseInt(this.currentPoleId)}else A=parseInt(A);if(!this.currentFeaturesMap)return null;for(var t=0,e=Object.entries(this.currentFeaturesMap);t<e.length;t++){var n,i,r=vu(e[t],2),s=(r[0],r[1]),o="point"===(null===(n=s.geometry)||void 0===n||null===(n=n.type)||void 0===n?void 0:n.toLowerCase()),a=null===(i=s.properties)||void 0===i?void 0:i.id;if(o&&a&&parseInt(a)===A){var l,c=null===(l=s.properties)||void 0===l?void 0:l.hikingRouteId;if(c)return parseInt(c)}}for(var h=[],u=0,d=Object.entries(this.currentFeaturesMap);u<d.length;u++){var g,f,B,p,w=vu(d[u],2),m=(w[0],w[1]),C=null===(g=m.geometry)||void 0===g||null===(g=g.type)||void 0===g?void 0:g.toLowerCase();if(("linestring"===C||"multilinestring"===C)&&null!==(f=m.properties)&&void 0!==f&&f.id)h.push({id:parseInt(m.properties.id),feature:m,hasSignage:!(null===(B=m.properties)||void 0===B||!B.signage),hasCheckpoint:!(null===(p=m.properties)||void 0===p||null===(p=p.signage)||void 0===p||!p.checkpoint||!Array.isArray(m.properties.signage.checkpoint))})}if(0===h.length)return null;for(var y=0,Q=h;y<Q.length;y++){var F=Q[y];if(F.hasCheckpoint)if(F.feature.properties.signage.checkpoint.some(function(t){return parseInt(t)===A||String(t)===String(A)}))return F.id}for(var _=0,v=h;_<v.length;_++){var U=v[_];if(U.hasSignage)return U.id}return h[0].id},saveChanges:function(){var A=this;return Su(xu().m(function t(){var e,n,i,r,s,o,a,l,c,h,u,d;return xu().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!A.isUpdatingMeta&&A.currentPoleId){t.n=1;break}return t.a(2);case 1:if(!A.metaValue||A.name&&A.name.trim()){t.n=2;break}return t.a(2);case 2:if(A.isUpdatingMeta=!0,e=parseInt(A.currentPoleId),t.p=3,"signage-projects"!==A.resourceName){t.n=9;break}if(i=[],!(A.availableHikingRoutes.length>1&&A.selectedHikingRouteIds&&A.selectedHikingRouteIds.length>0)){t.n=5;break}if(0!==(i=A.selectedHikingRouteIds.map(function(A){return"number"==typeof A?A:parseInt(A)}).filter(function(t){var e=A.availableHikingRoutes.some(function(A){return A.id===t});return e||console.warn("HikingRoute ID non valido ignorato:",t),e})).length){t.n=4;break}return Nova.error("Nessuna HikingRoute valida selezionata. Seleziona almeno un'opzione valida."),A.isUpdatingMeta=!1,t.a(2);case 4:t.n=6;break;case 5:(r=A.findHikingRouteFromFeaturesMap(e))&&(i=[r]);case 6:if(0!==i.length){t.n=7;break}return Nova.error("Impossibile trovare l'HikingRoute che contiene questo palo"),A.isUpdatingMeta=!1,t.a(2);case 7:return s=i.map(function(t){var n,i="/nova-vendor/signage-map/hiking-route/".concat(t,"/properties");return Nova.request().patch(i,{poleId:e,add:A.metaValue,name:A.metaValue?A.name.trim():null,description:A.metaValue&&(null===(n=A.description)||void 0===n?void 0:n.trim())||null})}),t.n=8,Promise.all(s);case 8:(o=t.v).length>0&&o[o.length-1].data&&o[o.length-1].data.properties&&(A.cachedProperties=o[o.length-1].data.properties),a=i.length,Nova.success(A.metaValue?"Dati localit salvati con successo per ".concat(a," HikingRoute").concat(""):"Meta rimossa con successo da ".concat(a," HikingRoute").concat("")),t.n=12;break;case 9:if(n=A.resourceId||A.resource&&A.resource.id&&A.resource.id.value){t.n=10;break}return Nova.error("ID HikingRoute non trovato"),A.isUpdatingMeta=!1,t.a(2);case 10:return c="/nova-vendor/signage-map/hiking-route/".concat(n,"/properties"),t.n=11,Nova.request().patch(c,{poleId:e,add:A.metaValue,name:A.metaValue?A.name.trim():null,description:A.metaValue&&(null===(l=A.description)||void 0===l?void 0:l.trim())||null});case 11:(h=t.v).data&&h.data.properties&&(A.cachedProperties=h.data.properties),Nova.success(A.metaValue?"Dati localit salvati con successo":"Meta rimossa con successo");case 12:A.mapKey++,t.n=14;break;case 13:t.p=13,d=t.v,console.error("Errore durante il salvataggio:",d),Nova.error("Errore durante il salvataggio: "+((null===(u=d.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.error)||d.message||"Errore sconosciuto"));case 14:return t.p=14,A.isUpdatingMeta=!1,t.f(14);case 15:return t.a(2)}},t,null,[[3,13,14,15]])}))()},handleArrowDirectionChanged:function(A){var t=this;return Su(xu().m(function e(){var n,i,r,s,o,a;return xu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"DetailField.vue:handleArrowDirectionChanged",message:"Evento arrow-direction-changed ricevuto",data:{routeId:A.routeId,arrowIndex:A.arrowIndex,newDirection:A.newDirection,currentPoleId:t.currentPoleId},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(function(){}),t.currentPoleId){e.n=1;break}return fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"DetailField.vue:handleArrowDirectionChanged",message:"currentPoleId mancante, salto salvataggio",data:{},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(function(){}),e.a(2);case 1:return e.p=1,r=parseInt(t.currentPoleId),fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"DetailField.vue:handleArrowDirectionChanged",message:"Chiamata API per salvare direzione",data:{poleId:r,routeId:A.routeId,arrowIndex:A.arrowIndex,newDirection:A.newDirection},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(function(){}),e.n=2,Nova.request().patch("/nova-vendor/signage-map/pole/".concat(r,"/arrow-direction"),{routeId:A.routeId,arrowIndex:A.arrowIndex,newDirection:A.newDirection});case 2:s=e.v,fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"DetailField.vue:handleArrowDirectionChanged",message:"Risposta API ricevuta",data:{success:null===(n=s.data)||void 0===n?void 0:n.success,status:s.status},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(function(){}),null!==(i=s.data)&&void 0!==i&&i.signageData&&(t.signageArrowsData=s.data.signageData,fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"DetailField.vue:handleArrowDirectionChanged",message:"signageArrowsData aggiornato",data:{hasData:!!t.signageArrowsData},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(function(){})),Nova.success("Direzione freccia aggiornata con successo"),t.mapKey++,e.n=4;break;case 3:e.p=3,a=e.v,fetch("http://127.0.0.1:7243/ingest/d698a848-ad0a-4be9-8feb-9586ee30a5c3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"DetailField.vue:handleArrowDirectionChanged",message:"Errore durante salvataggio",data:{error:a.message,status:null===(o=a.response)||void 0===o?void 0:o.status},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(function(){}),console.error("Errore durante il salvataggio della direzione:",a),Nova.error("Errore durante il salvataggio della direzione");case 4:return e.a(2)}},e,null,[[1,3]])}))()},handleArrowOrderChanged:function(A){var t=this;return Su(xu().m(function e(){var n,i,r,s;return xu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.currentPoleId){e.n=1;break}return console.warn("currentPoleId mancante, salto salvataggio ordine frecce"),e.a(2);case 1:return e.p=1,i=parseInt(t.currentPoleId),e.n=2,Nova.request().patch("/nova-vendor/signage-map/pole/".concat(i,"/arrow-order"),{routeId:A.routeId,arrowOrder:A.arrowOrder});case 2:r=e.v,null!==(n=r.data)&&void 0!==n&&n.signageData&&(t.signageArrowsData=r.data.signageData),Nova.success("Ordine frecce aggiornato con successo"),t.mapKey++,e.n=4;break;case 3:e.p=3,s=e.v,console.error("Errore durante il salvataggio dell'ordine frecce:",s),Nova.error("Errore durante il salvataggio dell'ordine frecce");case 4:return e.a(2)}},e,null,[[1,3]])}))()}}},Du=(0,Nh.A)(Mu,[["render",function(A,t,e,r,S,H){var L=(0,n.resolveComponent)("FeatureCollectionMap"),T=(0,n.resolveComponent)("SignageArrowsDisplay"),M=(0,n.resolveComponent)("PanelItem");return(0,n.openBlock)(),(0,n.createBlock)(M,{index:e.index,field:e.field},{value:(0,n.withCtx)(function(){return[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(){return H.openGeoJSON&&H.openGeoJSON.apply(H,arguments)}),type:"button",class:"btn btn-default btn-primary",style:{"background-color":"#3490dc",color:"white",border:"none",padding:"8px 16px","border-radius":"4px",cursor:"pointer","font-size":"14px"}},[((0,n.openBlock)(),(0,n.createElementBlock)("svg",a,i(t[10]||(t[10]=[(0,n.createElementVNode)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},null,-1),(0,n.createElementVNode)("polyline",{points:"15 3 21 3 21 9"},null,-1),(0,n.createElementVNode)("line",{x1:"10",y1:"14",x2:"21",y2:"3"},null,-1)])))),t[11]||(t[11]=(0,n.createTextVNode)(" GeoJSON ",-1))])]),(0,n.createVNode)(L,{"geojson-url":H.geojsonUrl,height:e.field.height||500,"show-zoom-controls":!1!==e.field.showZoomControls,"mouse-wheel-zoom":!1!==e.field.mouseWheelZoom,"drag-pan":!1!==e.field.dragPan,"popup-component":"signage-map",onPopupOpen:H.handlePopupOpen,onPopupClose:H.handlePopupClose},null,8,["geojson-url","height","show-zoom-controls","mouse-wheel-zoom","drag-pan","onPopupOpen","onPopupClose"])]),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"body"},[S.showPopup?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("div",{class:"fixed inset-0 bg-gray-500/75 dark:bg-gray-900/75",onClick:t[1]||(t[1]=function(){return H.closePopup&&H.closePopup.apply(H,arguments)})}),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("h3",u,(0,n.toDisplayString)(S.popupTitle),1)]),(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("p",g,[t[12]||(t[12]=(0,n.createTextVNode)(" Palo selezionato: ",-1)),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)(S.popupTitle),1)]),(0,n.createElementVNode)("div",f,[t[13]||(t[13]=(0,n.createElementVNode)("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-1 block"}," Meta ",-1)),(0,n.createElementVNode)("button",{type:"button",onClick:t[2]||(t[2]=function(){return H.toggleMeta&&H.toggleMeta.apply(H,arguments)}),disabled:S.isUpdatingMeta,class:(0,n.normalizeClass)(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",[S.metaValue?"bg-primary-500":"bg-gray-200 dark:bg-gray-600"]]),role:"switch","aria-checked":S.metaValue},[(0,n.createElementVNode)("span",{class:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",style:(0,n.normalizeStyle)({transform:S.metaValue?"translateX(1.25rem)":"translateX(0)"})},null,4)],10,B)]),S.metaValue&&S.availableHikingRoutes.length>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[t[14]||(t[14]=(0,n.createElementVNode)("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-1 block"}," HikingRoute (puoi selezionarne pi di una) ",-1)),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=function(A){return S.selectedHikingRouteIds=A}),multiple:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white text-sm",style:{"min-height":"120px"}},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(S.availableHikingRoutes,function(A){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:A.id,value:A.id},(0,n.toDisplayString)(A.name||"HikingRoute #".concat(A.id)),9,w)}),128))],512),[[n.vModelSelect,S.selectedHikingRouteIds]]),t[15]||(t[15]=(0,n.createElementVNode)("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Questo palo appartiene a pi HikingRoute. Seleziona una o pi HikingRoute per associare la meta. Il bordo del palo sar multicolore se selezioni pi HikingRoute. ",-1))])):(0,n.createCommentVNode)("",!0),S.metaValue?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.createElementVNode)("label",C,[t[16]||(t[16]=(0,n.createTextVNode)(" Nome ",-1)),S.isLoadingSuggestion?((0,n.openBlock)(),(0,n.createElementBlock)("span",y,"(caricamento suggerimento...)")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Q,[t[17]||(t[17]=(0,n.createElementVNode)("label",{for:""},"suggerimenti",-1)),H.hasOsmName?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,type:"button",onClick:t[4]||(t[4]=function(){return H.recoverOsmName&&H.recoverOsmName.apply(H,arguments)}),class:"px-2 py-0.5 text-xs rounded font-medium cursor-pointer transition-colors shadow-sm border",style:{"background-color":"#3b82f6",color:"white","border-color":"#2563eb"}}," OSM: "+(0,n.toDisplayString)(H.osmName),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("button",{type:"button",onClick:t[5]||(t[5]=function(){return H.suggestPlaceName&&H.suggestPlaceName.apply(H,arguments)}),disabled:S.isLoadingSuggestion,class:"px-2 py-0.5 text-xs rounded font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm border",style:(0,n.normalizeStyle)([{"background-color":"#3b82f6",color:"white","border-color":"#2563eb"},S.isLoadingSuggestion?"opacity: 0.5;":"background-color: #3b82f6; color: white; border-color: #2563eb;"])}," da coordinate ",12,F)]),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(A){return S.name=A}),placeholder:S.isLoadingSuggestion?"Caricamento...":"Inserisci il nome della localit",disabled:S.isLoadingSuggestion,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white text-sm disabled:opacity-50"},null,8,_),[[n.vModelText,S.name]])])):(0,n.createCommentVNode)("",!0),S.metaValue?((0,n.openBlock)(),(0,n.createElementBlock)("div",v,[t[18]||(t[18]=(0,n.createElementVNode)("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-1 block"}," Descrizione ",-1)),(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(A){return S.description=A}),placeholder:"Inserisci una descrizione della localit",rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white text-sm resize-none"},null,512),[[n.vModelText,S.description]])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",U,[(0,n.createElementVNode)("button",{type:"button",onClick:t[8]||(t[8]=function(){return H.saveChanges&&H.saveChanges.apply(H,arguments)}),disabled:S.isUpdatingMeta||S.metaValue&&(!S.name||!S.name.trim()),class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"},(0,n.toDisplayString)(S.isUpdatingMeta?"Salvataggio...":"Aggiorna"),9,E)]),(0,n.createElementVNode)("div",x,[t[19]||(t[19]=(0,n.createElementVNode)("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-2 block"}," Segnaletica ",-1)),(0,n.createVNode)(T,{"signage-data":S.signageArrowsData,onArrowDirectionChanged:H.handleArrowDirectionChanged,onArrowOrderChanged:H.handleArrowOrderChanged},null,8,["signage-data","onArrowDirectionChanged","onArrowOrderChanged"])])]),(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("button",{type:"button",onClick:t[9]||(t[9]=function(){return H.closePopup&&H.closePopup.apply(H,arguments)}),class:"bg-white hover:bg-gray-100 text-gray-700 border border-gray-300 px-4 py-2 rounded font-medium cursor-pointer"}," Chiudi "),(0,n.createElementVNode)("a",{href:H.poleLink,target:"_blank",class:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded font-medium no-underline cursor-pointer inline-block"}," Vai al Palo ",8,I)])])])):(0,n.createCommentVNode)("",!0)]))]}),_:1},8,["index","field"])}]]);const Ku={name:"SignageMapFormField",props:["field","resourceName","resourceId"]},Ru=(0,Nh.A)(Ku,[["render",function(A,t,e,i,r,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div")}]]);const ku={name:"SignageMapIndexField",props:["field","resourceName","resourceId"]},Ou=(0,Nh.A)(ku,[["render",function(A,t,e,i,r,s){return(0,n.openBlock)(),(0,n.createElementBlock)("div")}]]);Nova.booting(function(A){A.component("detail-signage-map",Du),A.component("form-signage-map",Ru),A.component("index-signage-map",Ou)})},792:function(A){A.exports=function(){"use strict";var A=function(t,e){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,t){A.__proto__=t}||function(A,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(A[e]=t[e])},A(t,e)};function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var e=function(){return e=Object.assign||function(A){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i]);return A},e.apply(this,arguments)};function n(A,t,e,n){function i(A){return A instanceof e?A:new e(function(t){t(A)})}return new(e||(e=Promise))(function(e,r){function s(A){try{a(n.next(A))}catch(A){r(A)}}function o(A){try{a(n.throw(A))}catch(A){r(A)}}function a(A){A.done?e(A.value):i(A.value).then(s,o)}a((n=n.apply(A,t||[])).next())})}function i(A,t){var e,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(A){return function(t){return a([A,t])}}function a(r){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(A,s)}catch(A){r=[6,A],n=0}finally{e=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}function r(A,t,e){if(e||2===arguments.length)for(var n,i=0,r=t.length;i<r;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return A.concat(n||t)}for(var s=function(){function A(A,t,e,n){this.left=A,this.top=t,this.width=e,this.height=n}return A.prototype.add=function(t,e,n,i){return new A(this.left+t,this.top+e,this.width+n,this.height+i)},A.fromClientRect=function(t,e){return new A(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},A.fromDOMRectList=function(t,e){var n=Array.from(e).find(function(A){return 0!==A.width});return n?new A(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A}(),o=function(A,t){return s.fromClientRect(A,t.getBoundingClientRect())},a=function(A){var t=A.body,e=A.documentElement;if(!t||!e)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),i=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new s(0,0,n,i)},l=function(A){for(var t=[],e=0,n=A.length;e<n;){var i=A.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){var r=A.charCodeAt(e++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),e--)}else t.push(i)}return t},c=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var e=A.length;if(!e)return"";for(var n=[],i=-1,r="";++i<e;){var s=A[i];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(i+1===e||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<h.length;d++)u[h.charCodeAt(d)]=d;for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256),B=0;B<g.length;B++)f[g.charCodeAt(B)]=B;for(var p=function(A){var t,e,n,i,r,s=.75*A.length,o=A.length,a=0;"="===A[A.length-1]&&(s--,"="===A[A.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)e=f[A.charCodeAt(t)],n=f[A.charCodeAt(t+1)],i=f[A.charCodeAt(t+2)],r=f[A.charCodeAt(t+3)],c[a++]=e<<2|n>>4,c[a++]=(15&n)<<4|i>>2,c[a++]=(3&i)<<6|63&r;return l},w=function(A){for(var t=A.length,e=[],n=0;n<t;n+=2)e.push(A[n+1]<<8|A[n]);return e},m=function(A){for(var t=A.length,e=[],n=0;n<t;n+=4)e.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return e},C=5,y=11,Q=2,F=65536>>C,_=(1<<C)-1,v=F+(1024>>C)+32,U=65536>>y,E=(1<<y-C)-1,x=function(A,t,e){return A.slice?A.slice(t,e):new Uint16Array(Array.prototype.slice.call(A,t,e))},b=function(A,t,e){return A.slice?A.slice(t,e):new Uint32Array(Array.prototype.slice.call(A,t,e))},I=function(A,t){var e=p(A),n=Array.isArray(e)?m(e):new Uint32Array(e),i=Array.isArray(e)?w(e):new Uint16Array(e),r=24,s=x(i,r/2,n[4]/2),o=2===n[5]?x(i,(r+n[4])/2):b(n,Math.ceil((r+n[4])/4));return new S(n[0],n[1],n[2],n[3],s,o)},S=function(){function A(A,t,e,n,i,r){this.initialValue=A,this.errorValue=t,this.highStart=e,this.highValueIndex=n,this.index=i,this.data=r}return A.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=((t=this.index[A>>C])<<Q)+(A&_),this.data[t];if(A<=65535)return t=((t=this.index[F+(A-55296>>C)])<<Q)+(A&_),this.data[t];if(A<this.highStart)return t=v-U+(A>>y),t=this.index[t],t+=A>>C&E,t=((t=this.index[t])<<Q)+(A&_),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="undefined"==typeof Uint8Array?[]:new Uint8Array(256),T=0;T<H.length;T++)L[H.charCodeAt(T)]=T;var M=50,D=1,K=2,R=3,k=4,O=5,P=7,G=8,N=9,V=10,X=11,W=12,Y=13,j=14,J=15,Z=16,z=17,q=18,$=19,AA=20,tA=21,eA=22,nA=23,iA=24,rA=25,sA=26,oA=27,aA=28,lA=29,cA=30,hA=31,uA=32,dA=33,gA=34,fA=35,BA=36,pA=37,wA=38,mA=39,CA=40,yA=41,QA=42,FA=43,_A=[9001,65288],vA="!",UA="",EA="",xA=I("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),bA=[cA,BA],IA=[D,K,R,O],SA=[V,G],HA=[oA,sA],LA=IA.concat(SA),TA=[wA,mA,CA,gA,fA],MA=[J,Y],DA=function(A,t){void 0===t&&(t="strict");var e=[],n=[],i=[];return A.forEach(function(A,r){var s=xA.get(A);if(s>M?(i.push(!0),s-=M):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(A))return n.push(r),e.push(Z);if(s===k||s===X){if(0===r)return n.push(r),e.push(cA);var o=e[r-1];return-1===LA.indexOf(o)?(n.push(n[r-1]),e.push(o)):(n.push(r),e.push(cA))}return n.push(r),s===hA?e.push("strict"===t?tA:pA):s===QA||s===lA?e.push(cA):s===FA?A>=131072&&A<=196605||A>=196608&&A<=262141?e.push(pA):e.push(cA):void e.push(s)}),[n,e,i]},KA=function(A,t,e,n){var i=n[e];if(Array.isArray(A)?-1!==A.indexOf(i):A===i)for(var r=e;r<=n.length;){if((a=n[++r])===t)return!0;if(a!==V)break}if(i===V)for(r=e;r>0;){var s=n[--r];if(Array.isArray(A)?-1!==A.indexOf(s):A===s)for(var o=e;o<=n.length;){var a;if((a=n[++o])===t)return!0;if(a!==V)break}if(s!==V)break}return!1},RA=function(A,t){for(var e=A;e>=0;){var n=t[e];if(n!==V)return n;e--}return 0},kA=function(A,t,e,n,i){if(0===e[n])return UA;var r=n-1;if(Array.isArray(i)&&!0===i[r])return UA;var s=r-1,o=r+1,a=t[r],l=s>=0?t[s]:0,c=t[o];if(a===K&&c===R)return UA;if(-1!==IA.indexOf(a))return vA;if(-1!==IA.indexOf(c))return UA;if(-1!==SA.indexOf(c))return UA;if(RA(r,t)===G)return EA;if(xA.get(A[r])===X)return UA;if((a===uA||a===dA)&&xA.get(A[o])===X)return UA;if(a===P||c===P)return UA;if(a===N)return UA;if(-1===[V,Y,J].indexOf(a)&&c===N)return UA;if(-1!==[z,q,$,iA,aA].indexOf(c))return UA;if(RA(r,t)===eA)return UA;if(KA(nA,eA,r,t))return UA;if(KA([z,q],tA,r,t))return UA;if(KA(W,W,r,t))return UA;if(a===V)return EA;if(a===nA||c===nA)return UA;if(c===Z||a===Z)return EA;if(-1!==[Y,J,tA].indexOf(c)||a===j)return UA;if(l===BA&&-1!==MA.indexOf(a))return UA;if(a===aA&&c===BA)return UA;if(c===AA)return UA;if(-1!==bA.indexOf(c)&&a===rA||-1!==bA.indexOf(a)&&c===rA)return UA;if(a===oA&&-1!==[pA,uA,dA].indexOf(c)||-1!==[pA,uA,dA].indexOf(a)&&c===sA)return UA;if(-1!==bA.indexOf(a)&&-1!==HA.indexOf(c)||-1!==HA.indexOf(a)&&-1!==bA.indexOf(c))return UA;if(-1!==[oA,sA].indexOf(a)&&(c===rA||-1!==[eA,J].indexOf(c)&&t[o+1]===rA)||-1!==[eA,J].indexOf(a)&&c===rA||a===rA&&-1!==[rA,aA,iA].indexOf(c))return UA;if(-1!==[rA,aA,iA,z,q].indexOf(c))for(var h=r;h>=0;){if((u=t[h])===rA)return UA;if(-1===[aA,iA].indexOf(u))break;h--}if(-1!==[oA,sA].indexOf(c))for(h=-1!==[z,q].indexOf(a)?s:r;h>=0;){var u;if((u=t[h])===rA)return UA;if(-1===[aA,iA].indexOf(u))break;h--}if(wA===a&&-1!==[wA,mA,gA,fA].indexOf(c)||-1!==[mA,gA].indexOf(a)&&-1!==[mA,CA].indexOf(c)||-1!==[CA,fA].indexOf(a)&&c===CA)return UA;if(-1!==TA.indexOf(a)&&-1!==[AA,sA].indexOf(c)||-1!==TA.indexOf(c)&&a===oA)return UA;if(-1!==bA.indexOf(a)&&-1!==bA.indexOf(c))return UA;if(a===iA&&-1!==bA.indexOf(c))return UA;if(-1!==bA.concat(rA).indexOf(a)&&c===eA&&-1===_A.indexOf(A[o])||-1!==bA.concat(rA).indexOf(c)&&a===q)return UA;if(a===yA&&c===yA){for(var d=e[r],g=1;d>0&&t[--d]===yA;)g++;if(g%2!=0)return UA}return a===uA&&c===dA?UA:EA},OA=function(A,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=DA(A,t.lineBreak),n=e[0],i=e[1],r=e[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map(function(A){return-1!==[rA,cA,QA].indexOf(A)?pA:A}));var s="keep-all"===t.wordBreak?r.map(function(t,e){return t&&A[e]>=19968&&A[e]<=40959}):void 0;return[n,i,s]},PA=function(){function A(A,t,e,n){this.codePoints=A,this.required=t===vA,this.start=e,this.end=n}return A.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},A}(),GA=function(A,t){var e=l(A),n=OA(e,t),i=n[0],r=n[1],s=n[2],o=e.length,a=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var A=UA;c<o&&(A=kA(e,r,i,++c,s))===UA;);if(A!==UA||c===o){var t=new PA(e,A,a,c);return a=c,{value:t,done:!1}}return{done:!0,value:null}}}},NA=1,VA=2,XA=4,WA=8,YA=10,jA=47,JA=92,ZA=9,zA=32,qA=34,$A=61,At=35,tt=36,et=37,nt=39,it=40,rt=41,st=95,ot=45,at=33,lt=60,ct=62,ht=64,ut=91,dt=93,gt=61,ft=123,Bt=63,pt=125,wt=124,mt=126,Ct=128,yt=65533,Qt=42,Ft=43,_t=44,vt=58,Ut=59,Et=46,xt=0,bt=8,It=11,St=14,Ht=31,Lt=127,Tt=-1,Mt=48,Dt=97,Kt=101,Rt=102,kt=117,Ot=122,Pt=65,Gt=69,Nt=70,Vt=85,Xt=90,Wt=function(A){return A>=Mt&&A<=57},Yt=function(A){return A>=55296&&A<=57343},jt=function(A){return Wt(A)||A>=Pt&&A<=Nt||A>=Dt&&A<=Rt},Jt=function(A){return A>=Dt&&A<=Ot},Zt=function(A){return A>=Pt&&A<=Xt},zt=function(A){return Jt(A)||Zt(A)},qt=function(A){return A>=Ct},$t=function(A){return A===YA||A===ZA||A===zA},Ae=function(A){return zt(A)||qt(A)||A===st},te=function(A){return Ae(A)||Wt(A)||A===ot},ee=function(A){return A>=xt&&A<=bt||A===It||A>=St&&A<=Ht||A===Lt},ne=function(A,t){return A===JA&&t!==YA},ie=function(A,t,e){return A===ot?Ae(t)||ne(t,e):!!Ae(A)||!(A!==JA||!ne(A,t))},re=function(A,t,e){return A===Ft||A===ot?!!Wt(t)||t===Et&&Wt(e):Wt(A===Et?t:A)},se=function(A){var t=0,e=1;A[t]!==Ft&&A[t]!==ot||(A[t]===ot&&(e=-1),t++);for(var n=[];Wt(A[t]);)n.push(A[t++]);var i=n.length?parseInt(c.apply(void 0,n),10):0;A[t]===Et&&t++;for(var r=[];Wt(A[t]);)r.push(A[t++]);var s=r.length,o=s?parseInt(c.apply(void 0,r),10):0;A[t]!==Gt&&A[t]!==Kt||t++;var a=1;A[t]!==Ft&&A[t]!==ot||(A[t]===ot&&(a=-1),t++);for(var l=[];Wt(A[t]);)l.push(A[t++]);var h=l.length?parseInt(c.apply(void 0,l),10):0;return e*(i+o*Math.pow(10,-s))*Math.pow(10,a*h)},oe={type:2},ae={type:3},le={type:4},ce={type:13},he={type:8},ue={type:21},de={type:9},ge={type:10},fe={type:11},Be={type:12},pe={type:14},we={type:23},me={type:1},Ce={type:25},ye={type:24},Qe={type:26},Fe={type:27},_e={type:28},ve={type:29},Ue={type:31},Ee={type:32},xe=function(){function A(){this._value=[]}return A.prototype.write=function(A){this._value=this._value.concat(l(A))},A.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==Ee;)A.push(t),t=this.consumeToken();return A},A.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case qA:return this.consumeStringToken(qA);case At:var t=this.peekCodePoint(0),e=this.peekCodePoint(1),n=this.peekCodePoint(2);if(te(t)||ne(e,n)){var i=ie(t,e,n)?VA:NA;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===$A)return this.consumeCodePoint(),ce;break;case nt:return this.consumeStringToken(nt);case it:return oe;case rt:return ae;case Qt:if(this.peekCodePoint(0)===$A)return this.consumeCodePoint(),pe;break;case Ft:if(re(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case _t:return le;case ot:var r=A,s=this.peekCodePoint(0),o=this.peekCodePoint(1);if(re(r,s,o))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(ie(r,s,o))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(s===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),ye;break;case Et:if(re(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case jA:if(this.peekCodePoint(0)===Qt)for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(a===Qt&&(a=this.consumeCodePoint())===jA)return this.consumeToken();if(a===Tt)return this.consumeToken()}break;case vt:return Qe;case Ut:return Fe;case lt:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),Ce;break;case ht:var l=this.peekCodePoint(0),h=this.peekCodePoint(1),u=this.peekCodePoint(2);if(ie(l,h,u))return{type:7,value:this.consumeName()};break;case ut:return _e;case JA:if(ne(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case dt:return ve;case gt:if(this.peekCodePoint(0)===$A)return this.consumeCodePoint(),he;break;case ft:return fe;case pt:return Be;case kt:case Vt:var d=this.peekCodePoint(0),g=this.peekCodePoint(1);return d!==Ft||!jt(g)&&g!==Bt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case wt:if(this.peekCodePoint(0)===$A)return this.consumeCodePoint(),de;if(this.peekCodePoint(0)===wt)return this.consumeCodePoint(),ue;break;case mt:if(this.peekCodePoint(0)===$A)return this.consumeCodePoint(),ge;break;case Tt:return Ee}return $t(A)?(this.consumeWhiteSpace(),Ue):Wt(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):Ae(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:c(A)}},A.prototype.consumeCodePoint=function(){var A=this._value.shift();return void 0===A?-1:A},A.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},A.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},A.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();jt(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var e=!1;t===Bt&&A.length<6;)A.push(t),t=this.consumeCodePoint(),e=!0;if(e)return{type:30,start:parseInt(c.apply(void 0,A.map(function(A){return A===Bt?Mt:A})),16),end:parseInt(c.apply(void 0,A.map(function(A){return A===Bt?Nt:A})),16)};var n=parseInt(c.apply(void 0,A),16);if(this.peekCodePoint(0)===ot&&jt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];jt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:n,end:n}},A.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return"url"===A.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},A.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===nt||t===qA){var e=this.consumeStringToken(this.consumeCodePoint());return 0===e.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tt||this.peekCodePoint(0)===rt)?(this.consumeCodePoint(),{type:22,value:e.value}):(this.consumeBadUrlRemnants(),we)}for(;;){var n=this.consumeCodePoint();if(n===Tt||n===rt)return{type:22,value:c.apply(void 0,A)};if($t(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Tt||this.peekCodePoint(0)===rt?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,A)}):(this.consumeBadUrlRemnants(),we);if(n===qA||n===nt||n===it||ee(n))return this.consumeBadUrlRemnants(),we;if(n===JA){if(!ne(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),we;A.push(this.consumeEscapedCodePoint())}else A.push(n)}},A.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===rt||A===Tt)return;ne(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(A){for(var t=5e4,e="";A>0;){var n=Math.min(t,A);e+=c.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),e},A.prototype.consumeStringToken=function(A){for(var t="",e=0;;){var n=this._value[e];if(n===Tt||void 0===n||n===A)return{type:0,value:t+=this.consumeStringSlice(e)};if(n===YA)return this._value.splice(0,e),me;if(n===JA){var i=this._value[e+1];i!==Tt&&void 0!==i&&(i===YA?(t+=this.consumeStringSlice(e),e=-1,this._value.shift()):ne(n,i)&&(t+=this.consumeStringSlice(e),t+=c(this.consumeEscapedCodePoint()),e=-1))}e++}},A.prototype.consumeNumber=function(){var A=[],t=XA,e=this.peekCodePoint(0);for(e!==Ft&&e!==ot||A.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)A.push(this.consumeCodePoint());e=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(e===Et&&Wt(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=WA;Wt(this.peekCodePoint(0));)A.push(this.consumeCodePoint());e=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((e===Gt||e===Kt)&&((n===Ft||n===ot)&&Wt(i)||Wt(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=WA;Wt(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[se(A),t]},A.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],e=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);return ie(n,i,r)?{type:15,number:t,flags:e,unit:this.consumeName()}:n===et?(this.consumeCodePoint(),{type:16,number:t,flags:e}):{type:17,number:t,flags:e}},A.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(jt(A)){for(var t=c(A);jt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var e=parseInt(t,16);return 0===e||Yt(e)||e>1114111?yt:e}return A===Tt?yt:A},A.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(te(t))A+=c(t);else{if(!ne(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),A;A+=c(this.consumeEscapedCodePoint())}}},A}(),be=function(){function A(A){this._tokens=A}return A.create=function(t){var e=new xe;return e.write(t),new A(e.read())},A.parseValue=function(t){return A.create(t).parseComponentValue()},A.parseValues=function(t){return A.create(t).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var A=this.consumeToken();31===A.type;)A=this.consumeToken();if(32===A.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do{A=this.consumeToken()}while(31===A.type);if(32===A.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(32===t.type)return A;A.push(t),A.push()}},A.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},A.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},e=this.consumeToken();;){if(32===e.type||Re(e,A))return t;this.reconsumeToken(e),t.values.push(this.consumeComponentValue()),e=this.consumeToken()}},A.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var e=this.consumeToken();if(32===e.type||3===e.type)return t;this.reconsumeToken(e),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var A=this._tokens.shift();return void 0===A?Ee:A},A.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},A}(),Ie=function(A){return 15===A.type},Se=function(A){return 17===A.type},He=function(A){return 20===A.type},Le=function(A){return 0===A.type},Te=function(A,t){return He(A)&&A.value===t},Me=function(A){return 31!==A.type},De=function(A){return 31!==A.type&&4!==A.type},Ke=function(A){var t=[],e=[];return A.forEach(function(A){if(4===A.type){if(0===e.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(e),void(e=[])}31!==A.type&&e.push(A)}),e.length&&t.push(e),t},Re=function(A,t){return 11===t&&12===A.type||28===t&&29===A.type||2===t&&3===A.type},ke=function(A){return 17===A.type||15===A.type},Oe=function(A){return 16===A.type||ke(A)},Pe=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},Ge={type:17,number:0,flags:XA},Ne={type:16,number:50,flags:XA},Ve={type:16,number:100,flags:XA},Xe=function(A,t,e){var n=A[0],i=A[1];return[We(n,t),We(void 0!==i?i:n,e)]},We=function(A,t){if(16===A.type)return A.number/100*t;if(Ie(A))switch(A.unit){case"rem":case"em":return 16*A.number;default:return A.number}return A.number},Ye="deg",je="grad",Je="rad",Ze="turn",ze={name:"angle",parse:function(A,t){if(15===t.type)switch(t.unit){case Ye:return Math.PI*t.number/180;case je:return Math.PI/200*t.number;case Je:return t.number;case Ze:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},qe=function(A){return 15===A.type&&(A.unit===Ye||A.unit===je||A.unit===Je||A.unit===Ze)},$e=function(A){switch(A.filter(He).map(function(A){return A.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ge,Ge];case"to top":case"bottom":return An(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ge,Ve];case"to right":case"left":return An(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ve,Ve];case"to bottom":case"top":return An(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ve,Ge];case"to left":case"right":return An(270)}return 0},An=function(A){return Math.PI*A/180},tn={name:"color",parse:function(A,t){if(18===t.type){var e=cn[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(A,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);return rn(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===t.value.length){n=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);var s=t.value.substring(3,4);return rn(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),rn(parseInt(n,16),parseInt(i,16),parseInt(r,16),1);if(8===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),s=t.value.substring(6,8),rn(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(s,16)/255)}if(20===t.type){var o=un[t.value.toUpperCase()];if(void 0!==o)return o}return un.TRANSPARENT}},en=function(A){return!(255&A)},nn=function(A){var t=255&A,e=255&A>>8,n=255&A>>16,i=255&A>>24;return t<255?"rgba("+i+","+n+","+e+","+t/255+")":"rgb("+i+","+n+","+e+")"},rn=function(A,t,e,n){return(A<<24|t<<16|e<<8|Math.round(255*n))>>>0},sn=function(A,t){if(17===A.type)return A.number;if(16===A.type){var e=3===t?1:255;return 3===t?A.number/100*e:Math.round(A.number/100*e)}return 0},on=function(A,t){var e=t.filter(De);if(3===e.length){var n=e.map(sn),i=n[0],r=n[1],s=n[2];return rn(i,r,s,1)}if(4===e.length){var o=e.map(sn),a=(i=o[0],r=o[1],s=o[2],o[3]);return rn(i,r,s,a)}return 0};function an(A,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-A)*e*6+A:e<.5?t:e<2/3?6*(t-A)*(2/3-e)+A:A}var ln=function(A,t){var e=t.filter(De),n=e[0],i=e[1],r=e[2],s=e[3],o=(17===n.type?An(n.number):ze.parse(A,n))/(2*Math.PI),a=Oe(i)?i.number/100:0,l=Oe(r)?r.number/100:0,c=void 0!==s&&Oe(s)?We(s,1):1;if(0===a)return rn(255*l,255*l,255*l,1);var h=l<=.5?l*(a+1):l+a-l*a,u=2*l-h,d=an(u,h,o+1/3),g=an(u,h,o),f=an(u,h,o-1/3);return rn(255*d,255*g,255*f,c)},cn={hsl:ln,hsla:ln,rgb:on,rgba:on},hn=function(A,t){return tn.parse(A,be.create(t).parseComponentValue())},un={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dn={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,t){return t.map(function(A){if(He(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fn=function(A,t){var e=tn.parse(A,t[0]),n=t[1];return n&&Oe(n)?{color:e,stop:n}:{color:e,stop:null}},Bn=function(A,t){var e=A[0],n=A[A.length-1];null===e.stop&&(e.stop=Ge),null===n.stop&&(n.stop=Ve);for(var i=[],r=0,s=0;s<A.length;s++){var o=A[s].stop;if(null!==o){var a=We(o,t);a>r?i.push(a):i.push(r),r=a}else i.push(null)}var l=null;for(s=0;s<i.length;s++){var c=i[s];if(null===c)null===l&&(l=s);else if(null!==l){for(var h=s-l,u=(c-i[l-1])/(h+1),d=1;d<=h;d++)i[l+d-1]=u*d;l=null}}return A.map(function(A,e){return{color:A.color,stop:Math.max(Math.min(1,i[e]/t),0)}})},pn=function(A,t,e){var n=t/2,i=e/2,r=We(A[0],t)-n,s=i-We(A[1],e);return(Math.atan2(s,r)+2*Math.PI)%(2*Math.PI)},wn=function(A,t,e){var n="number"==typeof A?A:pn(A,t,e),i=Math.abs(t*Math.sin(n))+Math.abs(e*Math.cos(n)),r=t/2,s=e/2,o=i/2,a=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,r-l,r+l,s-a,s+a]},mn=function(A,t){return Math.sqrt(A*A+t*t)},Cn=function(A,t,e,n,i){return[[0,0],[0,t],[A,0],[A,t]].reduce(function(A,t){var r=t[0],s=t[1],o=mn(e-r,n-s);return(i?o<A.optimumDistance:o>A.optimumDistance)?{optimumCorner:t,optimumDistance:o}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},yn=function(A,t,e,n,i){var r=0,s=0;switch(A.size){case 0:0===A.shape?r=s=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-i)):1===A.shape&&(r=Math.min(Math.abs(t),Math.abs(t-n)),s=Math.min(Math.abs(e),Math.abs(e-i)));break;case 2:if(0===A.shape)r=s=Math.min(mn(t,e),mn(t,e-i),mn(t-n,e),mn(t-n,e-i));else if(1===A.shape){var o=Math.min(Math.abs(e),Math.abs(e-i))/Math.min(Math.abs(t),Math.abs(t-n)),a=Cn(n,i,t,e,!0),l=a[0],c=a[1];s=o*(r=mn(l-t,(c-e)/o))}break;case 1:0===A.shape?r=s=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-i)):1===A.shape&&(r=Math.max(Math.abs(t),Math.abs(t-n)),s=Math.max(Math.abs(e),Math.abs(e-i)));break;case 3:if(0===A.shape)r=s=Math.max(mn(t,e),mn(t,e-i),mn(t-n,e),mn(t-n,e-i));else if(1===A.shape){o=Math.max(Math.abs(e),Math.abs(e-i))/Math.max(Math.abs(t),Math.abs(t-n));var h=Cn(n,i,t,e,!1);l=h[0],c=h[1],s=o*(r=mn(l-t,(c-e)/o))}}return Array.isArray(A.size)&&(r=We(A.size[0],n),s=2===A.size.length?We(A.size[1],i):r),[r,s]},Qn=function(A,t){var e=An(180),n=[];return Ke(t).forEach(function(t,i){if(0===i){var r=t[0];if(20===r.type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(e=$e(t));if(qe(r))return void(e=(ze.parse(A,r)+An(270))%An(360))}var s=fn(A,t);n.push(s)}),{angle:e,stops:n,type:1}},Fn="closest-side",_n="farthest-side",vn="closest-corner",Un="farthest-corner",En="circle",xn="ellipse",bn="cover",In="contain",Sn=function(A,t){var e=0,n=3,i=[],r=[];return Ke(t).forEach(function(t,s){var o=!0;if(0===s?o=t.reduce(function(A,t){if(He(t))switch(t.value){case"center":return r.push(Ne),!1;case"top":case"left":return r.push(Ge),!1;case"right":case"bottom":return r.push(Ve),!1}else if(Oe(t)||ke(t))return r.push(t),!1;return A},o):1===s&&(o=t.reduce(function(A,t){if(He(t))switch(t.value){case En:return e=0,!1;case xn:return e=1,!1;case In:case Fn:return n=0,!1;case _n:return n=1,!1;case vn:return n=2,!1;case bn:case Un:return n=3,!1}else if(ke(t)||Oe(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return A},o)),o){var a=fn(A,t);i.push(a)}}),{size:n,shape:e,stops:i,position:r,type:2}},Hn=function(A){return 1===A.type},Ln=function(A){return 2===A.type},Tn={name:"image",parse:function(A,t){if(22===t.type){var e={url:t.value,type:0};return A.cache.addImage(t.value),e}if(18===t.type){var n=Kn[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(A,t.values)}throw new Error("Unsupported image type "+t.type)}};function Mn(A){return!(20===A.type&&"none"===A.value||18===A.type&&!Kn[A.name])}var Dn,Kn={"linear-gradient":function(A,t){var e=An(180),n=[];return Ke(t).forEach(function(t,i){if(0===i){var r=t[0];if(20===r.type&&"to"===r.value)return void(e=$e(t));if(qe(r))return void(e=ze.parse(A,r))}var s=fn(A,t);n.push(s)}),{angle:e,stops:n,type:1}},"-moz-linear-gradient":Qn,"-ms-linear-gradient":Qn,"-o-linear-gradient":Qn,"-webkit-linear-gradient":Qn,"radial-gradient":function(A,t){var e=0,n=3,i=[],r=[];return Ke(t).forEach(function(t,s){var o=!0;if(0===s){var a=!1;o=t.reduce(function(A,t){if(a)if(He(t))switch(t.value){case"center":return r.push(Ne),A;case"top":case"left":return r.push(Ge),A;case"right":case"bottom":return r.push(Ve),A}else(Oe(t)||ke(t))&&r.push(t);else if(He(t))switch(t.value){case En:return e=0,!1;case xn:return e=1,!1;case"at":return a=!0,!1;case Fn:return n=0,!1;case bn:case _n:return n=1,!1;case In:case vn:return n=2,!1;case Un:return n=3,!1}else if(ke(t)||Oe(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return A},o)}if(o){var l=fn(A,t);i.push(l)}}),{size:n,shape:e,stops:i,position:r,type:2}},"-moz-radial-gradient":Sn,"-ms-radial-gradient":Sn,"-o-radial-gradient":Sn,"-webkit-radial-gradient":Sn,"-webkit-gradient":function(A,t){var e=An(180),n=[],i=1,r=0,s=3,o=[];return Ke(t).forEach(function(t,e){var r=t[0];if(0===e){if(He(r)&&"linear"===r.value)return void(i=1);if(He(r)&&"radial"===r.value)return void(i=2)}if(18===r.type)if("from"===r.name){var s=tn.parse(A,r.values[0]);n.push({stop:Ge,color:s})}else if("to"===r.name)s=tn.parse(A,r.values[0]),n.push({stop:Ve,color:s});else if("color-stop"===r.name){var o=r.values.filter(De);if(2===o.length){s=tn.parse(A,o[1]);var a=o[0];Se(a)&&n.push({stop:{type:16,number:100*a.number,flags:a.flags},color:s})}}}),1===i?{angle:(e+An(180))%An(360),stops:n,type:i}:{size:s,shape:r,stops:n,position:o,type:i}}},Rn={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,t){if(0===t.length)return[];var e=t[0];return 20===e.type&&"none"===e.value?[]:t.filter(function(A){return De(A)&&Mn(A)}).map(function(t){return Tn.parse(A,t)})}},kn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,t){return t.map(function(A){if(He(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},On={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,t){return Ke(t).map(function(A){return A.filter(Oe)}).map(Pe)}},Pn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,t){return Ke(t).map(function(A){return A.filter(He).map(function(A){return A.value}).join(" ")}).map(Gn)}},Gn=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(A){A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover"}(Dn||(Dn={}));var Nn,Vn={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,t){return Ke(t).map(function(A){return A.filter(Xn)})}},Xn=function(A){return He(A)||Oe(A)},Wn=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Yn=Wn("top"),jn=Wn("right"),Jn=Wn("bottom"),Zn=Wn("left"),zn=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return Pe(t.filter(Oe))}}},qn=zn("top-left"),$n=zn("top-right"),Ai=zn("bottom-right"),ti=zn("bottom-left"),ei=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ni=ei("top"),ii=ei("right"),ri=ei("bottom"),si=ei("left"),oi=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return Ie(t)?t.number:0}}},ai=oi("top"),li=oi("right"),ci=oi("bottom"),hi=oi("left"),ui={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,t){return"rtl"===t?1:0}},gi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,t){return t.filter(He).reduce(function(A,t){return A|fi(t.value)},0)}},fi=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Bi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(A){A.NORMAL="normal",A.STRICT="strict"}(Nn||(Nn={}));var wi,mi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){return"strict"===t?Nn.STRICT:Nn.NORMAL}},Ci={name:"line-height",initialValue:"normal",prefix:!1,type:4},yi=function(A,t){return He(A)&&"normal"===A.value?1.2*t:17===A.type?t*A.number:Oe(A)?We(A,t):t},Qi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,t){return 20===t.type&&"none"===t.value?null:Tn.parse(A,t)}},Fi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,t){return"inside"===t?0:1}},_i={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},vi=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},Ui=vi("top"),Ei=vi("right"),xi=vi("bottom"),bi=vi("left"),Ii={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,t){return t.filter(He).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Si={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){return"break-word"===t?"break-word":"normal"}},Hi=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Li=Hi("top"),Ti=Hi("right"),Mi=Hi("bottom"),Di=Hi("left"),Ki={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ri={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ki={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,t){return 1===t.length&&Te(t[0],"none")?[]:Ke(t).map(function(t){for(var e={color:un.TRANSPARENT,offsetX:Ge,offsetY:Ge,blur:Ge},n=0,i=0;i<t.length;i++){var r=t[i];ke(r)?(0===n?e.offsetX=r:1===n?e.offsetY=r:e.blur=r,n++):e.color=tn.parse(A,r)}return e})}},Oi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Pi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var e=Gi[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},Gi={matrix:function(A){var t=A.filter(function(A){return 17===A.type}).map(function(A){return A.number});return 6===t.length?t:null},matrix3d:function(A){var t=A.filter(function(A){return 17===A.type}).map(function(A){return A.number}),e=t[0],n=t[1];t[2],t[3];var i=t[4],r=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],o=t[13];return t[14],t[15],16===t.length?[e,n,i,r,s,o]:null}},Ni={type:16,number:50,flags:XA},Vi=[Ni,Ni],Xi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,t){var e=t.filter(Oe);return 2!==e.length?Vi:[e[0],e[1]]}},Wi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(A){A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all"}(wi||(wi={}));for(var Yi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){switch(t){case"break-all":return wi.BREAK_ALL;case"keep-all":return wi.KEEP_ALL;default:return wi.NORMAL}}},ji={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,t){if(20===t.type)return{auto:!0,order:0};if(Se(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ji={name:"time",parse:function(A,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Zi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,t){return Se(t)?t.number:1}},zi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,t){return t.filter(He).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return 0!==A})}},$i={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,t){var e=[],n=[];return t.forEach(function(A){switch(A.type){case 20:case 0:e.push(A.value);break;case 17:e.push(A.number.toString());break;case 4:n.push(e.join(" ")),e.length=0}}),e.length&&n.push(e.join(" ")),n.map(function(A){return-1===A.indexOf(" ")?A:"'"+A+"'"})}},Ar={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},tr={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,t){return Se(t)?t.number:He(t)&&"bold"===t.value?700:400}},er={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,t){return t.filter(He).map(function(A){return A.value})}},nr={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ir=function(A,t){return 0!==(A&t)},rr={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,t){if(0===t.length)return[];var e=t[0];return 20===e.type&&"none"===e.value?[]:t}},sr={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,t){if(0===t.length)return null;var e=t[0];if(20===e.type&&"none"===e.value)return null;for(var n=[],i=t.filter(Me),r=0;r<i.length;r++){var s=i[r],o=i[r+1];if(20===s.type){var a=o&&Se(o)?o.number:1;n.push({counter:s.value,increment:a})}}return n}},or={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,t){if(0===t.length)return[];for(var e=[],n=t.filter(Me),i=0;i<n.length;i++){var r=n[i],s=n[i+1];if(He(r)&&"none"!==r.value){var o=s&&Se(s)?s.number:0;e.push({counter:r.value,reset:o})}}return e}},ar={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,t){return t.filter(Ie).map(function(t){return Ji.parse(A,t)})}},lr={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,t){if(0===t.length)return null;var e=t[0];if(20===e.type&&"none"===e.value)return null;var n=[],i=t.filter(Le);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var s=i[r].value,o=i[r+1].value;n.push({open:s,close:o})}return n}},cr=function(A,t,e){if(!A)return"";var n=A[Math.min(t,A.length-1)];return n?e?n.open:n.close:""},hr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,t){return 1===t.length&&Te(t[0],"none")?[]:Ke(t).map(function(t){for(var e={color:255,offsetX:Ge,offsetY:Ge,blur:Ge,spread:Ge,inset:!1},n=0,i=0;i<t.length;i++){var r=t[i];Te(r,"inset")?e.inset=!0:ke(r)?(0===n?e.offsetX=r:1===n?e.offsetY=r:2===n?e.blur=r:e.spread=r,n++):e.color=tn.parse(A,r)}return e})}},ur={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,t){var e=[0,1,2],n=[];return t.filter(He).forEach(function(A){switch(A.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),e.forEach(function(A){-1===n.indexOf(A)&&n.push(A)}),n}},dr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},gr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return Ie(t)?t.number:0}},fr=function(){function A(A,t){var e,n;this.animationDuration=wr(A,ar,t.animationDuration),this.backgroundClip=wr(A,dn,t.backgroundClip),this.backgroundColor=wr(A,gn,t.backgroundColor),this.backgroundImage=wr(A,Rn,t.backgroundImage),this.backgroundOrigin=wr(A,kn,t.backgroundOrigin),this.backgroundPosition=wr(A,On,t.backgroundPosition),this.backgroundRepeat=wr(A,Pn,t.backgroundRepeat),this.backgroundSize=wr(A,Vn,t.backgroundSize),this.borderTopColor=wr(A,Yn,t.borderTopColor),this.borderRightColor=wr(A,jn,t.borderRightColor),this.borderBottomColor=wr(A,Jn,t.borderBottomColor),this.borderLeftColor=wr(A,Zn,t.borderLeftColor),this.borderTopLeftRadius=wr(A,qn,t.borderTopLeftRadius),this.borderTopRightRadius=wr(A,$n,t.borderTopRightRadius),this.borderBottomRightRadius=wr(A,Ai,t.borderBottomRightRadius),this.borderBottomLeftRadius=wr(A,ti,t.borderBottomLeftRadius),this.borderTopStyle=wr(A,ni,t.borderTopStyle),this.borderRightStyle=wr(A,ii,t.borderRightStyle),this.borderBottomStyle=wr(A,ri,t.borderBottomStyle),this.borderLeftStyle=wr(A,si,t.borderLeftStyle),this.borderTopWidth=wr(A,ai,t.borderTopWidth),this.borderRightWidth=wr(A,li,t.borderRightWidth),this.borderBottomWidth=wr(A,ci,t.borderBottomWidth),this.borderLeftWidth=wr(A,hi,t.borderLeftWidth),this.boxShadow=wr(A,hr,t.boxShadow),this.color=wr(A,ui,t.color),this.direction=wr(A,di,t.direction),this.display=wr(A,gi,t.display),this.float=wr(A,Bi,t.cssFloat),this.fontFamily=wr(A,$i,t.fontFamily),this.fontSize=wr(A,Ar,t.fontSize),this.fontStyle=wr(A,nr,t.fontStyle),this.fontVariant=wr(A,er,t.fontVariant),this.fontWeight=wr(A,tr,t.fontWeight),this.letterSpacing=wr(A,pi,t.letterSpacing),this.lineBreak=wr(A,mi,t.lineBreak),this.lineHeight=wr(A,Ci,t.lineHeight),this.listStyleImage=wr(A,Qi,t.listStyleImage),this.listStylePosition=wr(A,Fi,t.listStylePosition),this.listStyleType=wr(A,_i,t.listStyleType),this.marginTop=wr(A,Ui,t.marginTop),this.marginRight=wr(A,Ei,t.marginRight),this.marginBottom=wr(A,xi,t.marginBottom),this.marginLeft=wr(A,bi,t.marginLeft),this.opacity=wr(A,Zi,t.opacity);var i=wr(A,Ii,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=wr(A,Si,t.overflowWrap),this.paddingTop=wr(A,Li,t.paddingTop),this.paddingRight=wr(A,Ti,t.paddingRight),this.paddingBottom=wr(A,Mi,t.paddingBottom),this.paddingLeft=wr(A,Di,t.paddingLeft),this.paintOrder=wr(A,ur,t.paintOrder),this.position=wr(A,Ri,t.position),this.textAlign=wr(A,Ki,t.textAlign),this.textDecorationColor=wr(A,zi,null!==(e=t.textDecorationColor)&&void 0!==e?e:t.color),this.textDecorationLine=wr(A,qi,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=wr(A,ki,t.textShadow),this.textTransform=wr(A,Oi,t.textTransform),this.transform=wr(A,Pi,t.transform),this.transformOrigin=wr(A,Xi,t.transformOrigin),this.visibility=wr(A,Wi,t.visibility),this.webkitTextStrokeColor=wr(A,dr,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=wr(A,gr,t.webkitTextStrokeWidth),this.wordBreak=wr(A,Yi,t.wordBreak),this.zIndex=wr(A,ji,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},A.prototype.isTransparent=function(){return en(this.backgroundColor)},A.prototype.isTransformed=function(){return null!==this.transform},A.prototype.isPositioned=function(){return 0!==this.position},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return 0!==this.float},A.prototype.isInlineLevel=function(){return ir(this.display,4)||ir(this.display,33554432)||ir(this.display,268435456)||ir(this.display,536870912)||ir(this.display,67108864)||ir(this.display,134217728)},A}(),Br=function(){function A(A,t){this.content=wr(A,rr,t.content),this.quotes=wr(A,lr,t.quotes)}return A}(),pr=function(){function A(A,t){this.counterIncrement=wr(A,sr,t.counterIncrement),this.counterReset=wr(A,or,t.counterReset)}return A}(),wr=function(A,t,e){var n=new xe,i=null!=e?e.toString():t.initialValue;n.write(i);var r=new be(n.read());switch(t.type){case 2:var s=r.parseComponentValue();return t.parse(A,He(s)?s.value:t.initialValue);case 0:return t.parse(A,r.parseComponentValue());case 1:return t.parse(A,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(t.format){case"angle":return ze.parse(A,r.parseComponentValue());case"color":return tn.parse(A,r.parseComponentValue());case"image":return Tn.parse(A,r.parseComponentValue());case"length":var o=r.parseComponentValue();return ke(o)?o:Ge;case"length-percentage":var a=r.parseComponentValue();return Oe(a)?a:Ge;case"time":return Ji.parse(A,r.parseComponentValue())}}},mr="data-html2canvas-debug",Cr=function(A){switch(A.getAttribute(mr)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yr=function(A,t){var e=Cr(A);return 1===e||t===e},Qr=function(){function A(A,t){this.context=A,this.textNodes=[],this.elements=[],this.flags=0,yr(t,3),this.styles=new fr(A,window.getComputedStyle(t,null)),lo(t)&&(this.styles.animationDuration.some(function(A){return A>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),yr(t,4)&&(this.flags|=16)}return A}(),Fr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",_r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ur=0;Ur<_r.length;Ur++)vr[_r.charCodeAt(Ur)]=Ur;for(var Er=function(A){var t,e,n,i,r,s=.75*A.length,o=A.length,a=0;"="===A[A.length-1]&&(s--,"="===A[A.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)e=vr[A.charCodeAt(t)],n=vr[A.charCodeAt(t+1)],i=vr[A.charCodeAt(t+2)],r=vr[A.charCodeAt(t+3)],c[a++]=e<<2|n>>4,c[a++]=(15&n)<<4|i>>2,c[a++]=(3&i)<<6|63&r;return l},xr=function(A){for(var t=A.length,e=[],n=0;n<t;n+=2)e.push(A[n+1]<<8|A[n]);return e},br=function(A){for(var t=A.length,e=[],n=0;n<t;n+=4)e.push(A[n+3]<<24|A[n+2]<<16|A[n+1]<<8|A[n]);return e},Ir=5,Sr=11,Hr=2,Lr=65536>>Ir,Tr=(1<<Ir)-1,Mr=Lr+(1024>>Ir)+32,Dr=65536>>Sr,Kr=(1<<Sr-Ir)-1,Rr=function(A,t,e){return A.slice?A.slice(t,e):new Uint16Array(Array.prototype.slice.call(A,t,e))},kr=function(A,t,e){return A.slice?A.slice(t,e):new Uint32Array(Array.prototype.slice.call(A,t,e))},Or=function(A,t){var e=Er(A),n=Array.isArray(e)?br(e):new Uint32Array(e),i=Array.isArray(e)?xr(e):new Uint16Array(e),r=24,s=Rr(i,r/2,n[4]/2),o=2===n[5]?Rr(i,(r+n[4])/2):kr(n,Math.ceil((r+n[4])/4));return new Pr(n[0],n[1],n[2],n[3],s,o)},Pr=function(){function A(A,t,e,n,i,r){this.initialValue=A,this.errorValue=t,this.highStart=e,this.highValueIndex=n,this.index=i,this.data=r}return A.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=((t=this.index[A>>Ir])<<Hr)+(A&Tr),this.data[t];if(A<=65535)return t=((t=this.index[Lr+(A-55296>>Ir)])<<Hr)+(A&Tr),this.data[t];if(A<this.highStart)return t=Mr-Dr+(A>>Sr),t=this.index[t],t+=A>>Ir&Kr,t=((t=this.index[t])<<Hr)+(A&Tr),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Vr=0;Vr<Gr.length;Vr++)Nr[Gr.charCodeAt(Vr)]=Vr;var Xr,Wr=1,Yr=2,jr=3,Jr=4,Zr=5,zr=7,qr=8,$r=9,As=10,ts=11,es=12,ns=13,is=14,rs=15,ss=function(A){for(var t=[],e=0,n=A.length;e<n;){var i=A.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){var r=A.charCodeAt(e++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),e--)}else t.push(i)}return t},os=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var e=A.length;if(!e)return"";for(var n=[],i=-1,r="";++i<e;){var s=A[i];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(i+1===e||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},as=Or(Fr),ls="",cs="",hs=function(A){return as.get(A)},us=function(A,t,e){var n=e-2,i=t[n],r=t[e-1],s=t[e];if(r===Yr&&s===jr)return ls;if(r===Yr||r===jr||r===Jr)return cs;if(s===Yr||s===jr||s===Jr)return cs;if(r===qr&&-1!==[qr,$r,ts,es].indexOf(s))return ls;if(!(r!==ts&&r!==$r||s!==$r&&s!==As))return ls;if((r===es||r===As)&&s===As)return ls;if(s===ns||s===Zr)return ls;if(s===zr)return ls;if(r===Wr)return ls;if(r===ns&&s===is){for(;i===Zr;)i=t[--n];if(i===is)return ls}if(r===rs&&s===rs){for(var o=0;i===rs;)o++,i=t[--n];if(o%2==0)return ls}return cs},ds=function(A){var t=ss(A),e=t.length,n=0,i=0,r=t.map(hs);return{next:function(){if(n>=e)return{done:!0,value:null};for(var A=ls;n<e&&(A=us(t,r,++n))===ls;);if(A!==ls||n===e){var s=os.apply(null,t.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},gs=function(A){for(var t,e=ds(A),n=[];!(t=e.next()).done;)t.value&&n.push(t.value.slice());return n},fs=function(A){var t=123;if(A.createRange){var e=A.createRange();if(e.getBoundingClientRect){var n=A.createElement("boundtest");n.style.height=t+"px",n.style.display="block",A.body.appendChild(n),e.selectNode(n);var i=e.getBoundingClientRect(),r=Math.round(i.height);if(A.body.removeChild(n),r===t)return!0}}return!1},Bs=function(A){var t=A.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",A.body.appendChild(t);var e=A.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,i=l(n.data).map(function(A){return c(A)}),r=0,s={},o=i.every(function(A,t){e.setStart(n,r),e.setEnd(n,r+A.length);var i=e.getBoundingClientRect();r+=A.length;var o=i.x>s.x||i.y>s.y;return s=i,0===t||o});return A.body.removeChild(t),o},ps=function(){return void 0!==(new Image).crossOrigin},ws=function(){return"string"==typeof(new XMLHttpRequest).responseType},ms=function(A){var t=new Image,e=A.createElement("canvas"),n=e.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch(A){return!1}return!0},Cs=function(A){return 0===A[0]&&255===A[1]&&0===A[2]&&255===A[3]},ys=function(A){var t=A.createElement("canvas"),e=100;t.width=e,t.height=e;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,e,e);var i=new Image,r=t.toDataURL();i.src=r;var s=Qs(e,e,0,0,i);return n.fillStyle="red",n.fillRect(0,0,e,e),Fs(s).then(function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,e,e).data;n.fillStyle="red",n.fillRect(0,0,e,e);var s=A.createElement("div");return s.style.backgroundImage="url("+r+")",s.style.height=e+"px",Cs(i)?Fs(Qs(e,e,0,0,s)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),Cs(n.getImageData(0,0,e,e).data)}).catch(function(){return!1})},Qs=function(A,t,e,n,i){var r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return s.setAttributeNS(null,"width",A.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},Fs=function(A){return new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},_s={get SUPPORT_RANGE_BOUNDS(){var A=fs(document);return Object.defineProperty(_s,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=_s.SUPPORT_RANGE_BOUNDS&&Bs(document);return Object.defineProperty(_s,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=ms(document);return Object.defineProperty(_s,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A="function"==typeof Array.from&&"function"==typeof window.fetch?ys(document):Promise.resolve(!1);return Object.defineProperty(_s,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=ps();return Object.defineProperty(_s,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=ws();return Object.defineProperty(_s,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(_s,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(_s,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},vs=function(){function A(A,t){this.text=A,this.bounds=t}return A}(),Us=function(A,t,e,n){var i=Ss(t,e),r=[],o=0;return i.forEach(function(t){if(e.textDecorationLine.length||t.trim().length>0)if(_s.SUPPORT_RANGE_BOUNDS){var i=xs(n,o,t.length).getClientRects();if(i.length>1){var a=bs(t),l=0;a.forEach(function(t){r.push(new vs(t,s.fromDOMRectList(A,xs(n,l+o,t.length).getClientRects()))),l+=t.length})}else r.push(new vs(t,s.fromDOMRectList(A,i)))}else{var c=n.splitText(t.length);r.push(new vs(t,Es(A,n))),n=c}else _s.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));o+=t.length}),r},Es=function(A,t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var r=o(A,n);return n.firstChild&&i.replaceChild(n.firstChild,n),r}}return s.EMPTY},xs=function(A,t,e){var n=A.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(A,t),i.setEnd(A,t+e),i},bs=function(A){if(_s.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(A)).map(function(A){return A.segment})}return gs(A)},Is=function(A,t){if(_s.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(A)).map(function(A){return A.segment})}return Ls(A,t)},Ss=function(A,t){return 0!==t.letterSpacing?bs(A):Is(A,t)},Hs=[32,160,4961,65792,65793,4153,4241],Ls=function(A,t){for(var e,n=GA(A,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],r=function(){if(e.value){var A=e.value.slice(),t=l(A),n="";t.forEach(function(A){-1===Hs.indexOf(A)?n+=c(A):(n.length&&i.push(n),i.push(c(A)),n="")}),n.length&&i.push(n)}};!(e=n.next()).done;)r();return i},Ts=function(){function A(A,t,e){this.text=Ms(t.data,e.textTransform),this.textBounds=Us(A,this.text,e,t)}return A}(),Ms=function(A,t){switch(t){case 1:return A.toLowerCase();case 3:return A.replace(Ds,Ks);case 2:return A.toUpperCase();default:return A}},Ds=/(^|\s|:|-|\(|\))([a-z])/g,Ks=function(A,t,e){return A.length>0?t+e.toUpperCase():A},Rs=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,n.context.cache.addImage(n.src),n}return t(e,A),e}(Qr),ks=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return t(e,A),e}(Qr),Os=function(A){function e(t,e){var n=A.call(this,t,e)||this,i=new XMLSerializer,r=o(t,e);return e.setAttribute("width",r.width+"px"),e.setAttribute("height",r.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t(e,A),e}(Qr),Ps=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n.value=e.value,n}return t(e,A),e}(Qr),Gs=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n.start=e.start,n.reversed="boolean"==typeof e.reversed&&!0===e.reversed,n}return t(e,A),e}(Qr),Ns=[{type:15,flags:0,unit:"px",number:3}],Vs=[{type:16,flags:0,number:50}],Xs=function(A){return A.width>A.height?new s(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new s(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A},Ws=function(A){var t=A.type===Js?new Array(A.value.length+1).join(""):A.value;return 0===t.length?A.placeholder||"":t},Ys="checkbox",js="radio",Js="password",Zs=707406591,zs=function(A){function e(t,e){var n=A.call(this,t,e)||this;switch(n.type=e.type.toLowerCase(),n.checked=e.checked,n.value=Ws(e),n.type!==Ys&&n.type!==js||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Xs(n.bounds)),n.type){case Ys:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Ns;break;case js:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Vs}return n}return t(e,A),e}(Qr),qs=function(A){function e(t,e){var n=A.call(this,t,e)||this,i=e.options[e.selectedIndex||0];return n.value=i&&i.text||"",n}return t(e,A),e}(Qr),$s=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n.value=e.value,n}return t(e,A),e}(Qr),Ao=function(A){function e(t,e){var n=A.call(this,t,e)||this;n.src=e.src,n.width=parseInt(e.width,10)||0,n.height=parseInt(e.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=io(t,e.contentWindow.document.documentElement);var i=e.contentWindow.document.documentElement?hn(t,getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):un.TRANSPARENT,r=e.contentWindow.document.body?hn(t,getComputedStyle(e.contentWindow.document.body).backgroundColor):un.TRANSPARENT;n.backgroundColor=en(i)?en(r)?n.styles.backgroundColor:r:i}}catch(A){}return n}return t(e,A),e}(Qr),to=["OL","UL","MENU"],eo=function(A,t,e,n){for(var i=t.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,oo(i)&&i.data.trim().length>0)e.textNodes.push(new Ts(A,i,e.styles));else if(ao(i))if(Uo(i)&&i.assignedNodes)i.assignedNodes().forEach(function(t){return eo(A,t,e,n)});else{var s=no(A,i);s.styles.isVisible()&&(ro(i,s,n)?s.flags|=4:so(s.styles)&&(s.flags|=2),-1!==to.indexOf(i.tagName)&&(s.flags|=8),e.elements.push(s),i.slot,i.shadowRoot?eo(A,i.shadowRoot,s,n):_o(i)||Bo(i)||vo(i)||eo(A,i,s,n))}},no=function(A,t){return Co(t)?new Rs(A,t):wo(t)?new ks(A,t):Bo(t)?new Os(A,t):ho(t)?new Ps(A,t):uo(t)?new Gs(A,t):go(t)?new zs(A,t):vo(t)?new qs(A,t):_o(t)?new $s(A,t):yo(t)?new Ao(A,t):new Qr(A,t)},io=function(A,t){var e=no(A,t);return e.flags|=4,eo(A,t,e,e),e},ro=function(A,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||po(A)&&e.styles.isTransparent()},so=function(A){return A.isPositioned()||A.isFloating()},oo=function(A){return A.nodeType===Node.TEXT_NODE},ao=function(A){return A.nodeType===Node.ELEMENT_NODE},lo=function(A){return ao(A)&&void 0!==A.style&&!co(A)},co=function(A){return"object"==typeof A.className},ho=function(A){return"LI"===A.tagName},uo=function(A){return"OL"===A.tagName},go=function(A){return"INPUT"===A.tagName},fo=function(A){return"HTML"===A.tagName},Bo=function(A){return"svg"===A.tagName},po=function(A){return"BODY"===A.tagName},wo=function(A){return"CANVAS"===A.tagName},mo=function(A){return"VIDEO"===A.tagName},Co=function(A){return"IMG"===A.tagName},yo=function(A){return"IFRAME"===A.tagName},Qo=function(A){return"STYLE"===A.tagName},Fo=function(A){return"SCRIPT"===A.tagName},_o=function(A){return"TEXTAREA"===A.tagName},vo=function(A){return"SELECT"===A.tagName},Uo=function(A){return"SLOT"===A.tagName},Eo=function(A){return A.tagName.indexOf("-")>0},xo=function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},A.prototype.pop=function(A){var t=this;A.forEach(function(A){return t.counters[A].pop()})},A.prototype.parse=function(A){var t=this,e=A.counterIncrement,n=A.counterReset,i=!0;null!==e&&e.forEach(function(A){var e=t.counters[A.counter];e&&0!==A.increment&&(i=!1,e.length||e.push(1),e[Math.max(0,e.length-1)]+=A.increment)});var r=[];return i&&n.forEach(function(A){var e=t.counters[A.counter];r.push(A.counter),e||(e=t.counters[A.counter]=[]),e.push(A.reset)}),r},A}(),bo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Io={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},So={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ho={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Lo=function(A,t,e,n,i,r){return A<t||A>e?Wo(A,i,r.length>0):n.integers.reduce(function(t,e,i){for(;A>=e;)A-=e,t+=n.values[i];return t},"")+r},To=function(A,t,e,n){var i="";do{e||A--,i=n(A)+i,A/=t}while(A*t>=t);return i},Mo=function(A,t,e,n,i){var r=e-t+1;return(A<0?"-":"")+(To(Math.abs(A),r,n,function(A){return c(Math.floor(A%r)+t)})+i)},Do=function(A,t,e){void 0===e&&(e=". ");var n=t.length;return To(Math.abs(A),n,!1,function(A){return t[Math.floor(A%n)]})+e},Ko=1,Ro=2,ko=4,Oo=8,Po=function(A,t,e,n,i,r){if(A<-9999||A>9999)return Wo(A,4,i.length>0);var s=Math.abs(A),o=i;if(0===s)return t[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;0===l&&ir(r,Ko)&&""!==o?o=t[l]+o:l>1||1===l&&0===a||1===l&&1===a&&ir(r,Ro)||1===l&&1===a&&ir(r,ko)&&A>100||1===l&&a>1&&ir(r,Oo)?o=t[l]+(a>0?e[a-1]:"")+o:1===l&&a>0&&(o=e[a-1]+o),s=Math.floor(s/10)}return(A<0?n:"")+o},Go="",No="",Vo="",Xo="",Wo=function(A,t,e){var n=e?". ":"",i=e?"":"",r=e?", ":"",s=e?" ":"";switch(t){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=Mo(A,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Do(A,"",i);case 6:return Lo(A,1,3999,bo,3,n).toLowerCase();case 7:return Lo(A,1,3999,bo,3,n);case 8:return Mo(A,945,969,!1,n);case 9:return Mo(A,97,122,!1,n);case 10:return Mo(A,65,90,!1,n);case 11:return Mo(A,1632,1641,!0,n);case 12:case 49:return Lo(A,1,9999,Io,3,n);case 35:return Lo(A,1,9999,Io,3,n).toLowerCase();case 13:return Mo(A,2534,2543,!0,n);case 14:case 30:return Mo(A,6112,6121,!0,n);case 15:return Do(A,"",i);case 16:return Do(A,"",i);case 17:case 48:return Po(A,"",Go,"",i,Ro|ko|Oo);case 47:return Po(A,"",No,"",i,Ko|Ro|ko|Oo);case 42:return Po(A,"",Go,"",i,Ro|ko|Oo);case 41:return Po(A,"",No,"",i,Ko|Ro|ko|Oo);case 26:return Po(A,"","",Vo,i,0);case 25:return Po(A,"","",Vo,i,Ko|Ro|ko);case 31:return Po(A,"","",Xo,r,Ko|Ro|ko);case 33:return Po(A,"","",Xo,r,0);case 32:return Po(A,"","",Xo,r,Ko|Ro|ko);case 18:return Mo(A,2406,2415,!0,n);case 20:return Lo(A,1,19999,Ho,3,n);case 21:return Mo(A,2790,2799,!0,n);case 22:return Mo(A,2662,2671,!0,n);case 22:return Lo(A,1,10999,So,3,n);case 23:return Do(A,"");case 24:return Do(A,"");case 27:return Mo(A,3302,3311,!0,n);case 28:return Do(A,"",i);case 29:return Do(A,"",i);case 34:return Mo(A,3792,3801,!0,n);case 37:return Mo(A,6160,6169,!0,n);case 38:return Mo(A,4160,4169,!0,n);case 39:return Mo(A,2918,2927,!0,n);case 40:return Mo(A,1776,1785,!0,n);case 43:return Mo(A,3046,3055,!0,n);case 44:return Mo(A,3174,3183,!0,n);case 45:return Mo(A,3664,3673,!0,n);case 46:return Mo(A,3872,3881,!0,n);default:return Mo(A,48,57,!0,n)}},Yo="data-html2canvas-ignore",jo=function(){function A(A,t,e){if(this.context=A,this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new xo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(A,t){var e=this,r=Zo(A,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=A.defaultView.pageXOffset,o=A.defaultView.pageYOffset,a=r.contentWindow,l=a.document,c=$o(r).then(function(){return n(e,void 0,void 0,function(){var A,e;return i(this,function(n){switch(n.label){case 0:return this.scrolledElements.forEach(ia),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),A=this.options.onclone,void 0===(e=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,qo(l)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof A?[2,Promise.resolve().then(function(){return A(l,e)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(ea(document.doctype)+"<html></html>"),na(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},A.prototype.createElementClone=function(A){if(yr(A,2),wo(A))return this.createCanvasClone(A);if(mo(A))return this.createVideoClone(A);if(Qo(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return Co(t)&&(Co(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Eo(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return ta(A.style,t),t},A.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var e=[].slice.call(t.cssRules,0).reduce(function(A,t){return t&&"string"==typeof t.cssText?A+t.cssText:A},""),n=A.cloneNode(!1);return n.textContent=e,n}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),"SecurityError"!==A.name)throw A}return A.cloneNode(!1)},A.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var e=A.ownerDocument.createElement("img");try{return e.src=A.toDataURL(),e}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),r=n.getContext("2d");if(r)if(!this.options.allowTaint&&i)r.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var s=null!==(t=A.getContext("webgl2"))&&void 0!==t?t:A.getContext("webgl");if(s){var o=s.getContextAttributes();!1===(null==o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}r.drawImage(A,0,0)}return n}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},A.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var e=t.getContext("2d");try{return e&&(e.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||e.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},A.prototype.appendChildNode=function(A,t,e){ao(t)&&(Fo(t)||t.hasAttribute(Yo)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ao(t)&&Qo(t)||A.appendChild(this.cloneNode(t,e))},A.prototype.cloneChildNodes=function(A,t,e){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(ao(i)&&Uo(i)&&"function"==typeof i.assignedNodes){var r=i.assignedNodes();r.length&&r.forEach(function(A){return n.appendChildNode(t,A,e)})}else this.appendChildNode(t,i,e)},A.prototype.cloneNode=function(A,t){if(oo(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var e=A.ownerDocument.defaultView;if(e&&ao(A)&&(lo(A)||co(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=e.getComputedStyle(A),r=e.getComputedStyle(A,":before"),s=e.getComputedStyle(A,":after");this.referenceElement===A&&lo(n)&&(this.clonedReferenceElement=n),po(n)&&ca(n);var o=this.counters.parse(new pr(this.context,i)),a=this.resolvePseudoContent(A,n,r,Xr.BEFORE);Eo(A)&&(t=!0),mo(A)||this.cloneChildNodes(A,n,t),a&&n.insertBefore(a,n.firstChild);var l=this.resolvePseudoContent(A,n,s,Xr.AFTER);return l&&n.appendChild(l),this.counters.pop(o),(i&&(this.options.copyStyles||co(A))&&!yo(A)||t)&&ta(i,n),0===A.scrollTop&&0===A.scrollLeft||this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(_o(A)||vo(A))&&(_o(n)||vo(n))&&(n.value=A.value),n}return A.cloneNode(!1)},A.prototype.resolvePseudoContent=function(A,t,e,n){var i=this;if(e){var r=e.content,s=t.ownerDocument;if(s&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==e.display){this.counters.parse(new pr(this.context,e));var o=new Br(this.context,e),a=s.createElement("html2canvaspseudoelement");ta(e,a),o.content.forEach(function(t){if(0===t.type)a.appendChild(s.createTextNode(t.value));else if(22===t.type){var e=s.createElement("img");e.src=t.value,e.style.opacity="1",a.appendChild(e)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(He);n.length&&a.appendChild(s.createTextNode(A.getAttribute(n[0].value)||""))}else if("counter"===t.name){var r=t.values.filter(De),l=r[0],c=r[1];if(l&&He(l)){var h=i.counters.getCounterValue(l.value),u=c&&He(c)?_i.parse(i.context,c.value):3;a.appendChild(s.createTextNode(Wo(h,u,!1)))}}else if("counters"===t.name){var d=t.values.filter(De),g=(l=d[0],d[1]);if(c=d[2],l&&He(l)){var f=i.counters.getCounterValues(l.value),B=c&&He(c)?_i.parse(i.context,c.value):3,p=g&&0===g.type?g.value:"",w=f.map(function(A){return Wo(A,B,!1)}).join(p);a.appendChild(s.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(s.createTextNode(cr(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":a.appendChild(s.createTextNode(cr(o.quotes,--i.quoteDepth,!1)));break;default:a.appendChild(s.createTextNode(t.value))}}),a.className=oa+" "+aa;var l=n===Xr.BEFORE?" "+oa:" "+aa;return co(t)?t.className.baseValue+=l:t.className+=l,a}}},A.destroy=function(A){return!!A.parentNode&&(A.parentNode.removeChild(A),!0)},A}();!function(A){A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER"}(Xr||(Xr={}));var Jo,Zo=function(A,t){var e=A.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(Yo,"true"),A.body.appendChild(e),e},zo=function(A){return new Promise(function(t){A.complete?t():A.src?(A.onload=t,A.onerror=t):t()})},qo=function(A){return Promise.all([].slice.call(A.images,0).map(zo))},$o=function(A){return new Promise(function(t,e){var n=A.contentWindow;if(!n)return e("No window assigned for iframe");var i=n.document;n.onload=A.onload=function(){n.onload=A.onload=null;var e=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(e),t(A))},50)}})},Aa=["all","d","content"],ta=function(A,t){for(var e=A.length-1;e>=0;e--){var n=A.item(e);-1===Aa.indexOf(n)&&t.style.setProperty(n,A.getPropertyValue(n))}return t},ea=function(A){var t="";return A&&(t+="<!DOCTYPE ",A.name&&(t+=A.name),A.internalSubset&&(t+=A.internalSubset),A.publicId&&(t+='"'+A.publicId+'"'),A.systemId&&(t+='"'+A.systemId+'"'),t+=">"),t},na=function(A,t,e){A&&A.defaultView&&(t!==A.defaultView.pageXOffset||e!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(t,e)},ia=function(A){var t=A[0],e=A[1],n=A[2];t.scrollLeft=e,t.scrollTop=n},ra=":before",sa=":after",oa="___html2canvas___pseudoelement_before",aa="___html2canvas___pseudoelement_after",la='{\n    content: "" !important;\n    display: none !important;\n}',ca=function(A){ha(A,"."+oa+ra+la+"\n         ."+aa+sa+la)},ha=function(A,t){var e=A.ownerDocument;if(e){var n=e.createElement("style");n.textContent=t,A.appendChild(n)}},ua=function(){function A(){}return A.getOrigin=function(t){var e=A._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},A.isSameOrigin=function(t){return A.getOrigin(t)===A._origin},A.setContext=function(t){A._link=t.document.createElement("a"),A._origin=A.getOrigin(t.location.href)},A._origin="about:blank",A}(),da=function(){function A(A,t){this.context=A,this._options=t,this._cache={}}return A.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)?t:Ca(A)||pa(A)?((this._cache[A]=this.loadImage(A)).catch(function(){}),t):t},A.prototype.match=function(A){return this._cache[A]},A.prototype.loadImage=function(A){return n(this,void 0,void 0,function(){var t,e,n,r,s=this;return i(this,function(i){switch(i.label){case 0:return t=ua.isSameOrigin(A),e=!wa(A)&&!0===this._options.useCORS&&_s.SUPPORT_CORS_IMAGES&&!t,n=!wa(A)&&!t&&!Ca(A)&&"string"==typeof this._options.proxy&&_s.SUPPORT_CORS_XHR&&!e,t||!1!==this._options.allowTaint||wa(A)||Ca(A)||n||e?(r=A,n?[4,this.proxy(r)]:[3,2]):[2];case 1:r=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(A,t){var n=new Image;n.onload=function(){return A(n)},n.onerror=t,(ma(r)||e)&&(n.crossOrigin="anonymous"),n.src=r,!0===n.complete&&setTimeout(function(){return A(n)},500),s._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},A.prototype.has=function(A){return void 0!==this._cache[A]},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(A){var t=this,e=this._options.proxy;if(!e)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,r){var s=_s.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===s)i(o.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(A){return r(A)},!1),A.readAsDataURL(o.response)}else r("Failed to proxy resource "+n+" with status code "+o.status)},o.onerror=r;var a=e.indexOf("?")>-1?"&":"?";if(o.open("GET",""+e+a+"url="+encodeURIComponent(A)+"&responseType="+s),"text"!==s&&o instanceof XMLHttpRequest&&(o.responseType=s),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return r("Timed out ("+l+"ms) proxying "+n)}}o.send()})},A}(),ga=/^data:image\/svg\+xml/i,fa=/^data:image\/.*;base64,/i,Ba=/^data:image\/.*/i,pa=function(A){return _s.SUPPORT_SVG_DRAWING||!ya(A)},wa=function(A){return Ba.test(A)},ma=function(A){return fa.test(A)},Ca=function(A){return"blob"===A.substr(0,4)},ya=function(A){return"svg"===A.substr(-3).toLowerCase()||ga.test(A)},Qa=function(){function A(A,t){this.type=0,this.x=A,this.y=t}return A.prototype.add=function(t,e){return new A(this.x+t,this.y+e)},A}(),Fa=function(A,t,e){return new Qa(A.x+(t.x-A.x)*e,A.y+(t.y-A.y)*e)},_a=function(){function A(A,t,e,n){this.type=1,this.start=A,this.startControl=t,this.endControl=e,this.end=n}return A.prototype.subdivide=function(t,e){var n=Fa(this.start,this.startControl,t),i=Fa(this.startControl,this.endControl,t),r=Fa(this.endControl,this.end,t),s=Fa(n,i,t),o=Fa(i,r,t),a=Fa(s,o,t);return e?new A(this.start,n,s,a):new A(a,o,r,this.end)},A.prototype.add=function(t,e){return new A(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A}(),va=function(A){return 1===A.type},Ua=function(){function A(A){var t=A.styles,e=A.bounds,n=Xe(t.borderTopLeftRadius,e.width,e.height),i=n[0],r=n[1],s=Xe(t.borderTopRightRadius,e.width,e.height),o=s[0],a=s[1],l=Xe(t.borderBottomRightRadius,e.width,e.height),c=l[0],h=l[1],u=Xe(t.borderBottomLeftRadius,e.width,e.height),d=u[0],g=u[1],f=[];f.push((i+o)/e.width),f.push((d+c)/e.width),f.push((r+g)/e.height),f.push((a+h)/e.height);var B=Math.max.apply(Math,f);B>1&&(i/=B,r/=B,o/=B,a/=B,c/=B,h/=B,d/=B,g/=B);var p=e.width-o,w=e.height-h,m=e.width-c,C=e.height-g,y=t.borderTopWidth,Q=t.borderRightWidth,F=t.borderBottomWidth,_=t.borderLeftWidth,v=We(t.paddingTop,A.bounds.width),U=We(t.paddingRight,A.bounds.width),E=We(t.paddingBottom,A.bounds.width),x=We(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||r>0?Ea(e.left+_/3,e.top+y/3,i-_/3,r-y/3,Jo.TOP_LEFT):new Qa(e.left+_/3,e.top+y/3),this.topRightBorderDoubleOuterBox=i>0||r>0?Ea(e.left+p,e.top+y/3,o-Q/3,a-y/3,Jo.TOP_RIGHT):new Qa(e.left+e.width-Q/3,e.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||h>0?Ea(e.left+m,e.top+w,c-Q/3,h-F/3,Jo.BOTTOM_RIGHT):new Qa(e.left+e.width-Q/3,e.top+e.height-F/3),this.bottomLeftBorderDoubleOuterBox=d>0||g>0?Ea(e.left+_/3,e.top+C,d-_/3,g-F/3,Jo.BOTTOM_LEFT):new Qa(e.left+_/3,e.top+e.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||r>0?Ea(e.left+2*_/3,e.top+2*y/3,i-2*_/3,r-2*y/3,Jo.TOP_LEFT):new Qa(e.left+2*_/3,e.top+2*y/3),this.topRightBorderDoubleInnerBox=i>0||r>0?Ea(e.left+p,e.top+2*y/3,o-2*Q/3,a-2*y/3,Jo.TOP_RIGHT):new Qa(e.left+e.width-2*Q/3,e.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||h>0?Ea(e.left+m,e.top+w,c-2*Q/3,h-2*F/3,Jo.BOTTOM_RIGHT):new Qa(e.left+e.width-2*Q/3,e.top+e.height-2*F/3),this.bottomLeftBorderDoubleInnerBox=d>0||g>0?Ea(e.left+2*_/3,e.top+C,d-2*_/3,g-2*F/3,Jo.BOTTOM_LEFT):new Qa(e.left+2*_/3,e.top+e.height-2*F/3),this.topLeftBorderStroke=i>0||r>0?Ea(e.left+_/2,e.top+y/2,i-_/2,r-y/2,Jo.TOP_LEFT):new Qa(e.left+_/2,e.top+y/2),this.topRightBorderStroke=i>0||r>0?Ea(e.left+p,e.top+y/2,o-Q/2,a-y/2,Jo.TOP_RIGHT):new Qa(e.left+e.width-Q/2,e.top+y/2),this.bottomRightBorderStroke=c>0||h>0?Ea(e.left+m,e.top+w,c-Q/2,h-F/2,Jo.BOTTOM_RIGHT):new Qa(e.left+e.width-Q/2,e.top+e.height-F/2),this.bottomLeftBorderStroke=d>0||g>0?Ea(e.left+_/2,e.top+C,d-_/2,g-F/2,Jo.BOTTOM_LEFT):new Qa(e.left+_/2,e.top+e.height-F/2),this.topLeftBorderBox=i>0||r>0?Ea(e.left,e.top,i,r,Jo.TOP_LEFT):new Qa(e.left,e.top),this.topRightBorderBox=o>0||a>0?Ea(e.left+p,e.top,o,a,Jo.TOP_RIGHT):new Qa(e.left+e.width,e.top),this.bottomRightBorderBox=c>0||h>0?Ea(e.left+m,e.top+w,c,h,Jo.BOTTOM_RIGHT):new Qa(e.left+e.width,e.top+e.height),this.bottomLeftBorderBox=d>0||g>0?Ea(e.left,e.top+C,d,g,Jo.BOTTOM_LEFT):new Qa(e.left,e.top+e.height),this.topLeftPaddingBox=i>0||r>0?Ea(e.left+_,e.top+y,Math.max(0,i-_),Math.max(0,r-y),Jo.TOP_LEFT):new Qa(e.left+_,e.top+y),this.topRightPaddingBox=o>0||a>0?Ea(e.left+Math.min(p,e.width-Q),e.top+y,p>e.width+Q?0:Math.max(0,o-Q),Math.max(0,a-y),Jo.TOP_RIGHT):new Qa(e.left+e.width-Q,e.top+y),this.bottomRightPaddingBox=c>0||h>0?Ea(e.left+Math.min(m,e.width-_),e.top+Math.min(w,e.height-F),Math.max(0,c-Q),Math.max(0,h-F),Jo.BOTTOM_RIGHT):new Qa(e.left+e.width-Q,e.top+e.height-F),this.bottomLeftPaddingBox=d>0||g>0?Ea(e.left+_,e.top+Math.min(C,e.height-F),Math.max(0,d-_),Math.max(0,g-F),Jo.BOTTOM_LEFT):new Qa(e.left+_,e.top+e.height-F),this.topLeftContentBox=i>0||r>0?Ea(e.left+_+x,e.top+y+v,Math.max(0,i-(_+x)),Math.max(0,r-(y+v)),Jo.TOP_LEFT):new Qa(e.left+_+x,e.top+y+v),this.topRightContentBox=o>0||a>0?Ea(e.left+Math.min(p,e.width+_+x),e.top+y+v,p>e.width+_+x?0:o-_+x,a-(y+v),Jo.TOP_RIGHT):new Qa(e.left+e.width-(Q+U),e.top+y+v),this.bottomRightContentBox=c>0||h>0?Ea(e.left+Math.min(m,e.width-(_+x)),e.top+Math.min(w,e.height+y+v),Math.max(0,c-(Q+U)),h-(F+E),Jo.BOTTOM_RIGHT):new Qa(e.left+e.width-(Q+U),e.top+e.height-(F+E)),this.bottomLeftContentBox=d>0||g>0?Ea(e.left+_+x,e.top+C,Math.max(0,d-(_+x)),g-(F+E),Jo.BOTTOM_LEFT):new Qa(e.left+_+x,e.top+e.height-(F+E))}return A}();!function(A){A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Jo||(Jo={}));var Ea=function(A,t,e,n,i){var r=(Math.sqrt(2)-1)/3*4,s=e*r,o=n*r,a=A+e,l=t+n;switch(i){case Jo.TOP_LEFT:return new _a(new Qa(A,l),new Qa(A,l-o),new Qa(a-s,t),new Qa(a,t));case Jo.TOP_RIGHT:return new _a(new Qa(A,t),new Qa(A+s,t),new Qa(a,l-o),new Qa(a,l));case Jo.BOTTOM_RIGHT:return new _a(new Qa(a,t),new Qa(a,t+o),new Qa(A+s,l),new Qa(A,l));case Jo.BOTTOM_LEFT:default:return new _a(new Qa(a,l),new Qa(a-s,l),new Qa(A,t+o),new Qa(A,t))}},xa=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},ba=function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]},Ia=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},Sa=function(){function A(A,t,e){this.offsetX=A,this.offsetY=t,this.matrix=e,this.type=0,this.target=6}return A}(),Ha=function(){function A(A,t){this.path=A,this.target=t,this.type=1}return A}(),La=function(){function A(A){this.opacity=A,this.type=2,this.target=6}return A}(),Ta=function(A){return 0===A.type},Ma=function(A){return 1===A.type},Da=function(A){return 2===A.type},Ka=function(A,t){return A.length===t.length&&A.some(function(A,e){return A===t[e]})},Ra=function(A,t,e,n,i){return A.map(function(A,r){switch(r){case 0:return A.add(t,e);case 1:return A.add(t+n,e);case 2:return A.add(t+n,e+i);case 3:return A.add(t,e+i)}return A})},ka=function(){function A(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return A}(),Oa=function(){function A(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new Ua(this.container),this.container.styles.opacity<1&&this.effects.push(new La(this.container.styles.opacity)),null!==this.container.styles.transform){var e=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Sa(e,n,i))}if(0!==this.container.styles.overflowX){var r=xa(this.curves),s=Ia(this.curves);Ka(r,s)?this.effects.push(new Ha(r,6)):(this.effects.push(new Ha(r,2)),this.effects.push(new Ha(s,4)))}}return A.prototype.getEffects=function(A){for(var t=-1===[2,3].indexOf(this.container.styles.position),e=this.parent,n=this.effects.slice(0);e;){var i=e.effects.filter(function(A){return!Ma(A)});if(t||0!==e.container.styles.position||!e.parent){if(n.unshift.apply(n,i),t=-1===[2,3].indexOf(e.container.styles.position),0!==e.container.styles.overflowX){var r=xa(e.curves),s=Ia(e.curves);Ka(r,s)||n.unshift(new Ha(s,6))}}else n.unshift.apply(n,i);e=e.parent}return n.filter(function(t){return ir(t.target,A)})},A}(),Pa=function(A,t,e,n){A.container.elements.forEach(function(i){var r=ir(i.flags,4),s=ir(i.flags,2),o=new Oa(i,A);ir(i.styles.display,2048)&&n.push(o);var a=ir(i.flags,8)?[]:n;if(r||s){var l=r||i.styles.isPositioned()?e:t,c=new ka(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var u=0;l.negativeZIndex.some(function(A,t){return h>A.element.container.styles.zIndex.order?(u=t,!1):u>0}),l.negativeZIndex.splice(u,0,c)}else if(h>0){var d=0;l.positiveZIndex.some(function(A,t){return h>=A.element.container.styles.zIndex.order?(d=t+1,!1):d>0}),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Pa(o,c,r?c:e,a)}else i.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Pa(o,t,e,a);ir(i.flags,8)&&Ga(i,a)})},Ga=function(A,t){for(var e=A instanceof Gs?A.start:1,n=A instanceof Gs&&A.reversed,i=0;i<t.length;i++){var r=t[i];r.container instanceof Ps&&"number"==typeof r.container.value&&0!==r.container.value&&(e=r.container.value),r.listValue=Wo(e,r.container.styles.listStyleType,!0),e+=n?-1:1}},Na=function(A){var t=new Oa(A,null),e=new ka(t),n=[];return Pa(t,e,e,n),Ga(t.container,n),e},Va=function(A,t){switch(t){case 0:return Ja(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return Ja(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return Ja(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);default:return Ja(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},Xa=function(A,t){switch(t){case 0:return Ja(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return Ja(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return Ja(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);default:return Ja(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}},Wa=function(A,t){switch(t){case 0:return Ja(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return Ja(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return Ja(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);default:return Ja(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}},Ya=function(A,t){switch(t){case 0:return ja(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return ja(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return ja(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);default:return ja(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}},ja=function(A,t){var e=[];return va(A)?e.push(A.subdivide(.5,!1)):e.push(A),va(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},Ja=function(A,t,e,n){var i=[];return va(A)?i.push(A.subdivide(.5,!1)):i.push(A),va(e)?i.push(e.subdivide(.5,!0)):i.push(e),va(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),va(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Za=function(A){var t=A.bounds,e=A.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},za=function(A){var t=A.styles,e=A.bounds,n=We(t.paddingLeft,e.width),i=We(t.paddingRight,e.width),r=We(t.paddingTop,e.width),s=We(t.paddingBottom,e.width);return e.add(n+t.borderLeftWidth,r+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+r+s))},qa=function(A,t){return 0===A?t.bounds:2===A?za(t):Za(t)},$a=function(A,t){return 0===A?t.bounds:2===A?za(t):Za(t)},Al=function(A,t,e){var n=qa(il(A.styles.backgroundOrigin,t),A),i=$a(il(A.styles.backgroundClip,t),A),r=nl(il(A.styles.backgroundSize,t),e,n),s=r[0],o=r[1],a=Xe(il(A.styles.backgroundPosition,t),n.width-s,n.height-o);return[rl(il(A.styles.backgroundRepeat,t),a,r,n,i),Math.round(n.left+a[0]),Math.round(n.top+a[1]),s,o]},tl=function(A){return He(A)&&A.value===Dn.AUTO},el=function(A){return"number"==typeof A},nl=function(A,t,e){var n=t[0],i=t[1],r=t[2],s=A[0],o=A[1];if(!s)return[0,0];if(Oe(s)&&o&&Oe(o))return[We(s,e.width),We(o,e.height)];var a=el(r);if(He(s)&&(s.value===Dn.CONTAIN||s.value===Dn.COVER))return el(r)?e.width/e.height<r!=(s.value===Dn.COVER)?[e.width,e.width/r]:[e.height*r,e.height]:[e.width,e.height];var l=el(n),c=el(i),h=l||c;if(tl(s)&&(!o||tl(o)))return l&&c?[n,i]:a||h?h&&a?[l?n:i*r,c?i:n/r]:[l?n:e.width,c?i:e.height]:[e.width,e.height];if(a){var u=0,d=0;return Oe(s)?u=We(s,e.width):Oe(o)&&(d=We(o,e.height)),tl(s)?u=d*r:o&&!tl(o)||(d=u/r),[u,d]}var g=null,f=null;if(Oe(s)?g=We(s,e.width):o&&Oe(o)&&(f=We(o,e.height)),null===g||o&&!tl(o)||(f=l&&c?g/n*i:e.height),null!==f&&tl(s)&&(g=l&&c?f/i*n:e.width),null!==g&&null!==f)return[g,f];throw new Error("Unable to calculate background-size for element")},il=function(A,t){var e=A[t];return void 0===e?A[0]:e},rl=function(A,t,e,n,i){var r=t[0],s=t[1],o=e[0],a=e[1];switch(A){case 2:return[new Qa(Math.round(n.left),Math.round(n.top+s)),new Qa(Math.round(n.left+n.width),Math.round(n.top+s)),new Qa(Math.round(n.left+n.width),Math.round(a+n.top+s)),new Qa(Math.round(n.left),Math.round(a+n.top+s))];case 3:return[new Qa(Math.round(n.left+r),Math.round(n.top)),new Qa(Math.round(n.left+r+o),Math.round(n.top)),new Qa(Math.round(n.left+r+o),Math.round(n.height+n.top)),new Qa(Math.round(n.left+r),Math.round(n.height+n.top))];case 1:return[new Qa(Math.round(n.left+r),Math.round(n.top+s)),new Qa(Math.round(n.left+r+o),Math.round(n.top+s)),new Qa(Math.round(n.left+r+o),Math.round(n.top+s+a)),new Qa(Math.round(n.left+r),Math.round(n.top+s+a))];default:return[new Qa(Math.round(i.left),Math.round(i.top)),new Qa(Math.round(i.left+i.width),Math.round(i.top)),new Qa(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Qa(Math.round(i.left),Math.round(i.height+i.top))]}},sl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ol="Hidden Text",al=function(){function A(A){this._data={},this._document=A}return A.prototype.parseMetrics=function(A,t){var e=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),r=this._document.body;e.style.visibility="hidden",e.style.fontFamily=A,e.style.fontSize=t,e.style.margin="0",e.style.padding="0",e.style.whiteSpace="nowrap",r.appendChild(e),n.src=sl,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ol)),e.appendChild(i),e.appendChild(n);var s=n.offsetTop-i.offsetTop+2;e.removeChild(i),e.appendChild(this._document.createTextNode(ol)),e.style.lineHeight="normal",n.style.verticalAlign="super";var o=n.offsetTop-e.offsetTop+2;return r.removeChild(e),{baseline:s,middle:o}},A.prototype.getMetrics=function(A,t){var e=A+" "+t;return void 0===this._data[e]&&(this._data[e]=this.parseMetrics(A,t)),this._data[e]},A}(),ll=function(){function A(A,t){this.context=A,this.options=t}return A}(),cl=1e4,hl=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n._activeEffects=[],n.canvas=e.canvas?e.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),e.canvas||(n.canvas.width=Math.floor(e.width*e.scale),n.canvas.height=Math.floor(e.height*e.scale),n.canvas.style.width=e.width+"px",n.canvas.style.height=e.height+"px"),n.fontMetrics=new al(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-e.x,-e.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+e.width+"x"+e.height+") with scale "+e.scale),n}return t(e,A),e.prototype.applyEffects=function(A){for(var t=this;this._activeEffects.length;)this.popEffect();A.forEach(function(A){return t.applyEffect(A)})},e.prototype.applyEffect=function(A){this.ctx.save(),Da(A)&&(this.ctx.globalAlpha=A.opacity),Ta(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),Ma(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return A.element.container.styles.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return ir(A.container.flags,16),A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(A)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,t,e){var n=this;0===t?this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+e):bs(A.text).reduce(function(t,i){return n.ctx.fillText(i,t,A.bounds.top+e),t+n.ctx.measureText(i).width},A.bounds.left)},e.prototype.createFontStyle=function(A){var t=A.fontVariant.filter(function(A){return"normal"===A||"small-caps"===A}).join(""),e=Bl(A.fontFamily).join(", "),n=Ie(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,t,A.fontWeight,n,e].join(" "),e,n]},e.prototype.renderTextNode=function(A,t){return n(this,void 0,void 0,function(){var e,n,r,s,o,a,l,c,h=this;return i(this,function(i){return e=this.createFontStyle(t),n=e[0],r=e[1],s=e[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(r,s),a=o.baseline,l=o.middle,c=t.paintOrder,A.textBounds.forEach(function(A){c.forEach(function(e){switch(e){case 0:h.ctx.fillStyle=nn(t.color),h.renderTextWithLetterSpacing(A,t.letterSpacing,a);var n=t.textShadow;n.length&&A.text.trim().length&&(n.slice(0).reverse().forEach(function(e){h.ctx.shadowColor=nn(e.color),h.ctx.shadowOffsetX=e.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=e.offsetY.number*h.options.scale,h.ctx.shadowBlur=e.blur.number,h.renderTextWithLetterSpacing(A,t.letterSpacing,a)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),t.textDecorationLine.length&&(h.ctx.fillStyle=nn(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+a),A.bounds.width,1);break;case 2:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:h.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+l),A.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&A.text.trim().length&&(h.ctx.strokeStyle=nn(t.webkitTextStrokeColor),h.ctx.lineWidth=t.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+a)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter"}})}),[2]})})},e.prototype.renderReplacedElement=function(A,t,e){if(e&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var n=za(A),i=Ia(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(e,0,0,A.intrinsicWidth,A.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return n(this,void 0,void 0,function(){var t,n,r,o,a,l,c,h,u,d,g,f,B,p,w,m,C,y;return i(this,function(i){switch(i.label){case 0:this.applyEffects(A.getEffects(4)),t=A.container,n=A.curves,r=t.styles,o=0,a=t.textNodes,i.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,r)]):[3,4];case 2:i.sent(),i.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Rs))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=i.sent(),this.renderReplacedElement(t,n,w),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof ks&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof Os))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=i.sent(),this.renderReplacedElement(t,n,w),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof Ao&&t.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof zs&&(h=Math.min(t.bounds.width,t.bounds.height),t.type===Ys?t.checked&&(this.ctx.save(),this.path([new Qa(t.bounds.left+.39363*h,t.bounds.top+.79*h),new Qa(t.bounds.left+.16*h,t.bounds.top+.5549*h),new Qa(t.bounds.left+.27347*h,t.bounds.top+.44071*h),new Qa(t.bounds.left+.39694*h,t.bounds.top+.5649*h),new Qa(t.bounds.left+.72983*h,t.bounds.top+.23*h),new Qa(t.bounds.left+.84*h,t.bounds.top+.34085*h),new Qa(t.bounds.left+.39363*h,t.bounds.top+.79*h)]),this.ctx.fillStyle=nn(Zs),this.ctx.fill(),this.ctx.restore()):t.type===js&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+h/2,t.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=nn(Zs),this.ctx.fill(),this.ctx.restore())),ul(t)&&t.value.length){switch(u=this.createFontStyle(r),C=u[0],d=u[1],g=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=nn(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gl(t.styles.textAlign),y=za(t),f=0,t.styles.textAlign){case 1:f+=y.width/2;break;case 2:f+=y.width}B=y.add(f,0,0,-y.height/2+1),this.ctx.save(),this.path([new Qa(y.left,y.top),new Qa(y.left+y.width,y.top),new Qa(y.left+y.width,y.top+y.height),new Qa(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vs(t.value,B),r.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ir(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(p=t.styles.listStyleImage).type)return[3,18];w=void 0,m=p.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return w=i.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:A.listValue&&-1!==t.styles.listStyleType&&(C=this.createFontStyle(r)[0],this.ctx.font=C,this.ctx.fillStyle=nn(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new s(t.bounds.left,t.bounds.top+We(t.styles.paddingTop,t.bounds.width),t.bounds.width,yi(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vs(A.listValue,y),r.letterSpacing,yi(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return n(this,void 0,void 0,function(){var t,e,n,r,s,o,a,l,c,h,u,d,g,f,B;return i(this,function(i){switch(i.label){case 0:return ir(A.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:i.sent(),t=0,e=A.negativeZIndex,i.label=2;case 2:return t<e.length?(B=e[t],[4,this.renderStack(B)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:i.sent(),n=0,r=A.nonInlineLevel,i.label=7;case 7:return n<r.length?(B=r[n],[4,this.renderNode(B)]):[3,10];case 8:i.sent(),i.label=9;case 9:return n++,[3,7];case 10:s=0,o=A.nonPositionedFloats,i.label=11;case 11:return s<o.length?(B=o[s],[4,this.renderStack(B)]):[3,14];case 12:i.sent(),i.label=13;case 13:return s++,[3,11];case 14:a=0,l=A.nonPositionedInlineLevel,i.label=15;case 15:return a<l.length?(B=l[a],[4,this.renderStack(B)]):[3,18];case 16:i.sent(),i.label=17;case 17:return a++,[3,15];case 18:c=0,h=A.inlineLevel,i.label=19;case 19:return c<h.length?(B=h[c],[4,this.renderNode(B)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:u=0,d=A.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return u<d.length?(B=d[u],[4,this.renderStack(B)]):[3,26];case 24:i.sent(),i.label=25;case 25:return u++,[3,23];case 26:g=0,f=A.positiveZIndex,i.label=27;case 27:return g<f.length?(B=f[g],[4,this.renderStack(B)]):[3,30];case 28:i.sent(),i.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var t=this;A.forEach(function(A,e){var n=va(A)?A.start:A;0===e?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),va(A)&&t.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(A,t,e,n){this.path(A),this.ctx.fillStyle=t,this.ctx.translate(e,n),this.ctx.fill(),this.ctx.translate(-e,-n)},e.prototype.resizeImage=function(A,t,e){var n;if(A.width===t&&A.height===e)return A;var i=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,e),i.getContext("2d").drawImage(A,0,0,A.width,A.height,0,0,t,e),i},e.prototype.renderBackgroundImage=function(A){return n(this,void 0,void 0,function(){var t,e,n,r,s,o;return i(this,function(a){switch(a.label){case 0:t=A.styles.backgroundImage.length-1,e=function(e){var r,s,o,a,l,c,h,u,d,g,f,B,p,w,m,C,y,Q,F,_,v,U,E,x,b,I,S,H,L,T,M;return i(this,function(i){switch(i.label){case 0:if(0!==e.type)return[3,5];r=void 0,s=e.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.context.cache.match(s)];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),n.context.logger.error("Error loading background-image "+s),[3,4];case 4:return r&&(o=Al(A,t,[r.width,r.height,r.width/r.height]),C=o[0],U=o[1],E=o[2],F=o[3],_=o[4],w=n.ctx.createPattern(n.resizeImage(r,F,_),"repeat"),n.renderRepeat(C,w,U,E)),[3,6];case 5:Hn(e)?(a=Al(A,t,[null,null,null]),C=a[0],U=a[1],E=a[2],F=a[3],_=a[4],l=wn(e.angle,F,_),c=l[0],h=l[1],u=l[2],d=l[3],g=l[4],(f=document.createElement("canvas")).width=F,f.height=_,B=f.getContext("2d"),p=B.createLinearGradient(h,d,u,g),Bn(e.stops,c).forEach(function(A){return p.addColorStop(A.stop,nn(A.color))}),B.fillStyle=p,B.fillRect(0,0,F,_),F>0&&_>0&&(w=n.ctx.createPattern(f,"repeat"),n.renderRepeat(C,w,U,E))):Ln(e)&&(m=Al(A,t,[null,null,null]),C=m[0],y=m[1],Q=m[2],F=m[3],_=m[4],v=0===e.position.length?[Ne]:e.position,U=We(v[0],F),E=We(v[v.length-1],_),x=yn(e,U,E,F,_),b=x[0],I=x[1],b>0&&I>0&&(S=n.ctx.createRadialGradient(y+U,Q+E,0,y+U,Q+E,b),Bn(e.stops,2*b).forEach(function(A){return S.addColorStop(A.stop,nn(A.color))}),n.path(C),n.ctx.fillStyle=S,b!==I?(H=A.bounds.left+.5*A.bounds.width,L=A.bounds.top+.5*A.bounds.height,M=1/(T=I/b),n.ctx.save(),n.ctx.translate(H,L),n.ctx.transform(1,0,0,T,0,0),n.ctx.translate(-H,-L),n.ctx.fillRect(y,M*(Q-L)+L,F,_*M),n.ctx.restore()):n.ctx.fill())),i.label=6;case 6:return t--,[2]}})},n=this,r=0,s=A.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return r<s.length?(o=s[r],[5,e(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,t,e){return n(this,void 0,void 0,function(){return i(this,function(n){return this.path(Va(e,t)),this.ctx.fillStyle=nn(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,t,e,r){return n(this,void 0,void 0,function(){var n,s;return i(this,function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(A,e,r)]:[3,2];case 1:return i.sent(),[2];case 2:return n=Xa(r,e),this.path(n),this.ctx.fillStyle=nn(A),this.ctx.fill(),s=Wa(r,e),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return n(this,void 0,void 0,function(){var t,e,n,r,s,o,a,l,c=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(A.getEffects(2)),t=A.container.styles,e=!en(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],r=dl(il(t.backgroundClip,0),A.curves),e||t.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),en(t.backgroundColor)||(this.ctx.fillStyle=nn(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var e=xa(A.curves),n=t.inset?0:cl,i=Ra(e,-n+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(e),c.ctx.clip(),c.mask(i)):(c.mask(e),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+n,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=nn(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?nn(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),i.label=2;case 2:s=0,o=0,a=n,i.label=3;case 3:return o<a.length?0!==(l=a[o]).style&&!en(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,s,A.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,s,A.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,s,A.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,s,A.curves)];case 10:i.sent(),i.label=11;case 11:s++,i.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,t,e,r,s){return n(this,void 0,void 0,function(){var n,o,a,l,c,h,u,d,g,f,B,p,w,m,C,y;return i(this,function(i){return this.ctx.save(),n=Ya(r,e),o=Va(r,e),2===s&&(this.path(o),this.ctx.clip()),va(o[0])?(a=o[0].start.x,l=o[0].start.y):(a=o[0].x,l=o[0].y),va(o[1])?(c=o[1].end.x,h=o[1].end.y):(c=o[1].x,h=o[1].y),u=0===e||2===e?Math.abs(a-c):Math.abs(l-h),this.ctx.beginPath(),3===s?this.formatPath(n):this.formatPath(o.slice(0,2)),d=t<3?3*t:2*t,g=t<3?2*t:t,3===s&&(d=t,g=t),f=!0,u<=2*d?f=!1:u<=2*d+g?(d*=B=u/(2*d+g),g*=B):(p=Math.floor((u+g)/(d+g)),w=(u-p*d)/(p-1),g=(m=(u-(p+1)*d)/p)<=0||Math.abs(g-w)<Math.abs(g-m)?w:m),f&&(3===s?this.ctx.setLineDash([0,d+g]):this.ctx.setLineDash([d,g])),3===s?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=nn(A),this.ctx.stroke(),this.ctx.setLineDash([]),2===s&&(va(o[0])&&(C=o[3],y=o[0],this.ctx.beginPath(),this.formatPath([new Qa(C.end.x,C.end.y),new Qa(y.start.x,y.start.y)]),this.ctx.stroke()),va(o[1])&&(C=o[1],y=o[2],this.ctx.beginPath(),this.formatPath([new Qa(C.end.x,C.end.y),new Qa(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return n(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Na(A),[4,this.renderStack(t)];case 1:return e.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(ll),ul=function(A){return A instanceof $s||A instanceof qs||A instanceof zs&&A.type!==js&&A.type!==Ys},dl=function(A,t){switch(A){case 0:return xa(t);case 2:return ba(t);default:return Ia(t)}},gl=function(A){switch(A){case 1:return"center";case 2:return"right";default:return"left"}},fl=["-apple-system","system-ui"],Bl=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(A){return-1===fl.indexOf(A)}):A},pl=function(A){function e(t,e){var n=A.call(this,t,e)||this;return n.canvas=e.canvas?e.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=e,n.canvas.width=Math.floor(e.width*e.scale),n.canvas.height=Math.floor(e.height*e.scale),n.canvas.style.width=e.width+"px",n.canvas.style.height=e.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-e.x,-e.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale),n}return t(e,A),e.prototype.render=function(A){return n(this,void 0,void 0,function(){var t,e;return i(this,function(n){switch(n.label){case 0:return t=Qs(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,wl(t)];case 1:return e=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(e,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ll),wl=function(A){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},ml=function(){function A(A){var t=A.id,e=A.enabled;this.id=t,this.enabled=e,this.start=Date.now()}return A.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,r([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,r([this.id,this.getTime()+"ms"],A))},A.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,r([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},A.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,r([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},A.instances={},A}(),Cl=function(){function A(t,e){var n;this.windowBounds=e,this.instanceName="#"+A.instanceCount++,this.logger=new ml({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new da(this,t)}return A.instanceCount=1,A}(),yl=function(A,t){return void 0===t&&(t={}),Ql(A,t)};"undefined"!=typeof window&&ua.setContext(window);var Ql=function(A,t){return n(void 0,void 0,void 0,function(){var n,r,l,c,h,u,d,g,f,B,p,w,m,C,y,Q,F,_,v,U,E,x,b,I,S,H,L,T,M,D,K,R,k,O,P,G,N,V;return i(this,function(i){switch(i.label){case 0:if(!A||"object"!=typeof A)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=A.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=n.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(x=t.allowTaint)&&void 0!==x&&x,imageTimeout:null!==(b=t.imageTimeout)&&void 0!==b?b:15e3,proxy:t.proxy,useCORS:null!==(I=t.useCORS)&&void 0!==I&&I},c=e({logging:null===(S=t.logging)||void 0===S||S,cache:t.cache},l),h={windowWidth:null!==(H=t.windowWidth)&&void 0!==H?H:r.innerWidth,windowHeight:null!==(L=t.windowHeight)&&void 0!==L?L:r.innerHeight,scrollX:null!==(T=t.scrollX)&&void 0!==T?T:r.pageXOffset,scrollY:null!==(M=t.scrollY)&&void 0!==M?M:r.pageYOffset},u=new s(h.scrollX,h.scrollY,h.windowWidth,h.windowHeight),d=new Cl(c,u),g=null!==(D=t.foreignObjectRendering)&&void 0!==D&&D,f={allowTaint:null!==(K=t.allowTaint)&&void 0!==K&&K,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:g,copyStyles:g},d.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),B=new jo(d,A,f),(p=B.clonedReferenceElement)?[4,B.toIFrame(n,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=i.sent(),m=po(p)||fo(p)?a(p.ownerDocument):o(d,p),C=m.width,y=m.height,Q=m.left,F=m.top,_=Fl(d,p,t.backgroundColor),v={canvas:t.canvas,backgroundColor:_,scale:null!==(k=null!==(R=t.scale)&&void 0!==R?R:r.devicePixelRatio)&&void 0!==k?k:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+Q,y:(null!==(P=t.y)&&void 0!==P?P:0)+F,width:null!==(G=t.width)&&void 0!==G?G:Math.ceil(C),height:null!==(N=t.height)&&void 0!==N?N:Math.ceil(y)},g?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new pl(d,v).render(p)]):[3,3];case 2:return U=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+Q+","+F+" with size "+C+"x"+y+" using computed rendering"),d.logger.debug("Starting DOM parsing"),E=io(d,p),_===E.styles.backgroundColor&&(E.styles.backgroundColor=un.TRANSPARENT),d.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),[4,new hl(d,v).render(E)];case 4:U=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(jo.destroy(w)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,U]}})})},Fl=function(A,t,e){var n=t.ownerDocument,i=n.documentElement?hn(A,getComputedStyle(n.documentElement).backgroundColor):un.TRANSPARENT,r=n.body?hn(A,getComputedStyle(n.body).backgroundColor):un.TRANSPARENT,s="string"==typeof e?hn(A,e):null===e?un.TRANSPARENT:4294967295;return t===n.documentElement?en(i)?en(r)?s:r:i:s};return yl}()}},e={};function n(A){var i=e[A];if(void 0!==i)return i.exports;var r=e[A]={id:A,exports:{}};return t[A].call(r.exports,r,r.exports,n),r.exports}n.m=t,A=[],n.O=(t,e,i,r)=>{if(!e){var s=1/0;for(c=0;c<A.length;c++){for(var[e,i,r]=A[c],o=!0,a=0;a<e.length;a++)(!1&r||s>=r)&&Object.keys(n.O).every(A=>n.O[A](e[a]))?e.splice(a--,1):(o=!1,r<s&&(s=r));if(o){A.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=A.length;c>0&&A[c-1][2]>r;c--)A[c]=A[c-1];A[c]=[e,i,r]},n.n=A=>{var t=A&&A.__esModule?()=>A.default:()=>A;return n.d(t,{a:t}),t},n.d=(A,t)=>{for(var e in t)n.o(t,e)&&!n.o(A,e)&&Object.defineProperty(A,e,{enumerable:!0,get:t[e]})},n.o=(A,t)=>Object.prototype.hasOwnProperty.call(A,t),(()=>{var A={222:0,101:0};n.O.j=t=>0===A[t];var t=(t,e)=>{var i,r,[s,o,a]=e,l=0;if(s.some(t=>0!==A[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(a)var c=a(n)}for(t&&t(e);l<s.length;l++)r=s[l],n.o(A,r)&&A[r]&&A[r][0](),A[r]=0;return n.O(c)},e=self.webpackChunk=self.webpackChunk||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))})(),n.nc=void 0,n.O(void 0,[101],()=>n(748));var i=n.O(void 0,[101],()=>n(613));i=n.O(i)})();